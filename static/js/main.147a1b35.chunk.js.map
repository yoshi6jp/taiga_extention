{"version":3,"sources":["components/Controller.module.css","components/PersonalInfo.module.css","actions.ts","store.ts","util/useSideEffector.ts","reducer.ts","sideEffectors/fetchProjects.ts","sideEffectors/fetchProject.ts","sideEffectors/fetchMilestones.ts","sideEffectors/fetchTasks.ts","sideEffectors/fetchTaskStatuses.ts","sideEffectors/fetchCustomAttrs.ts","sideEffectors/fetchCustomValueMap.ts","sideEffectors/fetchUser.ts","sideEffectors/patchCustomValue.ts","sideEffectors/signIn.ts","sideEffectors/index.ts","Provider.tsx","components/ProjectSelector.tsx","components/MilestoneSelector.tsx","components/CustomValuesSelector.tsx","components/DaysSelector.tsx","components/TaskStatusSelector.tsx","components/Controller.tsx","components/UserTasks.tsx","components/UnEstimatedTasks.tsx","components/Chart.tsx","components/OverviewChart.tsx","components/OverView.tsx","components/InputGroupSpinner.tsx","components/UserStory.tsx","components/PersonalTasks.tsx","components/PersonalInfo.tsx","components/PersonalChart.tsx","components/PersonalPage.tsx","App.tsx","serviceWorker.ts","index.tsx","components/UserStory.module.css","components/UserTasks.module.css"],"names":["module","exports","header","avator","ActionTypes","StorageKey","ss","getFromStorage","key","localStorage","getItem","getFromStorageWithSubkey","subkey","concat","setToStorage","item","setItem","setToStorageWithSubkey","initialStateFn","url","URL","pid","PID","mid","MID","custom_eid","CUSTOM_EID","custom_rid","CUSTOM_RID","biz_days_str","BIZ_DAYS","biz_days","_","compact","split","sort","reject_task_status_ids","REJECT_TASK_STATUS_IDS","isOpen","auth_token","auth_error","username","password","user","projects","project","custom_attrs","milestones","tasks","task_statuses","custom_value_map","WeakMap","updated_time","reducer","state","arguments","length","undefined","action","type","SET_URL","payload","Object","objectSpread","SET_PROJECTS","SET_PID","SET_PROJECT","SET_MID","SET_MILESTONES","SET_CUSTOM_EID","SET_CUSTOM_ATTRS","SET_CUSTOM_RID","SET_BIZ_DAYS","join","ADD_BIZ_DAY","biz_day","chain","toConsumableArray","uniq","value","REMOVE_BIZ_DAY","reject","SET_TASKS","SET_TASK_STATUSES","SET_CUSTOM_VALUE_MAP","SET_USER","RESET_USER","ADD_REJECT_TASK_STATUS_ID","reject_task_status_id","REMOVE_REJECT_TASK_STATUS_ID","OPEN_CONTROLLER","CLOSE_CONTROLLER","UPDATE_DATA","Date","now","SIGN_IN","_action$payload","SET_AUTH_TOKEN","axios","defaults","headers","common","SET_AUTH_ERROR","SIGN_OUT","dispatchSideEffector","dispatch","sideEffector","dispatchSECaller","fetchProjecs","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","_state","_ref2","wrap","_context","prev","next","fetchData","sent","data","t0","console","log","stop","_x","_x2","_x3","apply","this","fetchProject","FETCH_PROJECT","fetchMilestones","FETCH_MILESTONES","params","fetchTasks","milestone","FETCH_TASKS","x-disable-pagination","filter","includes","String","status","fetchTaskStatuses","FETCH_TASK_STATUSES","fetchCustomAttrs","FETCH_CUSTOM_ATTRS","fetchCustomValueMap","_callee2","_context2","FETCH_CUSTOM_VALUE_MAP","Promise","all","map","_ref3","custom_attr_val","id","abrupt","_x4","t1","t2","fetchUser","uid","FETCH_USER","patchCustomValue","version","task","custom_value","attributes_values","PATCH_CUSTOM_VALUE","find","has","get","patchData","defineProperty","signIn","postData","path","config","baseUrl","post","patch","rootSideEffector","FETCH_PROJECTS","replace","initialState","RootContext","createContext","Provider","children","_useSideEffector","slicedToArray","dispatchSE","useCallback","useSideEffector","useReducer","_useSideEffector2","useEffect","react_default","createElement","ProjectSelector","_useContext","useContext","_useContext$state","handleChange","e","target","InputGroup","className","InputGroupAddon","addonType","Input","onChange","name","MilestoneSelector","CustomValuesSelector","dayNameFromIdx","date","idx","getMilestone","items","weekClassName","day","text-danger","text-info","DayItem","checked","format","isPlanning","eleId","Fragment","classNames","table-info","biz","isWeekDay","FormGroup","check","inline","Label","disabled","isWeekendDay","UncontrolledTooltip","indexOf","dayName","DaysSelector","_useContext2","_useContext2$state","_useState","useState","_useState2","setItems","startM","moment","estimated_start","local","daysInSprint","estimated_finish","diff","times","i","clone","add","getDays","weekdays","chunk","Card","CardHeader","Table","bordered","days","DaysSelector_DayItem","StatusItem","defaultChecked","TaskStatusSelector","CardBody","TaskStatusSelector_StatusItem","ToggleIcon","rotation","index_es","icon","faChevronCircleRight","Controller","stateUrl","setUrl","handleUrl","handleSubmit","preventDefault","handleHref","stopPropagation","toggle","taskboardUrl","project_extra_info","slug","getTaskboardUrl","styles","onClick","Controller_ToggleIcon","Badge","color","pill","getSpName","head","last","getRange","href","rel","faExternalLinkAlt","Collapse","Form","onSubmit","defaultValue","placeholder","Button","ProjectSelector_ProjectSelector","MilestoneSelector_MilestoneSelector","CustomValuesSelector_CustomValuesSelector","DaysSelector_DaysSelector","TaskStatusSelector_TaskStatusSelector","barStyles","getTasksByUser","groupBy","getCustomVal","val","Number","sum","getCustomValVersion","custon_value_map","isCustomValValid","r","is_closed","isCustomValInvalid","NameAndWorkLoad","total","imgSrc","src","alt","tblCls","faGrinBeam","faGrinBeamSweat","faDizzy","Medal","_getGrade","isNumber","Math","abs","getGrade","_getGrade2","grade","num","faMedal","UserRow","sums","isPast","hpd","closedTasks","customTotal","setTotal","_useState3","_useState4","progressTotal","setProgressTotal","sumItem","margedTotal","totalStr","photo","random","closed_status","orderBy","reverse","closedTotals","mapValues","ts","reduce","result","t","label","status_extra_info","style","sortedTotals","UserTasks_NameAndWorkLoad","custom_input_td","bsSize","step","react_router_dom","to","Progress","multi","bar","max","UserTasks_Medal","getCustomAttr","UserTasks","members","_useState5","_useState6","setHpd","_useState7","_useState8","activeLen","updateData","disableSubmit","taskSumByUser","eid","rid","getTaskSumByUser","customAttrE","customAttrR","unassignedSum","endOf","tasksByUser","Navbar","light","InputGroupText","faTimes","faEquals","faSyncAlt","UserTasks_UserRow","TaskItem","ref","ListGroupItem","tag","subject","UnEstimatedTasks","ListGroup","UnEstimatedTasks_TaskItem","getTaskCreated","created_date","getSumVal","Chart","setData","days_len","allTaskVal","estimate","getTaskCreatedToday","finished_date","getTaskFinished","es6","width","height","dataKey","fill","stackId","OverviewChart","Chart_Chart","OverView","react","UserTasks_UserTasks","UnEstimatedTasks_UnEstimatedTasks","OverviewChart_OverviewChart","InputGroupSpinner","faSpinner","UserStoryLink","user_story_extra_info","usName","title","TaskLink","taskName","ToggleNumberInput","valid","invalid","loading","setChecked","setVal","evt","currentTarget","handleVal","handeSubmit","toggle_input","InputGroupSpinner_InputGroupSpinner","InputGroupText_default","faHandPointRight","onInput","min","faCloudUploadAlt","readOnly","faEdit","Grade","_ref4","display_medal","medal","_ref5","onSubmitE","onSubmitR","ListGroupItem_default","UserStory_TaskLink","Row","Col","UserStory_ToggleNumberInput","UserStory_Grade","UserStory","_ref6","setIsOpen","UserStory_UserStoryLink","ListGroup_default","UserStory_TaskItem","PersonalTasks","userInfo","userStories","setUserStories","userTasks","assigned_to","b","user_story","every","_items$reduce","_items$reduce2","some","UserStory_UserStory","PersonalInfo","PersonalChart","setUserTasks","SignInForm","sign_in_username","setUsername","setPassword","setLoading","handleUsername","handlePassword","handleSignOut","faUser","faSignOutAlt","faKey","Spinner","size","faSignInAlt","PersonalPage","props","useRouter","match","Link","faArrowCircleLeft","PersonalPage_SignInForm","PersonalInfo_PersonalInfo","PersonalTasks_PersonalTasks","PersonalChart_PersonalChart","Alert","App","Provider_Provider","Controller_Controller","react_router","exact","component","Boolean","window","location","hostname","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","gold","silver","bronze"],"mappings":"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","file":"static/js/main.147a1b35.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Controller_header__1l3a3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avator\":\"PersonalInfo_avator__YLWcN\"};","import {\n  IProject,\n  IMilestone,\n  ICustomAttr,\n  ITask,\n  ICustomValueMap,\n  ITaskStatus,\n  IUser\n} from \"./store\";\n\nexport enum ActionTypes {\n  SET_URL = \"SET_URL\",\n  SIGN_IN = \"SIGN_IN\",\n  SET_AUTH_TOKEN = \"SET_AUTH_TOKEN\",\n  SET_AUTH_ERROR = \"SET_AUTH_ERROR\",\n  SIGN_OUT = \"SIGN_OUT\",\n  FETCH_PROJECTS = \"FETCH_PROJECTS\",\n  SET_PROJECTS = \"SET_PROJECTS\",\n  SET_PID = \"SET_PID\",\n  FETCH_PROJECT = \"FETCH_PROJECT\",\n  SET_PROJECT = \"SET_PROJECT\",\n  FETCH_MILESTONES = \"FETCH_MILESTONES\",\n  SET_MID = \"SET_MID\",\n  SET_MILESTONES = \"SET_MILESTONES\",\n  SET_CUSTOM_EID = \"SET_CUSTOM_EID\",\n  SET_CUSTOM_RID = \"SET_CUSTOM_RID\",\n  FETCH_CUSTOM_ATTRS = \"FETCH_CUSTOM_ATTRS\",\n  SET_CUSTOM_ATTRS = \"SET_CUSTOM_ATTRS\",\n  SET_BIZ_DAYS = \"SET_BIZ_DAYS\",\n  ADD_BIZ_DAY = \"ADD_BIZ_DAY\",\n  REMOVE_BIZ_DAY = \"REMOVE_BIZ_DAY\",\n  FETCH_TASKS = \"FETCH_TASKS\",\n  SET_TASKS = \"SET_TASKS\",\n  FETCH_TASK_STATUSES = \"FETCH_TASK_STATUSES\",\n  SET_TASK_STATUSES = \"SET_TASK_STATUSES\",\n  FETCH_CUSTOM_VALUE_MAP = \"FETCH_CUSTOM_VALUE_MAP\",\n  SET_CUSTOM_VALUE_MAP = \"SET_CUSTOM_VALUE_MAP\",\n  PATCH_CUSTOM_VALUE = \"PATCH_CUSTOM_VALUE\",\n  FETCH_USER = \"FETCH_USER\",\n  SET_USER = \"SET_USER\",\n  RESET_USER = \"RESET_USER\",\n  ADD_REJECT_TASK_STATUS_ID = \"ADD_REJECT_TASK_STATUS\",\n  REMOVE_REJECT_TASK_STATUS_ID = \"REMOVE_REJECT_TASK_STATUS\",\n  OPEN_CONTROLLER = \"OPEN_CONTROLLER\",\n  CLOSE_CONTROLLER = \"CLOSE_CONTROLLER\",\n  UPDATE_DATA = \"UPDATE_DATA\"\n}\n\nexport interface IAction {\n  type: ActionTypes;\n  payload?: any;\n  meta?: { [key: string]: any };\n}\n\nexport interface SET_URL extends IAction {\n  type: ActionTypes.SET_URL;\n  payload: { url: string };\n}\nexport interface SIGN_IN extends IAction {\n  type: ActionTypes.SIGN_IN;\n  payload: { username: string; password: string };\n}\nexport interface SET_AUTH_TOKEN extends IAction {\n  type: ActionTypes.SET_AUTH_TOKEN;\n  payload: { auth_token: string };\n}\nexport interface SET_AUTH_ERROR extends IAction {\n  type: ActionTypes.SET_AUTH_ERROR;\n}\nexport interface SIGN_OUT extends IAction {\n  type: ActionTypes.SIGN_OUT;\n}\nexport interface FETCH_PROJECTS extends IAction {\n  type: ActionTypes.FETCH_PROJECTS;\n}\nexport interface SET_PROJECTS extends IAction {\n  type: ActionTypes.SET_PROJECTS;\n  payload: { projects: IProject[] };\n}\n\nexport interface SET_PID extends IAction {\n  type: ActionTypes.SET_PID;\n  payload: { pid: string };\n}\nexport interface FETCH_PROJECT extends IAction {\n  type: ActionTypes.FETCH_PROJECT;\n  payload: { pid: string };\n}\nexport interface SET_PROJECT extends IAction {\n  type: ActionTypes.SET_PROJECT;\n  payload: { project: IProject };\n}\nexport interface FETCH_MILESTONES extends IAction {\n  type: ActionTypes.FETCH_MILESTONES;\n  payload: { project: string };\n}\nexport interface SET_MILESTONES extends IAction {\n  type: ActionTypes.SET_MILESTONES;\n  payload: { milestones: IMilestone[] };\n}\n\nexport interface SET_MID extends IAction {\n  type: ActionTypes.SET_MID;\n  payload: { mid: string };\n}\n\nexport interface SET_CUSTOM_EID extends IAction {\n  type: ActionTypes.SET_CUSTOM_EID;\n  payload: { custom_eid: string };\n}\n\nexport interface SET_CUSTOM_RID extends IAction {\n  type: ActionTypes.SET_CUSTOM_RID;\n  payload: { custom_rid: string };\n}\n\nexport interface FETCH_CUSTOM_ATTRS extends IAction {\n  type: ActionTypes.FETCH_CUSTOM_ATTRS;\n  payload: { project: string };\n}\nexport interface SET_CUSTOM_ATTRS extends IAction {\n  type: ActionTypes.SET_CUSTOM_ATTRS;\n  payload: { custom_attrs: ICustomAttr[] };\n}\n\nexport interface SET_BIZ_DAYS extends IAction {\n  type: ActionTypes.SET_BIZ_DAYS;\n  payload: { biz_days: string[] };\n}\n\nexport interface ADD_BIZ_DAY extends IAction {\n  type: ActionTypes.ADD_BIZ_DAY;\n  payload: { biz_day: string };\n}\n\nexport interface REMOVE_BIZ_DAY extends IAction {\n  type: ActionTypes.REMOVE_BIZ_DAY;\n  payload: { biz_day: string };\n}\n\nexport interface FETCH_TASKS extends IAction {\n  type: ActionTypes.FETCH_TASKS;\n  payload: { milestone: string; reject_task_status_ids: string[] };\n}\nexport interface SET_TASKS extends IAction {\n  type: ActionTypes.SET_TASKS;\n  payload: { tasks: ITask[] };\n}\nexport interface FETCH_CUSTOM_VALUE_MAP extends IAction {\n  type: ActionTypes.FETCH_CUSTOM_VALUE_MAP;\n  payload: { tasks: ITask[] };\n}\nexport interface SET_CUSTOM_VALUE_MAP extends IAction {\n  type: ActionTypes.SET_CUSTOM_VALUE_MAP;\n  payload: { custom_value_map: ICustomValueMap };\n}\nexport interface PATCH_CUSTOM_VALUE extends IAction {\n  type: ActionTypes.PATCH_CUSTOM_VALUE;\n  payload: {\n    id: string | number;\n    key: string;\n    value: string | number;\n    version: number;\n  };\n}\nexport interface FETCH_TASK_STATUSES extends IAction {\n  type: ActionTypes.FETCH_TASK_STATUSES;\n  payload: { project: string };\n}\nexport interface SET_TASK_STATUSES extends IAction {\n  type: ActionTypes.SET_TASK_STATUSES;\n  payload: { task_statuses: ITaskStatus[] };\n}\nexport interface FETCH_USER extends IAction {\n  type: ActionTypes.FETCH_USER;\n  payload: { uid: string };\n}\nexport interface SET_USER extends IAction {\n  type: ActionTypes.SET_USER;\n  payload: { user: IUser };\n}\nexport interface RESET_USER extends IAction {\n  type: ActionTypes.RESET_USER;\n}\nexport interface ADD_REJECT_TASK_STATUS_ID extends IAction {\n  type: ActionTypes.ADD_REJECT_TASK_STATUS_ID;\n  payload: { reject_task_status_id: string };\n}\n\nexport interface REMOVE_REJECT_TASK_STATUS_ID extends IAction {\n  type: ActionTypes.REMOVE_REJECT_TASK_STATUS_ID;\n  payload: { reject_task_status_id: string };\n}\n\nexport interface OPEN_CONTROLLER extends IAction {\n  type: ActionTypes.OPEN_CONTROLLER;\n}\n\nexport interface CLOSE_CONTROLLER extends IAction {\n  type: ActionTypes.CLOSE_CONTROLLER;\n}\n\nexport interface UPDATE_DATA extends IAction {\n  type: ActionTypes.UPDATE_DATA;\n}\n\nexport type Actions =\n  | SET_URL\n  | SIGN_IN\n  | SET_AUTH_TOKEN\n  | SET_AUTH_ERROR\n  | SIGN_OUT\n  | FETCH_PROJECTS\n  | SET_PROJECTS\n  | SET_PID\n  | FETCH_PROJECT\n  | SET_PROJECT\n  | FETCH_MILESTONES\n  | SET_MILESTONES\n  | SET_MID\n  | SET_CUSTOM_EID\n  | SET_CUSTOM_RID\n  | FETCH_CUSTOM_ATTRS\n  | SET_CUSTOM_ATTRS\n  | PATCH_CUSTOM_VALUE\n  | SET_BIZ_DAYS\n  | SET_BIZ_DAYS\n  | ADD_BIZ_DAY\n  | REMOVE_BIZ_DAY\n  | FETCH_TASKS\n  | SET_TASKS\n  | FETCH_CUSTOM_VALUE_MAP\n  | SET_CUSTOM_VALUE_MAP\n  | FETCH_TASK_STATUSES\n  | SET_TASK_STATUSES\n  | FETCH_USER\n  | SET_USER\n  | RESET_USER\n  | ADD_REJECT_TASK_STATUS_ID\n  | REMOVE_REJECT_TASK_STATUS_ID\n  | OPEN_CONTROLLER\n  | CLOSE_CONTROLLER\n  | UPDATE_DATA;\n","import _ from \"lodash\";\nexport interface ICustomAttr {\n  id: number;\n  name: string;\n}\nexport interface IAuthToken {\n  auth_token: string;\n}\nexport interface IMilestone {\n  id: number;\n  name: string;\n  estimated_start: string;\n  estimated_finish: string;\n  slug: string;\n  project: number;\n  project_extra_info: IProjectExtraInfo;\n}\ninterface IProjectExtraInfo {\n  id: number;\n  name: string;\n  slug: string;\n}\ninterface IStatusExtraInfo {\n  name: string;\n  is_closed: boolean;\n}\ninterface IUserStoryExtraInfo {\n  id: number;\n  subject: string;\n  epics: any;\n  ref: number;\n}\nexport interface ITask {\n  id: number;\n  assigned_to: number | null;\n  created_date: string;\n  finished_date: string;\n  is_closed: boolean;\n  subject: string;\n  ref: number;\n  project: number;\n  project_extra_info: IProjectExtraInfo;\n  status: number;\n  status_extra_info: IStatusExtraInfo;\n  user_story: number;\n  user_story_extra_info?: IUserStoryExtraInfo;\n}\nexport interface ITasksByUserStory {\n  user_story: number;\n  user_story_extra_info?: IUserStoryExtraInfo;\n  tasks: ITask[];\n  is_closed: boolean;\n}\nexport interface ITaskStatus {\n  id: number;\n  name: string;\n  order: number;\n  project: number;\n  is_closed: boolean;\n  slug: string;\n}\nexport interface IAttrValue {}\nexport interface ICustomValue {\n  attributes_values: {\n    [key: number]: string;\n  };\n  version: number;\n}\nexport interface IUser {\n  id: number;\n  username: string;\n  full_name: string;\n  full_name_display: string;\n  photo: string;\n}\nexport interface IProject {\n  id: number;\n  name: string;\n  members: IUser[];\n}\nexport type ICustomValueMap = WeakMap<ITask, ICustomValue>;\nexport interface IState {\n  url: string;\n  auth_token: string;\n  auth_error: boolean;\n  username: string;\n  password: string;\n  user: IUser | null;\n  projects: IProject[];\n  pid: string; // url\n  project: IProject;\n  mid: string; // url\n  custom_eid: string; //  pid\n  custom_rid: string; // pid\n  custom_attrs: ICustomAttr[]; // pid\n  biz_days: string[]; //mid\n  milestones: IMilestone[]; // pid\n  tasks: ITask[]; //mid\n  task_statuses: ITaskStatus[];\n  custom_value_map: ICustomValueMap; // pid\n  reject_task_status_ids: string[]; // pid\n  updated_time: number;\n  isOpen: boolean;\n}\n\nexport enum StorageKey {\n  URL = \"taiga_url\",\n  PID = \"taiga_pid\",\n  MID = \"taiga_mid\",\n  CUSTOM_EID = \"taiga_custom_eid\",\n  CUSTOM_RID = \"taiga_custom_rid\",\n  BIZ_DAYS = \"taiga_biz_days\",\n  REJECT_TASK_STATUS_IDS = \"reject_task_status_ids\"\n}\n\nexport const getFromStorage = (key: string) => localStorage.getItem(key) || \"\";\n\nexport const getFromStorageWithSubkey = (key: StorageKey, subkey: string) =>\n  subkey ? getFromStorage(`${subkey}/${key}`) : \"\";\n\nexport const setToStorage = (key: string, item: string) => {\n  localStorage.setItem(key, item);\n};\nexport const setToStorageWithSubkey = (\n  key: StorageKey,\n  subkey: string,\n  item: string\n) => (subkey ? setToStorage(`${subkey}/${key}`, item) : null);\nexport const initialStateFn = (): IState => {\n  const url = getFromStorage(StorageKey.URL);\n  const pid = getFromStorage(StorageKey.PID);\n  const mid = getFromStorage(StorageKey.MID);\n  const custom_eid = getFromStorageWithSubkey(StorageKey.CUSTOM_EID, pid);\n  const custom_rid = getFromStorageWithSubkey(StorageKey.CUSTOM_RID, pid);\n  const biz_days_str = getFromStorageWithSubkey(StorageKey.BIZ_DAYS, mid);\n  const biz_days = _.compact(biz_days_str.split(\",\")).sort();\n  const reject_task_status_ids = _.compact(\n    getFromStorageWithSubkey(StorageKey.REJECT_TASK_STATUS_IDS, pid).split(\",\")\n  );\n  const isOpen = !(url && pid && mid && custom_eid && custom_rid);\n  return {\n    url,\n    auth_token: \"\",\n    auth_error: false,\n    username: \"\",\n    password: \"\",\n    user: null,\n    projects: [],\n    pid,\n    project: {} as IProject,\n    mid,\n    custom_eid,\n    custom_rid,\n    custom_attrs: [],\n    biz_days,\n    milestones: [],\n    tasks: [],\n    task_statuses: [],\n    custom_value_map: new WeakMap(),\n    reject_task_status_ids,\n    updated_time: 0,\n    isOpen\n  };\n};\n","import { Dispatch, useCallback } from \"react\";\n\nexport type SideEffector<S, A> = (\n  action: A,\n  dispatch: Dispatch<A>,\n  state: () => S\n) => void;\nlet ss: any;\nexport const useSideEffector = <S, A>(\n  [state, dispatch]: [S, Dispatch<A>],\n  sideEffector: SideEffector<S, A>\n): [S, Dispatch<A>] => {\n  let dispatchSE: Dispatch<A> | null = null;\n\n  const dispatchSECaller = useCallback(\n    (action: A) => {\n      dispatchSE && dispatchSE(action);\n    },\n    [dispatchSE]\n  );\n  ss = state;\n  const getState = () => ss;\n  dispatchSE = useCallback(\n    dispatchSideEffector<S, A>(\n      getState,\n      dispatch,\n      sideEffector,\n      dispatchSECaller\n    ),\n    []\n  );\n  return [state, dispatchSE];\n};\n\nconst dispatchSideEffector = <S, A>(\n  state: () => S,\n  dispatch: Dispatch<A>,\n  sideEffector: SideEffector<S, A>,\n  dispatchSECaller: Dispatch<A>\n) => (action: A) => {\n  dispatch(action);\n  sideEffector(action, dispatchSECaller, state);\n};\n","import _ from \"lodash\";\nimport axios from \"axios\";\nimport { initialStateFn, StorageKey, IProject, ICustomValueMap } from \"./store\";\nimport { ActionTypes, Actions } from \"./actions\";\nimport {\n  setToStorage,\n  setToStorageWithSubkey,\n  getFromStorageWithSubkey\n} from \"./store\";\nexport const reducer = (state = initialStateFn(), action: Actions) => {\n  switch (action.type) {\n    case ActionTypes.SET_URL: {\n      const { url } = action.payload;\n      setToStorage(StorageKey.URL, url);\n      return { ...state, url };\n    }\n    case ActionTypes.SET_PROJECTS: {\n      const { projects } = action.payload;\n      return {\n        ...state,\n        projects\n      };\n    }\n    case ActionTypes.SET_PID: {\n      const { pid } = action.payload;\n      setToStorage(StorageKey.PID, pid);\n      return {\n        ...state,\n        pid,\n        project: {} as IProject,\n        mid: \"\",\n        custom_eid: getFromStorageWithSubkey(StorageKey.CUSTOM_EID, pid),\n        custom_rid: getFromStorageWithSubkey(StorageKey.CUSTOM_RID, pid),\n        custom_attrs: [],\n        milestones: [],\n        custom_value_map: new WeakMap() as ICustomValueMap\n      };\n    }\n    case ActionTypes.SET_PROJECT: {\n      const { project } = action.payload;\n      return {\n        ...state,\n        project\n      };\n    }\n    case ActionTypes.SET_MID: {\n      const { mid } = action.payload;\n      setToStorage(StorageKey.MID, mid);\n      return {\n        ...state,\n        mid,\n        tasks: [],\n        biz_days: _.compact(\n          getFromStorageWithSubkey(StorageKey.BIZ_DAYS, mid).split(\",\")\n        ).sort()\n      };\n    }\n    case ActionTypes.SET_MILESTONES: {\n      const { milestones } = action.payload;\n      return { ...state, milestones };\n    }\n    case ActionTypes.SET_CUSTOM_EID: {\n      const { custom_eid } = action.payload;\n      setToStorageWithSubkey(StorageKey.CUSTOM_EID, state.pid, custom_eid);\n      return { ...state, custom_eid };\n    }\n    case ActionTypes.SET_CUSTOM_ATTRS: {\n      const { custom_attrs } = action.payload;\n      return { ...state, custom_attrs };\n    }\n    case ActionTypes.SET_CUSTOM_RID: {\n      const { custom_rid } = action.payload;\n      setToStorageWithSubkey(StorageKey.CUSTOM_RID, state.pid, custom_rid);\n      return { ...state, custom_rid };\n    }\n    case ActionTypes.SET_BIZ_DAYS: {\n      const { biz_days } = action.payload;\n      setToStorageWithSubkey(\n        StorageKey.BIZ_DAYS,\n        state.mid,\n        biz_days.join(\",\")\n      );\n      return { ...state, biz_days };\n    }\n    case ActionTypes.ADD_BIZ_DAY: {\n      const { biz_day } = action.payload;\n      const biz_days = _.chain([...state.biz_days, biz_day])\n        .uniq()\n        .sort()\n        .value();\n      setToStorageWithSubkey(\n        StorageKey.BIZ_DAYS,\n        state.mid,\n        biz_days.join(\",\")\n      );\n      return { ...state, biz_days };\n    }\n    case ActionTypes.REMOVE_BIZ_DAY: {\n      const { biz_day } = action.payload;\n      const biz_days = _.reject([...state.biz_days], item => item === biz_day);\n      setToStorageWithSubkey(\n        StorageKey.BIZ_DAYS,\n        state.mid,\n        biz_days.join(\",\")\n      );\n      return { ...state, biz_days };\n    }\n    case ActionTypes.SET_TASKS: {\n      const { tasks } = action.payload;\n      return { ...state, tasks };\n    }\n    case ActionTypes.SET_TASK_STATUSES: {\n      const { task_statuses } = action.payload;\n      return { ...state, task_statuses };\n    }\n    case ActionTypes.SET_CUSTOM_VALUE_MAP: {\n      const { custom_value_map } = action.payload;\n      return { ...state, custom_value_map };\n    }\n    case ActionTypes.SET_USER: {\n      const { user } = action.payload;\n      return { ...state, user };\n    }\n    case ActionTypes.RESET_USER: {\n      return { ...state, user: null };\n    }\n    case ActionTypes.ADD_REJECT_TASK_STATUS_ID: {\n      const { reject_task_status_id } = action.payload;\n      const reject_task_status_ids = _.chain([\n        ...state.reject_task_status_ids,\n        reject_task_status_id\n      ])\n        .compact()\n        .uniq()\n        .value();\n      setToStorageWithSubkey(\n        StorageKey.REJECT_TASK_STATUS_IDS,\n        state.pid,\n        reject_task_status_ids.join(\",\")\n      );\n      return { ...state, reject_task_status_ids };\n    }\n    case ActionTypes.REMOVE_REJECT_TASK_STATUS_ID: {\n      const { reject_task_status_id } = action.payload;\n      const reject_task_status_ids = _.reject(\n        [...state.reject_task_status_ids],\n        item => item === reject_task_status_id\n      );\n      setToStorageWithSubkey(\n        StorageKey.REJECT_TASK_STATUS_IDS,\n        state.pid,\n        reject_task_status_ids.join(\",\")\n      );\n      return { ...state, reject_task_status_ids };\n    }\n    case ActionTypes.OPEN_CONTROLLER: {\n      return { ...state, isOpen: true };\n    }\n    case ActionTypes.CLOSE_CONTROLLER: {\n      return { ...state, isOpen: false };\n    }\n    case ActionTypes.UPDATE_DATA: {\n      return { ...state, updated_time: Date.now() };\n    }\n    case ActionTypes.SIGN_IN: {\n      const { username, password } = action.payload;\n      return { ...state, username, password, auth_error: false };\n    }\n    case ActionTypes.SET_AUTH_TOKEN: {\n      const { auth_token } = action.payload;\n      axios.defaults.headers.common[\"Authorization\"] = `Bearer ${auth_token}`;\n      return { ...state, auth_token };\n    }\n    case ActionTypes.SET_AUTH_ERROR: {\n      return { ...state, auth_error: true };\n    }\n    case ActionTypes.SIGN_OUT: {\n      if (axios.defaults.headers.common[\"Authorization\"]) {\n        delete axios.defaults.headers.common[\"Authorization\"];\n      }\n      return { ...state, auth_token: \"\", username: \"\", password: \"\" };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n","import { ActionTypes } from \"../actions\";\nimport { IProject } from \"../store\";\nimport { ISideEffector, fetchData } from \".\";\nexport const fetchProjecs: ISideEffector = async (action, dispatch, state) => {\n  try {\n    const { url } = state();\n    if (url) {\n      const { data: projects } = await fetchData<IProject[]>(url, \"projects\");\n      dispatch({ type: ActionTypes.SET_PROJECTS, payload: { projects } });\n    }\n  } catch (e) {\n    console.log(\"err:fetchProjects\", e);\n  }\n};\n","import { ActionTypes } from \"../actions\";\nimport { IProject } from \"../store\";\nimport { ISideEffector, fetchData } from \".\";\nexport const fetchProject: ISideEffector = async (action, dispatch, state) => {\n  if (action.type === ActionTypes.FETCH_PROJECT) {\n    try {\n      const { url } = state();\n      const { pid } = action.payload;\n      if (url && pid) {\n        const { data: project } = await fetchData<IProject>(\n          url,\n          `projects/${pid}`\n        );\n        dispatch({\n          type: ActionTypes.SET_PROJECT,\n          payload: { project }\n        });\n      }\n    } catch (e) {\n      console.log(\"err:fetchProject\", e);\n    }\n  }\n};\n","import { ActionTypes } from \"../actions\";\nimport { IMilestone } from \"../store\";\nimport { ISideEffector, fetchData } from \".\";\nexport const fetchMilestones: ISideEffector = async (\n  action,\n  dispatch,\n  state\n) => {\n  if (action.type === ActionTypes.FETCH_MILESTONES) {\n    try {\n      const { url } = state();\n      const { project } = action.payload;\n      if (url && project) {\n        const { data: milestones } = await fetchData<IMilestone[]>(\n          url,\n          \"milestones\",\n          { params: { project } }\n        );\n        dispatch({ type: ActionTypes.SET_MILESTONES, payload: { milestones } });\n      }\n    } catch (e) {\n      console.log(\"err:fetchMilestones\", e);\n    }\n  }\n};\n","import { ActionTypes } from \"../actions\";\nimport { ITask } from \"../store\";\nimport { ISideEffector, fetchData } from \".\";\nimport _ from \"lodash\";\nexport const fetchTasks: ISideEffector = async (action, dispatch, state) => {\n  if (action.type === ActionTypes.FETCH_TASKS) {\n    try {\n      const { url, reject_task_status_ids } = state();\n      const { milestone } = action.payload;\n      if (url && milestone) {\n        const { data } = await fetchData<ITask[]>(url, \"tasks\", {\n          headers: { \"x-disable-pagination\": true },\n          params: { milestone }\n        });\n        const tasks = data.filter(\n          item => !_.includes(reject_task_status_ids, String(item.status))\n        );\n        dispatch({ type: ActionTypes.SET_TASKS, payload: { tasks } });\n      }\n    } catch (e) {\n      console.log(\"err:fetchTasks\", e);\n    }\n  }\n};\n","import { ActionTypes } from \"../actions\";\nimport { ITaskStatus } from \"../store\";\nimport { ISideEffector, fetchData } from \".\";\nexport const fetchTaskStatuses: ISideEffector = async (\n  action,\n  dispatch,\n  state\n) => {\n  if (action.type === ActionTypes.FETCH_TASK_STATUSES) {\n    try {\n      const { url } = state();\n      const { project } = action.payload;\n      if (url && project) {\n        const { data: task_statuses } = await fetchData<ITaskStatus[]>(\n          url,\n          \"task-statuses\",\n          { params: { project } }\n        );\n        dispatch({\n          type: ActionTypes.SET_TASK_STATUSES,\n          payload: { task_statuses }\n        });\n      }\n    } catch (e) {\n      console.log(\"err:fetchTaskStatuses\", e);\n    }\n  }\n};\n","import { ActionTypes } from \"../actions\";\nimport { ICustomAttr } from \"../store\";\nimport { ISideEffector, fetchData } from \".\";\nexport const fetchCustomAttrs: ISideEffector = async (\n  action,\n  dispatch,\n  state\n) => {\n  if (action.type === ActionTypes.FETCH_CUSTOM_ATTRS) {\n    try {\n      const { url } = state();\n      const { project } = action.payload;\n      if (url && project) {\n        const { data: custom_attrs } = await fetchData<ICustomAttr[]>(\n          url,\n          \"task-custom-attributes\",\n          { params: { project } }\n        );\n        dispatch({\n          type: ActionTypes.SET_CUSTOM_ATTRS,\n          payload: { custom_attrs }\n        });\n      }\n    } catch (e) {\n      console.log(\"err:fetchCustomAttrs\", e);\n    }\n  }\n};\n","import { ActionTypes } from \"../actions\";\nimport { ITask, ICustomValue } from \"../store\";\nimport { ISideEffector, fetchData } from \".\";\nexport const fetchCustomValueMap: ISideEffector = async (\n  action,\n  dispatch,\n  state\n) => {\n  if (action.type === ActionTypes.FETCH_CUSTOM_VALUE_MAP) {\n    try {\n      const { url, custom_eid, custom_rid } = state();\n      const { tasks } = action.payload;\n      if (url && tasks.length && custom_eid && custom_rid) {\n        const custom_value_map = new WeakMap(\n          await Promise.all(\n            tasks.map(async item => {\n              const { data: custom_attr_val } = await fetchData<ICustomValue>(\n                url,\n                `tasks/custom-attributes-values/${item.id}`\n              );\n              return [item, custom_attr_val] as [ITask, ICustomValue];\n            })\n          )\n        );\n        dispatch({\n          type: ActionTypes.SET_CUSTOM_VALUE_MAP,\n          payload: { custom_value_map }\n        });\n      }\n    } catch (e) {\n      console.log(\"err:fetchCustomValueMap\", e);\n    }\n  }\n};\n","import { ActionTypes } from \"../actions\";\nimport { IUser } from \"../store\";\nimport { ISideEffector, fetchData } from \".\";\nexport const fetchUser: ISideEffector = async (action, dispatch, state) => {\n  if (action.type === ActionTypes.FETCH_USER) {\n    try {\n      const { url } = state();\n      const { uid } = action.payload;\n      if (url && uid) {\n        const { data: user } = await fetchData<IUser>(url, `users/${uid}`);\n        dispatch({\n          type: ActionTypes.SET_USER,\n          payload: { user }\n        });\n      }\n    } catch (e) {\n      console.log(\"err:fetchUser\", e);\n    }\n  }\n};\n","import { ActionTypes } from \"../actions\";\nimport { ISideEffector, patchData } from \".\";\nexport const patchCustomValue: ISideEffector = async (\n  action,\n  dispatch,\n  state\n) => {\n  if (action.type === ActionTypes.PATCH_CUSTOM_VALUE) {\n    try {\n      const { url, custom_value_map, tasks } = state();\n      const { id, key, value, version } = action.payload;\n      const task = tasks.find(task => task.id === id);\n      if (url && id && key && value && task && custom_value_map.has(task)) {\n        const custom_value = custom_value_map.get(task);\n        if (custom_value) {\n          const { attributes_values } = custom_value;\n          await patchData(url, `tasks/custom-attributes-values/${id}`, {\n            attributes_values: {\n              ...attributes_values,\n              [key]: String(value)\n            },\n            version\n          });\n          dispatch({ type: ActionTypes.UPDATE_DATA });\n        }\n      }\n    } catch (e) {\n      console.log(\"err:patchCustomValue\", e);\n    }\n  }\n};\n","import { ActionTypes } from \"../actions\";\nimport { IAuthToken } from \"../store\";\nimport { ISideEffector, postData } from \".\";\nexport const signIn: ISideEffector = async (action, dispatch, state) => {\n  if (action.type === ActionTypes.SIGN_IN) {\n    try {\n      const { url } = state();\n      const { username, password } = action.payload;\n      if (url && username && password) {\n        const {\n          data: { auth_token }\n        } = await postData<IAuthToken>(url, \"auth\", {\n          username,\n          password,\n          type: \"normal\"\n        });\n        dispatch({ type: ActionTypes.SET_AUTH_TOKEN, payload: { auth_token } });\n      }\n    } catch (e) {\n      dispatch({ type: ActionTypes.SET_AUTH_ERROR });\n      console.log(\"err:signIn\", e);\n    }\n  }\n};\n","import { Dispatch } from \"react\";\nimport { Actions, ActionTypes } from \"../actions\";\nimport { IState } from \"../store\";\nimport { baseUrl } from \"../Provider\";\nimport { fetchProjecs } from \"./fetchProjects\";\nimport { fetchProject } from \"./fetchProject\";\nimport { fetchMilestones } from \"./fetchMilestones\";\nimport { fetchTasks } from \"./fetchTasks\";\nimport { fetchTaskStatuses } from \"./fetchTaskStatuses\";\nimport { fetchCustomAttrs } from \"./fetchCustomAttrs\";\nimport { fetchCustomValueMap } from \"./fetchCustomValueMap\";\nimport { fetchUser } from \"./fetchUser\";\nimport { patchCustomValue } from \"./patchCustomValue\";\nimport { signIn } from \"./signIn\";\nimport axios, { AxiosRequestConfig } from \"axios\";\nexport type ISideEffector = (\n  action: Actions,\n  dispatch: Dispatch<Actions>,\n  state: () => IState\n) => void;\nexport const fetchData = <T>(\n  url: string,\n  path: string,\n  config?: AxiosRequestConfig\n) => axios.get<T>(`${baseUrl(url)}/${path}`, config);\nexport const postData = <T>(\n  url: string,\n  path: string,\n  data: object,\n  config?: AxiosRequestConfig\n) => axios.post<T>(`${baseUrl(url)}/${path}`, data, config);\nexport const patchData = (\n  url: string,\n  path: string,\n  data: object,\n  config?: AxiosRequestConfig\n) => axios.patch(`${baseUrl(url)}/${path}`, data, config);\nexport const rootSideEffector = (\n  action: Actions,\n  dispatch: Dispatch<Actions>,\n  state: () => IState\n) => {\n  switch (action.type) {\n    case ActionTypes.FETCH_PROJECTS: {\n      fetchProjecs(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.FETCH_PROJECT: {\n      fetchProject(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.FETCH_MILESTONES: {\n      fetchMilestones(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.FETCH_TASKS: {\n      fetchTasks(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.FETCH_TASK_STATUSES: {\n      fetchTaskStatuses(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.FETCH_CUSTOM_ATTRS: {\n      fetchCustomAttrs(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.FETCH_CUSTOM_VALUE_MAP: {\n      fetchCustomValueMap(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.FETCH_USER: {\n      fetchUser(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.PATCH_CUSTOM_VALUE: {\n      patchCustomValue(action, dispatch, state);\n      console.log(\"patch\", action);\n      return;\n    }\n    case ActionTypes.SIGN_IN: {\n      signIn(action, dispatch, state);\n      console.log(\"signin\", action);\n      return;\n    }\n    default: {\n    }\n  }\n};\n","import React, { createContext, useReducer, useEffect } from \"react\";\nimport { ActionTypes } from \"./actions\";\nimport { initialStateFn } from \"./store\";\nimport { reducer } from \"./reducer\";\nimport { Actions } from \"./actions\";\nimport { useSideEffector } from \"./util/useSideEffector\";\nimport { rootSideEffector } from \"./sideEffectors\";\nexport const baseUrl = (url: string) => `${url.replace(/[¥/]$/, \"\")}/api/v1`;\n\nconst initialState = initialStateFn();\nexport const RootContext = createContext({\n  state: initialState,\n  dispatch: (action: Actions) => {}\n});\nexport const Provider = ({ children }: { children: React.ReactNode }) => {\n  const [state, dispatch] = useSideEffector(\n    useReducer(reducer, initialState),\n    rootSideEffector\n  );\n  const value = {\n    state,\n    dispatch\n  };\n\n  useEffect(() => {\n    if (state.url) {\n      dispatch({ type: ActionTypes.FETCH_PROJECTS });\n    }\n  }, [dispatch, state.url]);\n  useEffect(() => {\n    if (state.url && state.pid) {\n      dispatch({\n        type: ActionTypes.FETCH_MILESTONES,\n        payload: { project: state.pid }\n      });\n      dispatch({\n        type: ActionTypes.FETCH_CUSTOM_ATTRS,\n        payload: { project: state.pid }\n      });\n      dispatch({\n        type: ActionTypes.FETCH_TASK_STATUSES,\n        payload: { project: state.pid }\n      });\n      dispatch({\n        type: ActionTypes.FETCH_PROJECT,\n        payload: { pid: state.pid }\n      });\n    }\n  }, [state.url, state.pid, dispatch]);\n  useEffect(() => {\n    if (state.url && state.mid) {\n      dispatch({\n        type: ActionTypes.FETCH_TASKS,\n        payload: {\n          milestone: state.mid,\n          reject_task_status_ids: state.reject_task_status_ids\n        }\n      });\n    }\n  }, [\n    state.url,\n    state.mid,\n    state.updated_time,\n    state.reject_task_status_ids,\n    dispatch\n  ]);\n  useEffect(() => {\n    dispatch({\n      type: ActionTypes.FETCH_CUSTOM_VALUE_MAP,\n      payload: {\n        tasks: state.tasks\n      }\n    });\n  }, [dispatch, state.tasks, state.custom_eid, state.custom_rid]);\n  return <RootContext.Provider value={value}>{children}</RootContext.Provider>;\n};\n","import React, { useCallback, useContext } from \"react\";\nimport { Input, InputGroup, InputGroupAddon } from \"reactstrap\";\nimport { RootContext } from \"../Provider\";\nimport { ActionTypes } from \"../actions\";\nexport const ProjectSelector = () => {\n  const {\n    state: { pid, projects },\n    dispatch\n  } = useContext(RootContext);\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const id = e.target.value;\n      if (id) {\n        dispatch({ type: ActionTypes.SET_PID, payload: { pid: id } });\n      }\n    },\n    [dispatch]\n  );\n  return (\n    <InputGroup className=\"col\">\n      <InputGroupAddon addonType=\"prepend\">Project</InputGroupAddon>\n      <Input value={pid} type=\"select\" onChange={handleChange}>\n        <option value=\"\"> --- </option>\n        {projects.map(item => (\n          <option key={item.id} value={item.id}>\n            {item.name}\n          </option>\n        ))}\n      </Input>\n    </InputGroup>\n  );\n};\n","import React, { useCallback, useContext } from \"react\";\nimport { Input, InputGroup, InputGroupAddon } from \"reactstrap\";\nimport { RootContext } from \"../Provider\";\nimport { ActionTypes } from \"../actions\";\n\nexport const MilestoneSelector = () => {\n  const {\n    state: { milestones, mid },\n    dispatch\n  } = useContext(RootContext);\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const id = e.target.value;\n      if (id) {\n        dispatch({ type: ActionTypes.SET_MID, payload: { mid: id } });\n      }\n    },\n    [dispatch]\n  );\n\n  return (\n    <InputGroup className=\"col\">\n      <InputGroupAddon addonType=\"prepend\">Sprint</InputGroupAddon>\n      <Input type=\"select\" value={mid} onChange={handleChange}>\n        <option value=\"\"> --- </option>\n        {milestones.map(item => (\n          <option key={item.id} value={item.id}>\n            {item.name}\n          </option>\n        ))}\n      </Input>\n    </InputGroup>\n  );\n};\n","import React, { useCallback, useContext } from \"react\";\nimport { Input, InputGroup, InputGroupAddon } from \"reactstrap\";\nimport { RootContext } from \"../Provider\";\nimport { ActionTypes } from \"../actions\";\n\nexport const CustomValuesSelector = () => {\n  const {\n    state: { custom_attrs, custom_eid, custom_rid },\n    dispatch\n  } = useContext(RootContext);\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const id = e.target.value;\n      if (id) {\n        switch (e.target.name) {\n          case \"eid\": {\n            dispatch({\n              type: ActionTypes.SET_CUSTOM_EID,\n              payload: { custom_eid: id }\n            });\n            break;\n          }\n          case \"rid\": {\n            dispatch({\n              type: ActionTypes.SET_CUSTOM_RID,\n              payload: { custom_rid: id }\n            });\n            break;\n          }\n          default:\n            console.log(\"other id\");\n        }\n      }\n    },\n    [dispatch]\n  );\n  return (\n    <div className=\"row\">\n      <InputGroup className=\"col\">\n        <InputGroupAddon addonType=\"prepend\">Estimate</InputGroupAddon>\n        <Input\n          value={custom_eid}\n          name=\"eid\"\n          type=\"select\"\n          onChange={handleChange}\n        >\n          <option value=\"\"> --- </option>\n          {custom_attrs.map(item => (\n            <option key={item.id} value={item.id}>\n              {item.name}\n            </option>\n          ))}\n        </Input>\n      </InputGroup>\n      <InputGroup className=\"col\">\n        <InputGroupAddon addonType=\"prepend\">Result</InputGroupAddon>\n        <Input\n          value={custom_rid}\n          name=\"rid\"\n          type=\"select\"\n          onChange={handleChange}\n        >\n          <option> --- </option>\n          {custom_attrs.map(item => (\n            <option key={item.id} value={item.id}>\n              {item.name}\n            </option>\n          ))}\n        </Input>\n      </InputGroup>\n    </div>\n  );\n};\n","import React, { useEffect, useState, useContext, useCallback } from \"react\";\nimport classNames from \"classnames\";\nimport {\n  UncontrolledTooltip,\n  Table,\n  Card,\n  CardHeader,\n  Input,\n  Label,\n  FormGroup\n} from \"reactstrap\";\nimport { IMilestone } from \"../store\";\nimport { RootContext } from \"../Provider\";\nimport moment, { Moment } from \"moment\";\nimport biz from \"moment-business\";\nimport _ from \"lodash\";\nimport { ActionTypes } from \"../actions\";\nexport const isToday = (date: string) =>\n  moment()\n    .local()\n    .format(\"YYYY-MM-DD\") ===\n  moment(date)\n    .local()\n    .format(\"YYYY-MM-DD\");\n\nexport const dayNameFromIdx = (date: string, idx: number) => {\n  if (idx === -1) {\n    return \"\";\n  }\n  if (idx === 0) {\n    return \"Planning\";\n  }\n  return `Day ${idx}`;\n};\n\nexport const dayName = (date: string, biz_days: string[]) => {\n  const idx = biz_days.indexOf(date);\n  return dayNameFromIdx(date, idx);\n};\nexport const getMilestone = (mid: string, items: IMilestone[]) =>\n  items.find(item => String(item.id) === mid);\nconst getDays = (item: IMilestone) => {\n  const startM = moment(item.estimated_start).local();\n  const finishM = moment(item.estimated_finish).local();\n  const daysInSprint = finishM.diff(startM, \"days\");\n  return _.times(daysInSprint).map(i => startM.clone().add(i, \"days\"));\n};\nconst getDefaultBizDays = (items: Moment[]) =>\n  items\n    .filter(item => biz.isWeekDay(item))\n    .map(item => item.format(\"YYYY-MM-DD\"));\n\nconst weekClassName = (day: number) => ({\n  \"text-danger\": day === 0,\n  \"text-info\": day === 6\n});\n\nconst DayItem = ({\n  item,\n  biz_days,\n  idx\n}: {\n  item: Moment | null;\n  biz_days: string[];\n  idx: number;\n}) => {\n  const { dispatch } = useContext(RootContext);\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const biz_day = e.target.value;\n      if (e.target.checked) {\n        dispatch({ type: ActionTypes.ADD_BIZ_DAY, payload: { biz_day } });\n      } else {\n        dispatch({ type: ActionTypes.REMOVE_BIZ_DAY, payload: { biz_day } });\n      }\n    },\n    [dispatch]\n  );\n  if (!item) {\n    return (\n      <td>\n        <br />\n      </td>\n    );\n  }\n  const value = item.format(\"YYYY-MM-DD\");\n  const isPlanning = value === biz_days[0];\n  const eleId = `biz-day-${value}`;\n  return (\n    <>\n      <td\n        className={classNames(weekClassName(idx), { \"table-info\": isPlanning })}\n        id={eleId}\n      >\n        {biz.isWeekDay(item) ? (\n          <FormGroup check inline>\n            <Label check>\n              <Input\n                onChange={handleChange}\n                disabled={biz.isWeekendDay(item)}\n                value={value}\n                type=\"checkbox\"\n                checked={_.includes(biz_days, value)}\n                className=\"form-check-input\"\n              />\n              {value}\n            </Label>\n          </FormGroup>\n        ) : (\n          <span>{value}</span>\n        )}\n      </td>\n      {_.includes(biz_days, value) ? (\n        <UncontrolledTooltip target={eleId}>\n          {dayName(value, biz_days)}\n        </UncontrolledTooltip>\n      ) : null}\n    </>\n  );\n};\n\nexport const DaysSelector = () => {\n  const {\n    state: { mid, milestones, biz_days },\n    dispatch\n  } = useContext(RootContext);\n  const [items, setItems] = useState<Moment[]>([]);\n  useEffect(() => {\n    const milestone = getMilestone(mid, milestones);\n    if (milestone) {\n      const items = getDays(milestone);\n      setItems(items);\n      if (biz_days.length <= 1) {\n        dispatch({\n          type: ActionTypes.SET_BIZ_DAYS,\n          payload: { biz_days: getDefaultBizDays(items) }\n        });\n      }\n    }\n  }, [mid, milestones, biz_days, dispatch]);\n  if (items.length === 0) {\n    return null;\n  } else {\n    const weekdays = _.chunk(\n      [..._.times(items[0].day(), () => null), ...items],\n      7\n    );\n    return (\n      <Card>\n        <CardHeader>Business Days</CardHeader>\n        <Table bordered>\n          <thead>\n            <tr>\n              {moment.weekdays().map((item, idx) => (\n                <th\n                  key={idx}\n                  className={classNames(\"text-center\", weekClassName(idx))}\n                >\n                  {item}\n                </th>\n              ))}\n            </tr>\n          </thead>\n          <tbody>\n            {weekdays.map((days, i) => (\n              <tr key={i}>\n                {days.map((item, idx) => (\n                  <DayItem\n                    idx={idx}\n                    key={idx}\n                    item={item}\n                    biz_days={biz_days}\n                  />\n                ))}\n              </tr>\n            ))}\n          </tbody>\n        </Table>\n      </Card>\n    );\n  }\n};\n","import React, { useCallback, useContext } from \"react\";\nimport _ from \"lodash\";\nimport { RootContext } from \"../Provider\";\nimport {\n  Card,\n  CardHeader,\n  CardBody,\n  Input,\n  FormGroup,\n  Label\n} from \"reactstrap\";\nimport { ITaskStatus } from \"../store\";\nimport { ActionTypes } from \"../actions\";\nconst StatusItem = ({ item }: { item: ITaskStatus }) => {\n  const {\n    state: { reject_task_status_ids },\n    dispatch\n  } = useContext(RootContext);\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const reject_task_status_id = e.target.value;\n      if (e.target.checked) {\n        dispatch({\n          type: ActionTypes.REMOVE_REJECT_TASK_STATUS_ID,\n          payload: { reject_task_status_id }\n        });\n      } else {\n        dispatch({\n          type: ActionTypes.ADD_REJECT_TASK_STATUS_ID,\n          payload: { reject_task_status_id }\n        });\n      }\n    },\n    [dispatch]\n  );\n  return (\n    <FormGroup check inline>\n      <Label check>\n        <Input\n          onChange={handleChange}\n          type=\"checkbox\"\n          value={item.id}\n          defaultChecked={!_.includes(reject_task_status_ids, String(item.id))}\n        />\n        {item.name}\n      </Label>\n    </FormGroup>\n  );\n};\nexport const TaskStatusSelector = () => {\n  const {\n    state: { task_statuses }\n  } = useContext(RootContext);\n  if (task_statuses.length === 0) {\n    return null;\n  }\n  return (\n    <Card>\n      <CardHeader>Task status</CardHeader>\n      <CardBody>\n        {task_statuses.map(item => (\n          <StatusItem key={item.id} item={item} />\n        ))}\n      </CardBody>\n    </Card>\n  );\n};\n","import React, { useContext, useState, useCallback } from \"react\";\nimport _ from \"lodash\";\nimport classNames from \"classnames\";\nimport { RootContext } from \"../Provider\";\nimport {\n  Card,\n  CardHeader,\n  Collapse,\n  Form,\n  Input,\n  InputGroup,\n  InputGroupAddon,\n  Button,\n  Badge\n} from \"reactstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faChevronCircleRight,\n  faExternalLinkAlt\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { ProjectSelector } from \"./ProjectSelector\";\nimport { MilestoneSelector } from \"./MilestoneSelector\";\nimport { CustomValuesSelector } from \"./CustomValuesSelector\";\nimport { DaysSelector, getMilestone } from \"./DaysSelector\";\nimport { TaskStatusSelector } from \"./TaskStatusSelector\";\nimport { IMilestone } from \"../store\";\nimport styles from \"./Controller.module.css\";\nimport { ActionTypes } from \"../actions\";\nconst getSpName = (mid: string, items: IMilestone[]) =>\n  _.get(getMilestone(mid, items), \"name\", \"\");\nconst getTaskboardUrl = (url: string, mid: string, items: IMilestone[]) => {\n  const milestone = getMilestone(mid, items);\n  if (url && milestone) {\n    return `${url}/project/${milestone.project_extra_info.slug}/taskboard/${\n      milestone.slug\n    }`;\n  } else {\n    return \"\";\n  }\n};\n\nconst getRange = (biz_days: string[]) => {\n  if (biz_days.length > 1) {\n    return `[${_.head(biz_days)} - ${_.last(biz_days)}]`;\n  } else {\n    return \"\";\n  }\n};\nexport const ToggleIcon = ({ isOpen }: { isOpen: boolean }) => {\n  const rotation = isOpen ? 90 : undefined;\n  return (\n    <FontAwesomeIcon\n      className=\"text-muted mr-2\"\n      rotation={rotation}\n      icon={faChevronCircleRight}\n    />\n  );\n};\nexport const Controller = () => {\n  const {\n    state: { url: stateUrl, isOpen, mid, milestones, biz_days },\n    dispatch\n  } = useContext(RootContext);\n  const [url, setUrl] = useState(\"\");\n  const handleUrl = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      setUrl(e.target.value);\n    },\n    [setUrl]\n  );\n  const handleSubmit = useCallback(\n    (e: React.FormEvent) => {\n      if (url) {\n        dispatch({ type: ActionTypes.SET_URL, payload: { url } });\n      }\n      e.preventDefault();\n    },\n    [url, dispatch]\n  );\n  const handleHref = useCallback((e: React.FormEvent) => {\n    e.stopPropagation();\n  }, []);\n  const toggle = useCallback(() => {\n    if (isOpen) {\n      dispatch({ type: ActionTypes.CLOSE_CONTROLLER });\n    } else {\n      dispatch({ type: ActionTypes.OPEN_CONTROLLER });\n    }\n  }, [dispatch, isOpen]);\n  const taskboardUrl = getTaskboardUrl(stateUrl, mid, milestones);\n  return (\n    <Card>\n      <CardHeader className={classNames(styles.header)} onClick={toggle}>\n        <ToggleIcon isOpen={isOpen} />\n        <Badge color=\"primary\" pill className=\"p-1 m-1\">\n          <span>{getSpName(mid, milestones)}</span>\n        </Badge>\n        <Badge className=\"p-1 m-1\">\n          <span>{getRange(biz_days)}</span>\n        </Badge>\n        {taskboardUrl ? (\n          <a\n            target=\"_blank\"\n            onClick={handleHref}\n            className=\"float-right\"\n            href={taskboardUrl}\n            rel=\"noopener noreferrer\"\n          >\n            <FontAwesomeIcon className=\"mr-1\" icon={faExternalLinkAlt} />\n            Taskboard\n          </a>\n        ) : null}\n      </CardHeader>\n      <Collapse isOpen={isOpen}>\n        <Form onSubmit={handleSubmit}>\n          <InputGroup>\n            <InputGroupAddon addonType=\"prepend\">URL</InputGroupAddon>\n            <Input\n              defaultValue={stateUrl}\n              onChange={handleUrl}\n              placeholder=\"http://hostname:port\"\n            />\n            <InputGroupAddon addonType=\"append\">\n              <Button>Set</Button>\n            </InputGroupAddon>\n          </InputGroup>\n        </Form>\n        <div className=\"row\">\n          <ProjectSelector />\n          <MilestoneSelector />\n        </div>\n        <CustomValuesSelector />\n        <DaysSelector />\n        <TaskStatusSelector />\n      </Collapse>\n    </Card>\n  );\n};\n","import React, { useCallback, useContext, useEffect, useState } from \"react\";\nimport { ICustomValueMap, IUser, ITask, ICustomAttr } from \"../store\";\nimport { RootContext } from \"../Provider\";\nimport classNames from \"classnames\";\nimport {\n  Table,\n  Button,\n  Navbar,\n  Form,\n  Input,\n  InputGroup,\n  InputGroupAddon,\n  InputGroupText,\n  Progress\n} from \"reactstrap\";\nimport _ from \"lodash\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faSyncAlt,\n  faMedal,\n  faTimes,\n  faEquals,\n  faGrinBeam,\n  faGrinBeamSweat,\n  faDizzy\n} from \"@fortawesome/free-solid-svg-icons\";\nimport styles from \"./UserTasks.module.css\";\nimport moment from \"moment\";\nimport { Link } from \"react-router-dom\";\nimport { ActionTypes } from \"../actions\";\n\nconst barStyles = [\"success\", \"warning\", \"info\", \"danger\"];\nconst getTasksByUser = (items: ITask[]) => _.groupBy(items, \"assigned_to\");\nconst getClosedTasks = (items: ITask[]) => items.filter(item => item.is_closed);\nexport const parseCustomVal = (val: string) =>\n  _.chain(val)\n    .replace(/[^0-9.+,]/g, \"\")\n    .replace(/[+]/g, \",\")\n    .split(\",\")\n    .compact()\n    .map(Number)\n    .sum()\n    .value();\n\nexport const getCustomVal = (\n  custom_value_map: ICustomValueMap,\n  task: ITask,\n  id: number\n) => {\n  if (custom_value_map.has(task)) {\n    return parseCustomVal(\n      _.get(custom_value_map.get(task), `attributes_values.${id}`, \"0\")\n    );\n  } else {\n    return 0;\n  }\n};\nexport const getCustomValVersion = (\n  custon_value_map: ICustomValueMap,\n  task: ITask\n) => {\n  if (custon_value_map.has(task)) {\n    return _.get(custon_value_map.get(task), \"version\");\n  } else {\n    return undefined;\n  }\n};\nexport const isCustomValValid = (e: number, r: number, is_closed: boolean) =>\n  is_closed && r === e;\nexport const isCustomValInvalid = (e: number, r: number) => r > e;\nconst getGrade = (e: number, r: number): [string | null, number] => {\n  if (_.isNumber(e) && _.isNumber(r) && e > 0) {\n    const diff = Math.abs(e - r) / e;\n    if (diff <= 0.05) {\n      return [\"gold\", 3];\n    }\n    if (diff <= 0.1) {\n      return [\"silver\", 2];\n    }\n    if (diff < 0.2) {\n      return [\"bronze\", 1];\n    }\n  }\n  return [null, 0];\n};\nconst NameAndWorkLoad = ({\n  username,\n  val,\n  total,\n  imgSrc\n}: {\n  username: string;\n  val: number;\n  total: number;\n  imgSrc: string;\n}) => {\n  if (!val) {\n    return (\n      <>\n        <td>\n          <img className={styles.avator} src={imgSrc} alt={username} />{\" \"}\n          {username}\n        </td>\n        <td />\n      </>\n    );\n  }\n  const diff = (val - total) / total;\n  let icon;\n  let tblCls;\n  if (diff < -0.1) {\n    icon = faGrinBeam;\n    tblCls = \"\";\n  } else if (diff <= 0.1) {\n    tblCls = \"table-success\";\n    icon = faGrinBeam;\n  } else if (diff <= 0.2) {\n    tblCls = \"table-warning\";\n    icon = faGrinBeamSweat;\n  } else {\n    tblCls = \"table-danger\";\n    icon = faDizzy;\n  }\n  return (\n    <>\n      <td className={tblCls}>\n        <img className={styles.avator} src={imgSrc} alt={username} /> {username}\n        <FontAwesomeIcon className=\"mx-1\" icon={icon} />\n      </td>\n      <td className={classNames(tblCls, \"text-right\")}>{val}</td>\n    </>\n  );\n};\n\nexport const Medal = ({ e, r }: { e: number; r: number }) => {\n  const [grade, num] = getGrade(e, r);\n  if (grade) {\n    return (\n      <>\n        {_.times(num).map(i => (\n          <FontAwesomeIcon key={i} className={styles[grade]} icon={faMedal} />\n        ))}\n      </>\n    );\n  } else {\n    return null;\n  }\n};\ninterface IProgressTotal {\n  status: number;\n  total: number;\n  style?: string;\n  label: string;\n}\nconst UserRow = ({\n  item,\n  sums,\n  isPast,\n  total,\n  hpd,\n  closedTasks\n}: {\n  item: IUser;\n  sums: { [key: string]: { e: number; r: number } };\n  isPast: boolean;\n  total: number;\n  hpd: number;\n  closedTasks: ITask[];\n}) => {\n  const {\n    state: {\n      custom_value_map,\n      custom_eid,\n      reject_task_status_ids,\n      task_statuses\n    }\n  } = useContext(RootContext);\n  const [customTotal, setTotal] = useState<number>(0);\n  const [progressTotal, setProgressTotal] = useState<IProgressTotal[]>([]);\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      setTotal(Number(e.target.value) || 0);\n    },\n    [setTotal]\n  );\n  const sumItem = _.get(sums, item.id);\n  const e = _.get(sumItem, \"e\");\n  const r = _.get(sumItem, \"r\");\n  const margedTotal = customTotal || total;\n  const totalStr = String(margedTotal);\n  const imgSrc = item.photo || `http://i.pravatar.cc/80?u=${Math.random()}`;\n  useEffect(() => {\n    const closed_status = _.chain(task_statuses)\n      .filter(item => item.is_closed)\n      .reject(item => _.includes(reject_task_status_ids, String(item.id)))\n      .orderBy(\"id\")\n      .reverse()\n      .map(item => item.id)\n      .value();\n    const closedTotals = _.chain(closedTasks)\n      .groupBy(\"status\")\n      .mapValues(ts =>\n        _.reduce(\n          ts,\n          (result, t) => {\n            result.status = t.status;\n            result.total += getCustomVal(\n              custom_value_map,\n              t,\n              Number(custom_eid)\n            );\n            result.label = t.status_extra_info.name;\n            return result;\n          },\n          { status: 0, total: 0, label: \"\", style: \"\" }\n        )\n      )\n      .value();\n    const sortedTotals = _.orderBy(closedTotals, \"status\")\n      .reverse()\n      .map(item => ({\n        ...item,\n        style: barStyles[closed_status.indexOf(item.status)]\n      }));\n    setProgressTotal(sortedTotals);\n  }, [\n    setProgressTotal,\n    custom_eid,\n    custom_value_map,\n    closedTasks,\n    task_statuses,\n    reject_task_status_ids\n  ]);\n  return (\n    <tr key={item.id}>\n      {total > 0 ? (\n        <>\n          <NameAndWorkLoad\n            username={item.username}\n            val={e}\n            total={margedTotal}\n            imgSrc={imgSrc}\n          />\n          <td className=\"text-right\">{total}</td>\n          <td className={styles.custom_input_td}>\n            <Input\n              bsSize=\"sm\"\n              type=\"number\"\n              className=\"text-right\"\n              value={totalStr}\n              step={hpd}\n              onChange={handleChange}\n            />\n          </td>\n        </>\n      ) : (\n        <>\n          <td>\n            <img className={styles.avator} src={imgSrc} alt={item.username} />{\" \"}\n            <Link to={`/${item.id}`}>{item.username}</Link>\n          </td>\n          <td className=\"text-right\">{e}</td>\n          <td className=\"text-right\">{r}</td>\n          <td>\n            {_.isNumber(e) && (\n              <Progress multi>\n                {progressTotal.map((item, idx) => (\n                  <Progress\n                    bar\n                    key={idx}\n                    value={item.total}\n                    color={item.style}\n                    max={e}\n                  >\n                    {item.label}\n                  </Progress>\n                ))}\n              </Progress>\n            )}\n          </td>\n        </>\n      )}\n\n      {isPast ? (\n        <td>\n          <Medal e={e} r={r} />\n        </td>\n      ) : null}\n    </tr>\n  );\n};\nconst getTaskSumByUser = (\n  items: ITask[],\n  custom_value_map: ICustomValueMap,\n  custom_eid: string,\n  custom_rid: string\n) => {\n  const eid = Number(custom_eid);\n  const rid = Number(custom_rid);\n  const tasksByUser = _.mapValues(getTasksByUser(items), tasks =>\n    _.chain(tasks)\n      .map(task => ({\n        e: getCustomVal(custom_value_map, task, eid),\n        r: getCustomVal(custom_value_map, task, rid)\n      }))\n      .reduce((result, val) => ({ e: result.e + val.e, r: result.r + val.r }), {\n        e: 0,\n        r: 0\n      })\n      .value()\n  );\n  return tasksByUser;\n};\nexport const getCustomAttr = (items: ICustomAttr[], id: number) =>\n  items.find(item => item.id === id);\nexport const UserTasks = () => {\n  const {\n    state: {\n      tasks,\n      custom_value_map,\n      custom_attrs,\n      custom_eid,\n      custom_rid,\n      biz_days,\n      project: { members }\n    },\n    dispatch\n  } = useContext(RootContext);\n  const [hpd, setHpd] = useState<number>(0);\n  const [total, setTotal] = useState<number>(0);\n  const activeLen = biz_days.length - 1;\n  const updateData = useCallback(() => {\n    dispatch({ type: ActionTypes.UPDATE_DATA });\n  }, [dispatch]);\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      setHpd(Number(e.target.value) || 0);\n    },\n    [setHpd]\n  );\n  const disableSubmit = useCallback((e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n  }, []);\n  useEffect(() => {\n    setTotal(hpd * activeLen);\n  }, [hpd, activeLen, setTotal]);\n  const taskSumByUser = getTaskSumByUser(\n    tasks,\n    custom_value_map,\n    custom_eid,\n    custom_rid\n  );\n  const customAttrE = getCustomAttr(custom_attrs, Number(custom_eid));\n  const customAttrR = getCustomAttr(custom_attrs, Number(custom_rid));\n  if (!customAttrE || !customAttrR || biz_days.length <= 1) {\n    return null;\n  }\n  const unassignedSum = _.get(taskSumByUser, \"null.e\", 0);\n  const isPlanning = total > 0;\n  const isPast =\n    !isPlanning &&\n    moment().diff(\n      moment(_.last(biz_days))\n        .local()\n        .endOf(\"days\")\n    ) > 0;\n  const tasksByUser = getTasksByUser(getClosedTasks(tasks));\n  return (\n    <>\n      <Navbar color=\"light\" light>\n        <Form inline={true} className=\"mr-auto\" onSubmit={disableSubmit}>\n          <InputGroup>\n            <Input\n              type=\"number\"\n              step=\"0.5\"\n              placeholder=\"hours / day\"\n              className=\"text-right\"\n              onChange={handleChange}\n            />\n            <InputGroupAddon addonType=\"append\">\n              <InputGroupText>\n                <FontAwesomeIcon className=\"mx-2\" icon={faTimes} />\n                {activeLen} [days]\n                <FontAwesomeIcon className=\"mx-2\" icon={faEquals} />\n              </InputGroupText>\n              {total > 0 ? (\n                <>\n                  <InputGroupText className=\"bg-white\">\n                    <strong>{total}</strong>\n                  </InputGroupText>\n                  <InputGroupText>hours / sprint</InputGroupText>\n                </>\n              ) : null}\n            </InputGroupAddon>\n          </InputGroup>\n        </Form>\n        <Button onClick={updateData}>\n          <FontAwesomeIcon icon={faSyncAlt} />\n        </Button>\n      </Navbar>\n      <Table bordered>\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>{customAttrE.name}</th>\n            {isPlanning ? (\n              <>\n                <th>Total</th> <th>Custom</th>\n              </>\n            ) : (\n              <>\n                <th>{customAttrR.name}</th>\n                <th>Progress</th>\n              </>\n            )}\n            {isPast ? <th>Grade</th> : null}\n          </tr>\n        </thead>\n        <tbody>\n          {(members || []).map(item => (\n            <UserRow\n              key={item.id}\n              isPast={isPast}\n              item={item}\n              sums={taskSumByUser}\n              total={total}\n              hpd={hpd}\n              closedTasks={tasksByUser[item.id] || []}\n            />\n          ))}\n          <tr key=\"null\">\n            <td>unassigned</td>\n            <td className=\"text-right text-danger\">{unassignedSum}</td>\n            <td />\n            <td />\n            {isPast ? <td /> : null}\n          </tr>\n        </tbody>\n      </Table>\n    </>\n  );\n};\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { RootContext } from \"../Provider\";\nimport { ITask } from \"../store\";\nimport { ListGroup, ListGroupItem, Card, CardHeader } from \"reactstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faExternalLinkAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { getCustomVal } from \"./UserTasks\";\nconst TaskItem = ({ url, item }: { item: ITask; url: string }) => {\n  const {\n    project_extra_info: { slug }\n  } = item;\n  const href = `${url}/project/${slug}/task/${item.ref}`;\n  return (\n    <ListGroupItem tag=\"a\" target=\"_blank\" href={href}>\n      <FontAwesomeIcon icon={faExternalLinkAlt} /> {item.subject}\n    </ListGroupItem>\n  );\n};\nexport const UnEstimatedTasks = () => {\n  const {\n    state: { url, tasks, custom_value_map, custom_eid }\n  } = useContext(RootContext);\n  const [items, setItems] = useState<ITask[]>([]);\n  useEffect(() => {\n    if (tasks.length > 0 && custom_eid) {\n      const eid = Number(custom_eid);\n      const items = tasks.filter(\n        task => getCustomVal(custom_value_map, task, eid) === 0\n      );\n      if (tasks.length > items.length) {\n        setItems(items);\n      }\n    }\n  }, [tasks, custom_value_map, custom_eid]);\n  if (items.length === 0) {\n    return null;\n  } else {\n    return (\n      <Card>\n        <CardHeader>Un estimated tasks</CardHeader>\n        <ListGroup>\n          {items.map(item => (\n            <TaskItem url={url} key={item.id} item={item} />\n          ))}\n        </ListGroup>\n      </Card>\n    );\n  }\n};\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { ComposedChart, Tooltip, Line, XAxis, YAxis, Bar } from \"recharts\";\nimport { ITask, ICustomValueMap } from \"../store\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport { RootContext } from \"../Provider\";\nimport { dayNameFromIdx } from \"./DaysSelector\";\nimport { getCustomVal } from \"./UserTasks\";\nimport { Card, CardHeader } from \"reactstrap\";\ninterface IChartItem {\n  label: string;\n  estimate: number;\n  result?: number;\n  add?: number;\n}\n\nconst getTaskFinished = (tasks: ITask[], date: string) =>\n  tasks.filter(task =>\n    task.finished_date\n      ? moment(date)\n          .local()\n          .endOf(\"days\")\n          .diff(moment(task.finished_date)) > 0\n      : false\n  );\n\nconst getTaskCreatedToday = (tasks: ITask[], date: string) =>\n  tasks.filter(\n    task =>\n      moment(date)\n        .local()\n        .format(\"YYYY-MM-DD\") ===\n      moment(task.created_date)\n        .local()\n        .format(\"YYYY-MM-DD\")\n  );\n\nconst getTaskCreated = (tasks: ITask[], date: string) =>\n  tasks.filter(\n    task =>\n      moment(date)\n        .endOf(\"days\")\n        .diff(moment(task.created_date)) > 0\n  );\n\nconst getSumVal = (\n  custom_value_map: ICustomValueMap,\n  tasks: ITask[],\n  custom_eid: string\n) => {\n  return _.chain(tasks)\n    .map(task => getCustomVal(custom_value_map, task, Number(custom_eid)))\n    .sum()\n    .value();\n};\nexport const Chart = ({ tasks }: { tasks: ITask[] }) => {\n  const [data, setData] = useState<IChartItem[]>([]);\n  const {\n    state: { biz_days, custom_value_map, custom_eid }\n  } = useContext(RootContext);\n  useEffect(() => {\n    const days_len = biz_days.length;\n    if (days_len > 0 && tasks.length > 0 && custom_eid) {\n      const allTaskVal = getSumVal(\n        custom_value_map,\n        getTaskCreated(tasks, biz_days[0]),\n        custom_eid\n      );\n      const data = biz_days.map((day, idx) => {\n        const label = dayNameFromIdx(day, idx);\n        const estimate = allTaskVal - (allTaskVal * idx) / (days_len - 1);\n        if (\n          moment()\n            .local()\n            .endOf(\"days\")\n            .diff(moment(day)) > 0\n        ) {\n          const add =\n            idx === 0\n              ? 0\n              : getSumVal(\n                  custom_value_map,\n                  getTaskCreatedToday(tasks, day),\n                  custom_eid\n                );\n          const result =\n            getSumVal(\n              custom_value_map,\n              getTaskCreated(tasks, day),\n              custom_eid\n            ) -\n            add -\n            getSumVal(\n              custom_value_map,\n              getTaskFinished(tasks, day),\n              custom_eid\n            );\n          return { label, estimate, result, add };\n        } else {\n          return { label, estimate };\n        }\n      });\n      setData(data);\n    } else {\n      setData([]);\n    }\n  }, [tasks, biz_days, custom_eid, custom_value_map, setData]);\n  if (data.length === 0) {\n    return null;\n  } else {\n    return (\n      <Card>\n        <CardHeader>Burn down chart</CardHeader>\n        <ComposedChart data={data} width={800} height={400}>\n          <YAxis />\n          <XAxis dataKey=\"label\" />\n          <Tooltip />\n          <Bar dataKey=\"result\" fill=\"#8884d8\" stackId=\"a\" />\n          <Bar dataKey=\"add\" fill=\"#82ca9d\" stackId=\"a\" />\n          <Line dataKey=\"estimate\" />\n        </ComposedChart>\n      </Card>\n    );\n  }\n};\n","import React, { useContext } from \"react\";\nimport { RootContext } from \"../Provider\";\nimport { Chart } from \"./Chart\";\n\nexport const OverviewChart = () => {\n  const {\n    state: { tasks }\n  } = useContext(RootContext);\n  return <Chart tasks={tasks} />;\n};\n","import * as React from \"react\";\nimport { UserTasks } from \"./UserTasks\";\nimport { UnEstimatedTasks } from \"./UnEstimatedTasks\";\nimport { OverviewChart } from \"./OverviewChart\";\n\nexport const OverView = () => (\n  <>\n    <UserTasks />\n    <UnEstimatedTasks />\n    <OverviewChart />\n  </>\n);\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSpinner } from \"@fortawesome/free-solid-svg-icons\";\nimport { InputGroupAddon, InputGroupText } from \"reactstrap\";\nexport const InputGroupSpinner: React.FC = () => {\n  return (\n    <InputGroupAddon addonType=\"append\">\n      <InputGroupText>\n        <FontAwesomeIcon icon={faSpinner} className=\"fa-pulse\" />\n      </InputGroupText>\n    </InputGroupAddon>\n  );\n};\n","import React, { useContext, useState, useCallback, useEffect } from \"react\";\nimport {\n  Button,\n  Card,\n  CardHeader,\n  Collapse,\n  Badge,\n  Row,\n  Col,\n  Input,\n  InputGroup,\n  InputGroupAddon\n} from \"reactstrap\";\nimport classNames from \"classnames\";\nimport { ITasksByUserStory, ITask } from \"../store\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faExternalLinkAlt,\n  faCloudUploadAlt,\n  faEdit,\n  faHandPointRight\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { InputGroupSpinner } from \"./InputGroupSpinner\";\nimport { RootContext } from \"../Provider\";\nimport {\n  getCustomAttr,\n  getCustomVal,\n  getCustomValVersion,\n  isCustomValInvalid,\n  isCustomValValid,\n  Medal\n} from \"./UserTasks\";\nimport { ToggleIcon } from \"./Controller\";\nimport ListGroup from \"reactstrap/lib/ListGroup\";\nimport ListGroupItem from \"reactstrap/lib/ListGroupItem\";\nimport styles from \"./UserStory.module.css\";\nimport { Switch } from \"@rmwc/switch\";\nimport InputGroupText from \"reactstrap/lib/InputGroupText\";\nimport { ActionTypes } from \"../actions\";\nconst UserStoryLink = ({ url, item }: { url: string; item: ITask }) => {\n  const {\n    user_story_extra_info,\n    project_extra_info: { slug }\n  } = item;\n  const usName = user_story_extra_info\n    ? `#${user_story_extra_info.ref} ${user_story_extra_info.subject}`\n    : undefined;\n  const href = user_story_extra_info\n    ? `${url}/project/${slug}/us/${user_story_extra_info.ref}`\n    : \"#\";\n\n  if (usName) {\n    return (\n      <a href={href} target=\"_blank\" rel=\"noopener noreferrer\" title={usName}>\n        <FontAwesomeIcon icon={faExternalLinkAlt} /> {usName}\n      </a>\n    );\n  } else {\n    return <>(Unassigned tasks)</>;\n  }\n};\n\nconst TaskLink = ({ url, item }: { url: string; item: ITask }) => {\n  const taskName = `#${item.ref} ${item.subject}`;\n  const href = `${url}/project/${item.project_extra_info.slug}/task/${\n    item.ref\n  }`;\n  return (\n    <a href={href} target=\"_blank\" rel=\"noopener noreferrer\" title={taskName}>\n      <FontAwesomeIcon icon={faExternalLinkAlt} /> {taskName}\n    </a>\n  );\n};\n\ninterface ToggleNumberInputProps {\n  label: string;\n  value: number;\n  onSubmit?: (value: number) => void;\n  valid?: boolean;\n  invalid?: boolean;\n  disabled?: boolean;\n  loading?: boolean;\n}\nconst ToggleNumberInput: React.FC<ToggleNumberInputProps> = ({\n  label,\n  value,\n  onSubmit,\n  valid,\n  invalid,\n  disabled,\n  loading\n}) => {\n  const [checked, setChecked] = useState<boolean>(false);\n  const [val, setVal] = useState(\"\");\n  const onChange = useCallback(\n    (evt: React.FormEvent<any>) => {\n      setChecked(evt.currentTarget.checked);\n    },\n    [setChecked]\n  );\n  const handleVal = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      setVal(e.target.value);\n    },\n    [setVal]\n  );\n  const handeSubmit = useCallback(() => {\n    const num = Number(val);\n    if (val !== \"\" && num >= 0 && onSubmit) {\n      onSubmit(num);\n      setChecked(false);\n    }\n  }, [val, onSubmit, setChecked]);\n  useEffect(() => {\n    if (disabled) {\n      setChecked(false);\n    }\n  }, [setChecked, disabled]);\n  const title = disabled ? \"Need sign in!\" : \"\";\n  return (\n    <InputGroup className={styles.toggle_input}>\n      <InputGroupAddon addonType=\"prepend\">{label}</InputGroupAddon>\n      {loading ? (\n        <InputGroupSpinner />\n      ) : (\n        <>\n          {checked ? (\n            <>\n              <InputGroupAddon addonType=\"prepend\">\n                <InputGroupText>{value}</InputGroupText>\n              </InputGroupAddon>\n              <InputGroupAddon addonType=\"prepend\">\n                <InputGroupText>\n                  <FontAwesomeIcon\n                    className=\"text-info\"\n                    icon={faHandPointRight}\n                  />\n                </InputGroupText>\n              </InputGroupAddon>\n              <Input\n                onInput={handleVal}\n                onChange={handleVal}\n                defaultValue={String(value)}\n                type=\"number\"\n                step=\"0.5\"\n                min=\"0\"\n              />\n              <InputGroupAddon addonType=\"append\">\n                <Button color=\"info\" onClick={handeSubmit}>\n                  <FontAwesomeIcon icon={faCloudUploadAlt} />\n                </Button>\n              </InputGroupAddon>\n            </>\n          ) : (\n            <Input valid={valid} invalid={invalid} readOnly value={value} />\n          )}\n          <InputGroupAddon addonType=\"append\" title={title}>\n            <Switch disabled={disabled} checked={checked} onChange={onChange}>\n              <FontAwesomeIcon className=\"text-info\" icon={faEdit} />\n            </Switch>\n          </InputGroupAddon>\n        </>\n      )}\n    </InputGroup>\n  );\n};\ninterface GradeProps {\n  e: number;\n  r: number;\n}\nexport const Grade: React.FC<GradeProps> = ({ e, r }) => {\n  return (\n    <InputGroup className={styles.display_medal}>\n      <InputGroupAddon addonType=\"prepend\">Grade</InputGroupAddon>\n      <InputGroupText className={styles.medal}>\n        <Medal e={e} r={r} />\n      </InputGroupText>\n    </InputGroup>\n  );\n};\n\nexport const TaskItem = ({ item }: { item: ITask }) => {\n  const {\n    state: {\n      url,\n      custom_attrs,\n      custom_eid,\n      custom_rid,\n      custom_value_map,\n      auth_token\n    },\n    dispatch\n  } = useContext(RootContext);\n  const version = getCustomValVersion(custom_value_map, item);\n  const onSubmitE = useCallback(\n    (value: number) => {\n      if (version) {\n        dispatch({\n          type: ActionTypes.PATCH_CUSTOM_VALUE,\n          payload: {\n            id: item.id,\n            key: custom_eid,\n            value,\n            version\n          }\n        });\n      }\n    },\n    [dispatch, item.id, custom_eid, version]\n  );\n  const onSubmitR = useCallback(\n    (value: number) => {\n      if (version) {\n        dispatch({\n          type: ActionTypes.PATCH_CUSTOM_VALUE,\n          payload: {\n            id: item.id,\n            key: custom_rid,\n            value,\n            version\n          }\n        });\n      }\n    },\n    [custom_rid, dispatch, item.id, version]\n  );\n  const customAttrE = getCustomAttr(custom_attrs, Number(custom_eid));\n  const customAttrR = getCustomAttr(custom_attrs, Number(custom_rid));\n  if (!customAttrE || !customAttrR) {\n    return null;\n  }\n  const e = getCustomVal(custom_value_map, item, customAttrE.id);\n  const r = getCustomVal(custom_value_map, item, customAttrR.id);\n  const valid = isCustomValValid(e, r, item.is_closed);\n  const invalid = isCustomValInvalid(e, r);\n  const disabled = auth_token === \"\";\n  const loading = !version;\n  return (\n    <ListGroupItem\n      className={classNames({ [styles.is_closed]: item.is_closed })}\n    >\n      <div className=\"d-flex mb-1\">\n        <div className=\"mr-auto text-truncate\">\n          <TaskLink url={url} item={item} />\n        </div>\n        <h5>\n          <Badge>{item.status_extra_info.name}</Badge>\n        </h5>\n      </div>\n      <Row>\n        <Col>\n          <ToggleNumberInput\n            onSubmit={onSubmitE}\n            label={customAttrE.name}\n            value={e}\n            disabled={disabled}\n            loading={loading}\n          />\n        </Col>\n        <Col>\n          <ToggleNumberInput\n            onSubmit={onSubmitR}\n            label={customAttrR.name}\n            value={r}\n            valid={valid}\n            invalid={invalid}\n            disabled={disabled}\n            loading={loading}\n          />\n        </Col>\n        <Col>\n          <Grade e={e} r={r} />\n        </Col>\n      </Row>\n    </ListGroupItem>\n  );\n};\nexport const UserStory = ({ item }: { item: ITasksByUserStory }) => {\n  const {\n    state: { url }\n  } = useContext(RootContext);\n  const [isOpen, setIsOpen] = useState<boolean>(false);\n  const toggle = useCallback(() => {\n    setIsOpen(!isOpen);\n  }, [isOpen, setIsOpen]);\n  useEffect(() => {\n    setIsOpen(!item.is_closed);\n  }, [item.is_closed, setIsOpen]);\n  return (\n    <Card>\n      <CardHeader\n        className={classNames(styles.header, \"text-truncate\", {\n          [styles.is_closed]: item.is_closed\n        })}\n        onClick={toggle}\n      >\n        <ToggleIcon isOpen={isOpen} />\n        <UserStoryLink url={url} item={item.tasks[0]} />\n      </CardHeader>\n      <Collapse isOpen={isOpen}>\n        <ListGroup>\n          {item.tasks.map(task => (\n            <TaskItem item={task} key={task.id} />\n          ))}\n        </ListGroup>\n      </Collapse>\n    </Card>\n  );\n};\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { RootContext } from \"../Provider\";\nimport {\n  Card,\n  CardHeader,\n  CardBody,\n  Input,\n  InputGroup,\n  InputGroupAddon,\n  Row,\n  Col\n} from \"reactstrap\";\nimport classNames from \"classnames\";\nimport { ITask, IUser, ITasksByUserStory } from \"../store\";\nimport { InputGroupSpinner } from \"./InputGroupSpinner\";\nimport {\n  getCustomAttr,\n  getCustomVal,\n  getCustomValVersion,\n  isCustomValInvalid,\n  isCustomValValid\n} from \"./UserTasks\";\nimport _ from \"lodash\";\nimport { UserStory, Grade } from \"./UserStory\";\nexport const PersonalTasks = ({ userInfo }: { userInfo: IUser }) => {\n  const {\n    state: {\n      tasks,\n      custom_attrs,\n      custom_value_map,\n      custom_eid,\n      custom_rid,\n      biz_days\n    }\n  } = useContext(RootContext);\n  const [items, setItems] = useState<ITask[]>([]);\n  const [userStories, setUserStories] = useState<ITasksByUserStory[]>([]);\n  useEffect(() => {\n    const userTasks = tasks\n      .filter(task => task.assigned_to === userInfo.id)\n      .sort((a, b) => a.user_story - b.user_story);\n    setItems(userTasks);\n    const userStories = _.chain(tasks)\n      .filter({ assigned_to: userInfo.id })\n      .groupBy(\"user_story\")\n      .map((items, key) => ({\n        user_story: Number(key),\n        user_story_extra_info: items[0].user_story_extra_info,\n        tasks: items,\n        is_closed: items.every(task => task.is_closed)\n      }))\n      .value();\n    setUserStories(userStories);\n  }, [tasks, userInfo.id]);\n\n  const customAttrE = getCustomAttr(custom_attrs, Number(custom_eid));\n  const customAttrR = getCustomAttr(custom_attrs, Number(custom_rid));\n  if (!customAttrE || !customAttrR || biz_days.length <= 1) {\n    return null;\n  }\n\n  const [e, r] = items.reduce(\n    (result, item) => {\n      return [\n        result[0] + getCustomVal(custom_value_map, item, customAttrE.id),\n        result[1] + getCustomVal(custom_value_map, item, customAttrR.id)\n      ];\n    },\n    [0, 0]\n  );\n  const valid = isCustomValValid(\n    e,\n    r,\n    userStories.every(item => item.is_closed)\n  );\n  const invalid = isCustomValInvalid(e, r);\n  const loading = items.some(\n    item => !getCustomValVersion(custom_value_map, item)\n  );\n\n  return (\n    <>\n      {userStories.map(item => (\n        <UserStory item={item} key={item.user_story} />\n      ))}\n      <Card>\n        <CardHeader className={classNames(\"bg-info\", \"text-light\")}>\n          Total\n        </CardHeader>\n        <CardBody>\n          <Row>\n            <Col>\n              <InputGroup>\n                <InputGroupAddon addonType=\"prepend\">\n                  {customAttrE.name}\n                </InputGroupAddon>\n                {loading ? <InputGroupSpinner /> : <Input readOnly value={e} />}\n              </InputGroup>\n            </Col>\n            <Col>\n              <InputGroup>\n                <InputGroupAddon addonType=\"prepend\">\n                  {customAttrR.name}\n                </InputGroupAddon>\n                {loading ? (\n                  <InputGroupSpinner />\n                ) : (\n                  <Input readOnly value={r} invalid={invalid} valid={valid} />\n                )}\n              </InputGroup>\n            </Col>\n            <Col>\n              <Grade e={e} r={r} />\n            </Col>\n          </Row>\n        </CardBody>\n      </Card>\n    </>\n  );\n};\n","import React from \"react\";\nimport { Card, CardHeader } from \"reactstrap\";\nimport { IUser } from \"../store\";\n\nimport styles from \"./PersonalInfo.module.css\";\n\nexport const PersonalInfo = ({ userInfo }: { userInfo: IUser }) => {\n  const imgSrc = userInfo.photo || `http://i.pravatar.cc/80?u=${Math.random()}`;\n  return (\n    <Card>\n      <CardHeader>\n        <img className={styles.avator} src={imgSrc} alt={userInfo.username} />\n        {` ${userInfo.username}'s tasks`}\n      </CardHeader>\n    </Card>\n  );\n};\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { ITask, IUser } from \"../store\";\nimport { RootContext } from \"../Provider\";\nimport { Chart } from \"./Chart\";\n\nexport const PersonalChart = ({ userInfo }: { userInfo: IUser }) => {\n  const [userTasks, setUserTasks] = useState<ITask[]>([]);\n  const {\n    state: { tasks }\n  } = useContext(RootContext);\n  useEffect(() => {\n    const userTasks = tasks\n      .filter(task => task.assigned_to === userInfo.id)\n      .sort((a, b) => a.user_story - b.user_story);\n    setUserTasks(userTasks);\n  }, [tasks, userInfo.id]);\n\n  return <Chart tasks={userTasks} />;\n};\n","import React, { useCallback } from \"react\";\nimport { RouteComponentProps } from \"react-router\";\nimport {\n  Button,\n  Alert,\n  Navbar,\n  Form,\n  InputGroup,\n  Input,\n  InputGroupAddon,\n  InputGroupText,\n  Spinner\n} from \"reactstrap\";\nimport { PersonalTasks } from \"./PersonalTasks\";\nimport { PersonalInfo } from \"./PersonalInfo\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { RootContext } from \"../Provider\";\nimport { PersonalChart } from \"./PersonalChart\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faSyncAlt,\n  faArrowCircleLeft,\n  faUser,\n  faKey,\n  faSignInAlt,\n  faSignOutAlt\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { Link } from \"react-router-dom\";\nimport { ActionTypes } from \"../actions\";\nimport useRouter from \"use-react-router\";\nconst SignInForm: React.FC = () => {\n  const {\n    state: { auth_token, auth_error, username: sign_in_username },\n    dispatch\n  } = useContext(RootContext);\n\n  const [username, setUsername] = useState<string>(\"\");\n  const [password, setPassword] = useState<string>(\"\");\n  const [loading, setLoading] = useState<boolean>(false);\n\n  const handleSubmit = useCallback(\n    (e: React.FormEvent) => {\n      if (username && password) {\n        setLoading(true);\n        dispatch({\n          type: ActionTypes.SIGN_IN,\n          payload: {\n            username,\n            password\n          }\n        });\n      }\n      e.preventDefault();\n    },\n    [password, username, dispatch, setLoading]\n  );\n  const handleUsername = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      setUsername(e.target.value);\n    },\n    [setUsername]\n  );\n  const handlePassword = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      setPassword(e.target.value);\n    },\n    [setPassword]\n  );\n  const disableSubmit = useCallback((e: React.FormEvent) => {\n    e.preventDefault();\n  }, []);\n  const handleSignOut = useCallback(() => {\n    dispatch({ type: ActionTypes.SIGN_OUT });\n  }, [dispatch]);\n  useEffect(() => {\n    if (auth_error || auth_token) {\n      setLoading(false);\n    }\n  }, [auth_error, auth_token, setLoading]);\n  return (\n    <>\n      {auth_token ? (\n        <Form inline onSubmit={disableSubmit}>\n          <InputGroup>\n            <InputGroupAddon addonType=\"prepend\">\n              <InputGroupText>\n                <FontAwesomeIcon icon={faUser} />\n              </InputGroupText>\n            </InputGroupAddon>\n            <Input readOnly valid={true} value={sign_in_username} />\n            <InputGroupAddon addonType=\"append\">\n              <Button onClick={handleSignOut}>\n                <FontAwesomeIcon icon={faSignOutAlt} />\n              </Button>\n            </InputGroupAddon>\n          </InputGroup>\n        </Form>\n      ) : (\n        <Form inline onSubmit={handleSubmit}>\n          <InputGroup>\n            <InputGroupAddon addonType=\"prepend\">\n              <InputGroupText>\n                <FontAwesomeIcon icon={faUser} />\n              </InputGroupText>\n            </InputGroupAddon>\n            <Input\n              disabled={loading}\n              onInput={handleUsername}\n              onChange={handleUsername}\n              name=\"username\"\n              placeholder=\"username\"\n              invalid={auth_error}\n            />\n          </InputGroup>\n          <InputGroup>\n            <InputGroupAddon addonType=\"prepend\">\n              <InputGroupText>\n                <FontAwesomeIcon icon={faKey} />\n              </InputGroupText>\n            </InputGroupAddon>\n            <Input\n              disabled={loading}\n              onInput={handlePassword}\n              onChange={handlePassword}\n              name=\"password\"\n              placeholder=\"password\"\n              type=\"password\"\n              invalid={auth_error}\n            />\n          </InputGroup>\n          <Button color=\"primary\">\n            {loading ? (\n              <Spinner size=\"sm\" type=\"grow\" />\n            ) : (\n              <FontAwesomeIcon icon={faSignInAlt} />\n            )}\n          </Button>\n        </Form>\n      )}\n    </>\n  );\n};\nexport const PersonalPage = (props: RouteComponentProps<{ uid: string }>) => {\n  const {\n    state: { user },\n    dispatch\n  } = useContext(RootContext);\n  const {\n    match: {\n      params: { uid }\n    }\n  } = useRouter();\n  const updateData = useCallback(() => {\n    dispatch({ type: ActionTypes.UPDATE_DATA });\n  }, [dispatch]);\n  useEffect(() => {\n    if (uid) {\n      dispatch({ type: ActionTypes.FETCH_USER, payload: { uid } });\n    }\n    return () => {\n      dispatch({ type: ActionTypes.RESET_USER });\n    };\n  }, [dispatch, uid]);\n  return (\n    <>\n      <Navbar color=\"light\" light>\n        <Button tag={Link} to=\"/\">\n          <FontAwesomeIcon icon={faArrowCircleLeft} /> Go back\n        </Button>\n        <SignInForm />\n        <Button onClick={updateData}>\n          <FontAwesomeIcon icon={faSyncAlt} />\n        </Button>\n      </Navbar>\n      {user ? (\n        <>\n          <PersonalInfo userInfo={user} />\n          <br />\n          <PersonalTasks userInfo={user} />\n          <br />\n          <PersonalChart userInfo={user} />\n        </>\n      ) : (\n        <Alert color=\"danger\">This user does not exist.</Alert>\n      )}\n    </>\n  );\n};\n","import React from \"react\";\nimport { Controller } from \"./components/Controller\";\nimport { Provider } from \"./Provider\";\nimport { HashRouter, Route } from \"react-router-dom\";\nimport { OverView } from \"./components/OverView\";\nimport { PersonalPage } from \"./components/PersonalPage\";\nexport const App = () => (\n  <div className=\"container\">\n    <HashRouter>\n      <Provider>\n        <Controller />\n        <Route exact path=\"/\" component={OverView} />\n        <Route exact path=\"/:uid\" component={PersonalPage} />\n      </Provider>\n    </HashRouter>\n  </div>\n);\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"@material/switch/dist/mdc.switch.css\";\nimport \"@material/form-field/dist/mdc.form-field.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"UserStory_header__1tc8G\",\"toggle_input\":\"UserStory_toggle_input__JHXrr\",\"display_medal\":\"UserStory_display_medal__22hJs\",\"medal\":\"UserStory_medal__ap0c_\",\"is_closed\":\"UserStory_is_closed__3W_SB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gold\":\"UserTasks_gold__196BT\",\"silver\":\"UserTasks_silver__1ViV4\",\"bronze\":\"UserTasks_bronze__mYN2N\",\"custom_input_td\":\"UserTasks_custom_input_td__y-1Rp\",\"avator\":\"UserTasks_avator__3R6Qm\"};"],"sourceRoot":""}