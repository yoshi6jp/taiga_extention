{"version":3,"sources":["components/UserTasks.module.css","components/Tomato.module.css","components/Pomodoro.module.css","components/Controller.module.css","tomato.png","actions.ts","store.ts","reducer.ts","util/useSideEffector.ts","sideEffectors/fetchProjects.ts","sideEffectors/fetchProject.ts","sideEffectors/fetchMilestones.ts","sideEffectors/fetchTasks.ts","sideEffectors/fetchTaskStatuses.ts","sideEffectors/fetchCustomAttrs.ts","sideEffectors/fetchCustomValueMap.ts","sideEffectors/fetchUser.ts","util/toastr.tsx","sideEffectors/patchCustomValue.ts","sideEffectors/patchTask.ts","sideEffectors/signIn.ts","sideEffectors/index.ts","sideEffectors/signOut.ts","sideEffectors/setAuthToken.ts","sideEffectors/setUrl.ts","sideEffectors/setPid.ts","sideEffectors/setMid.ts","sideEffectors/setCustomEid.ts","sideEffectors/setCustomRid.ts","sideEffectors/syncBizDays.ts","sideEffectors/syncRejectTaskStatusIds.ts","sideEffectors/syncPomodoro.ts","init.ts","Provider.tsx","util/handler.ts","components/ProjectSelector.tsx","components/MilestoneSelector.tsx","components/CustomValuesSelector.tsx","components/DaysSelector.tsx","components/TaskStatusSelector.tsx","components/Controller.tsx","components/UpdateButton.tsx","components/SignInForm.tsx","components/UserTasks.tsx","components/InputGroupSpinner.tsx","tomato.svg","components/Tomato.tsx","util/timer.ts","components/UserStory.tsx","components/UnEstimatedTasks.tsx","components/NotAssignedTasks.tsx","components/Chart.tsx","components/OverView.tsx","components/PersonalTasks.tsx","components/PersonalInfo.tsx","components/PersonalPage.tsx","components/Pomodoro.tsx","App.tsx","serviceWorker.ts","index.tsx","components/UserStory.module.css"],"names":["module","exports","gold","silver","bronze","custom_input_td","fresh","stale","top","button_group","header","__webpack_require__","p","ActionTypes","StorageKey","_getFromStorage","key","localStorage","getItem","getFromStorage","getFromStorageWithSubkey","subkey","concat","setToStorage","item","setItem","setToStorageWithSubkey","initialState","url","auth_token","auth_error","username","password","user","projects","pid","project","mid","custom_eid","custom_rid","custom_attrs","custom_attr_e","custom_attr_r","biz_days","milestones","milestone","tasks","user_tasks","task_statuses","active_task_statuses","custom_value_map","WeakMap","reject_task_status_ids","updated_time","isOpen","pomodoro_date","pomodoro_number","pomodoro_used_number","loaded","isNotifable","reducer","state","arguments","length","undefined","action","type","SET_URL","payload","Object","objectSpread","SET_PROJECTS","SET_PID","SET_PROJECT","SET_MID","SET_MILESTONES","SET_MILESTONE","SET_CUSTOM_EID","SET_CUSTOM_ATTRS","SET_CUSTOM_ATTR_E","SET_CUSTOM_ATTR_R","SET_CUSTOM_RID","SET_BIZ_DAYS","ADD_BIZ_DAY","biz_day","_","chain","toConsumableArray","uniq","sort","value","REMOVE_BIZ_DAY","reject","SET_TASKS","SET_USER_TASKS","SET_TASK_STATUSES","SET_ACTIVE_TASK_STATUSES","SET_CUSTOM_VALUE_MAP","SET_USER","RESET_USER","SET_REJECT_TASK_STATUS_IDS","ADD_REJECT_TASK_STATUS_ID","reject_task_status_id","compact","REMOVE_REJECT_TASK_STATUS_ID","OPEN_CONTROLLER","CLOSE_CONTROLLER","UPDATE_DATA","Date","now","SIGN_IN","_action$payload","SET_AUTH_TOKEN","SET_AUTH_ERROR","SIGN_OUT","ADD_POMODORO","USE_POMODORO","used_number","Math","max","RESET_POMODORO","RESTORE_POMODORO","_action$payload2","LOADED","ALLOW_NOTIFICATION","dispatchSideEffector","dispatch","sideEffector","dispatchSECaller","fetchProjecs","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","_state","_ref2","wrap","_context","prev","next","fetchData","sent","data","t0","errToastr","stop","_x","_x2","_x3","apply","this","fetchProject","FETCH_PROJECT","fetchMilestones","FETCH_MILESTONES","params","fetchTasks","FETCH_TASKS","headers","x-disable-pagination","filter","includes","String","status","fetchTaskStatuses","FETCH_TASK_STATUSES","fetchCustomAttrs","FETCH_CUSTOM_ATTRS","fetchCustomValueMap","_callee2","_context2","FETCH_CUSTOM_VALUE_MAP","Promise","all","map","_ref3","custom_attr_val","id","abrupt","_x4","t1","t2","fetchUser","uid","FETCH_USER","MessageWithIcon","icon","message","react_default","createElement","className","index_es","toastr","toast","success","toastr_MessageWithIcon","faCheck","error","faCheckCircle","patchCustomValue","version","task","custom_value","attributes_values","PATCH_CUSTOM_VALUE","find","has","get","patchData","defineProperty","meta","use_pomodoro","patchTask","_patchData","PATCH_TASK","signIn","postData","USERNAME","PASSWORD","path","config","axios","baseUrl","post","patch","err","response","_error_message","e","rootSideEffector","FETCH_PROJECTS","removeItem","defaults","common","setAuthToken","URL","setUrl","PID","MID","CUSTOM_EID","CUSTOM_RID","setPid","BIZ_DAYS","split","setMid","setCustomEid","setCustomRid","dispathc","defer","join","syncBizDays","REJECT_TASK_STATUS_IDS","syncRejectTaskStatusIds","dispatchm","POMODORO_DATE","POMODORO_NUMBER","POMODORO_USED_NUMBER","syncPomodoro","init","Number","syncStorage","replace","getCustomAttr","items","RootContext","createContext","Provider","children","_useSideEffector","slicedToArray","dispatchSE","useCallback","stateStore","useMemo","getter","setter","newState","stateStoreFactory","useSideEffector","useReducer","_useSideEffector2","useEffect","orderBy","order","assigned_to","sortBy","preventDefault","stopPropagation","ProjectSelector","_useContext","useContext","_useContext$state","handleChange","target","InputGroup","InputGroupAddon","addonType","Input","onChange","name","MilestoneSelector","CustomValuesSelector","dayNameFromIdx","date","idx","weekClassName","day","text-danger","text-info","DayItem","checked","format","isPlanning","eleId","Fragment","classNames","table-info","biz","isWeekDay","FormGroup","check","inline","Label","disabled","isWeekendDay","UncontrolledTooltip","indexOf","dayName","DaysSelector","_useContext2","_useContext2$state","_useState","useState","_useState2","setItems","startM","moment","estimated_start","local","daysInSprint","estimated_finish","diff","times","i","clone","add","getDays","weekdays","chunk","Card","CardHeader","Table","bordered","days","DaysSelector_DayItem","StatusItem","defaultChecked","TaskStatusSelector","CardBody","TaskStatusSelector_StatusItem","ToggleIcon","rotation","faChevronCircleRight","Controller","stateUrl","handleUrl","handleSubmit","toggle","taskboardUrl","project_extra_info","slug","getTaskboardUrl","spName","range","head","last","getRange","styles","onClick","Controller_ToggleIcon","Badge","color","pill","href","rel","faExternalLinkAlt","Collapse","Form","onSubmit","defaultValue","placeholder","Button","ProjectSelector_ProjectSelector","MilestoneSelector_MilestoneSelector","CustomValuesSelector_CustomValuesSelector","DaysSelector_DaysSelector","TaskStatusSelector_TaskStatusSelector","UpdateButton","updateData","faSyncAlt","SignInForm","sign_in_username","setUsername","_useState3","_useState4","setPassword","_useState5","_useState6","loading","setLoading","handleUsername","handlePassword","handleSignOut","InputGroupText","faUser","title","faSignOutAlt","onInput","invalid","faKey","Spinner","size","faSignInAlt","barStyles","getTasksByUser","groupBy","AvatarSquare","props","src","random","assign","square","getCustomVal","val","sum","getSumCustomVal","getCustomValVersion","custon_value_map","isCustomValValid","r","is_closed","isCustomValInvalid","NameAndWorkLoad","total","imgSrc","_useMemo","faGrinBeam","faGrinBeamSweat","faDizzy","_useMemo2","tblCls","UserTasks_AvatarSquare","Medal","_useMemo3","isNumber","abs","getGrade","_useMemo4","grade","num","faMedal","TaskProgress","eid","reverse","style","label","allSum","Progress","multi","bar","UserRow","_ref4","sums","isPast","hpd","customTotal","setTotal","sumItem","margedTotal","totalStr","UserTasks_NameAndWorkLoad","photo","bsSize","step","react_router_dom","to","UserTasks_TaskProgress","UserTasks_Medal","UserTasks","members","setHpd","activeLen","taskSumByUser","rid","mapValues","reduce","result","getTaskSumByUser","notAssignedSum","endOf","tasksByUser","Navbar","light","faTimes","faEquals","SignInForm_SignInForm","UpdateButton_UpdateButton","UserTasks_UserRow","faGhost","InputGroupSpinner","faSpinner","_extends","source","prototype","hasOwnProperty","call","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","TomatoState","tomato_ref2","fill","d","tomato_SvgTomato","svgRef","x","y","viewBox","xmlSpace","ref","ForwardRef","forwardRef","TimerState","TimerMode","Tomato","_classNames","FRESH","STALE","convToTasksByUserStory","user_story","user_story_extra_info","every","needAuthMsg","UserStoryLink","usName","subject","TaskLink","taskName","ToggleNumberInput","onEditable","onValueChange","valid","submitting","setChecked","setVal","running","setRunning","evt","currentTarget","handleVal","toggle_input","InputGroupSpinner_InputGroupSpinner","InputGroupText_default","faHandPointRight","min","faCloudUploadAlt","readOnly","switch_next","faEdit","Grade","display_medal","medal","TaskStatusItem","_ref5","onSelect","handleClick","DropdownItem","_ref6","_useState7","_useState8","handleSelect","UncontrolledDropdown","DropdownToggle","caret","status_extra_info","DropdownMenu","UserStory_TaskStatusItem","UserItem","_ref7","TaskUserSelector","_ref8","_useState9","_useState10","_useContext5","UserStory_UserItem","NotAssignedButton","_ref9","_useState11","_useState12","faUserTimes","EstimateInput","_ref10","_useContext7","_useContext7$state","unEstimated","UserStory_ToggleNumberInput","ResultInput","_ref11","_useState13","_useState14","setIsOpen","_useState15","_useState16","set_used_number","_useState17","_useState18","editable","setEditable","_useState19","_useState20","setSubmitting","_useContext8","_useContext8$state","handleToggle","handlePluse","handleMinus","handleReset","handleEditable","handleValueChange","handleUsePomodoro","elId","usableNumber","submittable","isMax","Popover","placement","trigger","PopoverHeader","PopoverBody","ButtonGroup","faPlus","faMinus","Tomato_Tomato","faEraser","TaskItem","_ref12","_useContext9$state","inactive","ListGroupItem_default","UserStory_TaskLink","UserStory_NotAssignedButton","UserStory_TaskStatusSelector","Row","Col","UserStory_EstimateInput","UserStory_ResultInput","UserStory_Grade","UserStoryWithEstimate","_ref13","UserStory_UserStoryLink","ListGroup_default","UserStoryWithTaskUser","_ref14","UserStory_TaskUserSelector","UserStory","_ref15","_useState21","_useState22","alert-primary","UserStory_TaskItem","UnEstimatedTasks","userStories","UserStory_UserStoryWithEstimate","NotAssignedTasks","UserStory_UserStoryWithTaskUser","getTaskCreated","created_date","getSumVal","Chart","setData","days_len","allTaskVal","estimate","getTaskCreatedToday","finished_date","getTaskFinished","labelFormatter","formatter","toFixed","es6","width","height","dataKey","stackId","OverView","UserTasks_UserTasks","NotAssignedTasks_NotAssignedTasks","UnEstimatedTasks_UnEstimatedTasks","Chart_Chart","PersonalTasks","some","UserStory_UserStory","CardFooter","PersonalInfo","PersonalPage","useRouter","match","tag","Link","faArrowCircleLeft","PersonalInfo_PersonalInfo","PersonalTasks_PersonalTasks","Alert","TimerDurationMin","_TimerDurationMin","FOCUS","SHORT","LONG","timer","Timer","tick","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","STOPPED","mode","duration","checkpointStartAt","NaN","checkpointElapsed","expireTimeout","tickInterval","restoreExpired","restoreStorage","event","listener","isStopped","setExpireTimeout","setTickInterval","RUNNING","emit","saveStorage","clearExpireTimeout","clearTickInterval","isRunning","periodElapsed","PAUSED","isPaused","remaining","start","seconds","_this2","setTimeout","clearTimeout","_this3","setInterval","clearInterval","STATE","MODE","CHECKPOINT_START_AT","isNaN","CHECKPOINT_ELAPSED","lsState","lsMode","lsCpStartAt","lsCpElapsed","values","isValidMode","changeMode","cpElapsed","cpStartAt","elapsed","EventEmitter","favico","require","animation","secToMin","ceil","TimerIcon","faCoffee","faCookie","TimerItem","Pomodoro_TimerIcon","Pomodoro","remainingMin","setRemainingMin","setState","setMode","toggleDropdown","pause","resume","handleState","handleMode","handleTick","handleExpire","body","notify","Notification","tomatoIcon","onclick","close","handleRetry","on","removeAllListeners","today","permission","requestPermission","bgColor","textColor","shape","badge","reset","InputGroupButtonDropdown","Pomodoro_TimerItem","font-weight-bold","faPause","faPlay","faRedo","App","react_toastify","Provider_Provider","Pomodoro_Pomodoro","Controller_Controller","react_router","exact","component","Boolean","window","location","hostname","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.ba87c56b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"gold\":\"UserTasks_gold__1MP40\",\"silver\":\"UserTasks_silver__GpK9Y\",\"bronze\":\"UserTasks_bronze__1aHZc\",\"custom_input_td\":\"UserTasks_custom_input_td__1JWmj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fresh\":\"Tomato_fresh__2s5Ye\",\"stale\":\"Tomato_stale__3bjHh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"top\":\"Pomodoro_top__2KPBC\",\"button_group\":\"Pomodoro_button_group__25QhE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Controller_header__33lvE\"};","module.exports = __webpack_public_path__ + \"static/media/tomato.c392a271.png\";","import {\n  IProject,\n  IMilestone,\n  ICustomAttr,\n  ITask,\n  ICustomValueMap,\n  ITaskStatus,\n  IUser\n} from \"./store\";\n\nexport enum ActionTypes {\n  SET_URL = \"SET_URL\",\n  SIGN_IN = \"SIGN_IN\",\n  SET_AUTH_TOKEN = \"SET_AUTH_TOKEN\",\n  SET_AUTH_ERROR = \"SET_AUTH_ERROR\",\n  SIGN_OUT = \"SIGN_OUT\",\n  FETCH_PROJECTS = \"FETCH_PROJECTS\",\n  SET_PROJECTS = \"SET_PROJECTS\",\n  SET_PID = \"SET_PID\",\n  FETCH_PROJECT = \"FETCH_PROJECT\",\n  SET_PROJECT = \"SET_PROJECT\",\n  FETCH_MILESTONES = \"FETCH_MILESTONES\",\n  SET_MID = \"SET_MID\",\n  SET_MILESTONES = \"SET_MILESTONES\",\n  SET_MILESTONE = \"SET_MILESTONE\",\n  SET_CUSTOM_EID = \"SET_CUSTOM_EID\",\n  SET_CUSTOM_RID = \"SET_CUSTOM_RID\",\n  FETCH_CUSTOM_ATTRS = \"FETCH_CUSTOM_ATTRS\",\n  SET_CUSTOM_ATTRS = \"SET_CUSTOM_ATTRS\",\n  SET_CUSTOM_ATTR_E = \"SET_CUSTOM_ATTR_E\",\n  SET_CUSTOM_ATTR_R = \"SET_CUSTOM_ATTR_R\",\n  SET_BIZ_DAYS = \"SET_BIZ_DAYS\",\n  ADD_BIZ_DAY = \"ADD_BIZ_DAY\",\n  REMOVE_BIZ_DAY = \"REMOVE_BIZ_DAY\",\n  FETCH_TASKS = \"FETCH_TASKS\",\n  SET_TASKS = \"SET_TASKS\",\n  SET_USER_TASKS = \"SET_USER_TASKS\",\n  PATCH_TASK = \"PATCH_TASK\",\n  FETCH_TASK_STATUSES = \"FETCH_TASK_STATUSES\",\n  SET_TASK_STATUSES = \"SET_TASK_STATUSES\",\n  SET_ACTIVE_TASK_STATUSES = \"SET_ACTIVE_TASK_STATUSES\",\n  FETCH_CUSTOM_VALUE_MAP = \"FETCH_CUSTOM_VALUE_MAP\",\n  SET_CUSTOM_VALUE_MAP = \"SET_CUSTOM_VALUE_MAP\",\n  PATCH_CUSTOM_VALUE = \"PATCH_CUSTOM_VALUE\",\n  FETCH_USER = \"FETCH_USER\",\n  SET_USER = \"SET_USER\",\n  RESET_USER = \"RESET_USER\",\n  SET_REJECT_TASK_STATUS_IDS = \"SET_REJECT_TASK_STATUS_IDS\",\n  ADD_REJECT_TASK_STATUS_ID = \"ADD_REJECT_TASK_STATUS_ID\",\n  REMOVE_REJECT_TASK_STATUS_ID = \"REMOVE_REJECT_TASK_STATUS_ID\",\n  OPEN_CONTROLLER = \"OPEN_CONTROLLER\",\n  CLOSE_CONTROLLER = \"CLOSE_CONTROLLER\",\n  UPDATE_DATA = \"UPDATE_DATA\",\n  ADD_POMODORO = \"ADD_POMODORO\",\n  USE_POMODORO = \"USE_POMODORO\",\n  RESET_POMODORO = \"RESET_POMODORO\",\n  RESTORE_POMODORO = \"RESTORE_POMODORO\",\n  LOADED = \"LOADED\",\n  ALLOW_NOTIFICATION = \"ALLOW_NOTIFICATION\"\n}\n\nexport interface IAction {\n  type: ActionTypes;\n  payload?: any;\n  meta?: { [key: string]: any };\n}\n\nexport interface SET_URL extends IAction {\n  type: ActionTypes.SET_URL;\n  payload: { url: string };\n}\nexport interface SIGN_IN extends IAction {\n  type: ActionTypes.SIGN_IN;\n  payload: { username: string; password: string };\n}\nexport interface SET_AUTH_TOKEN extends IAction {\n  type: ActionTypes.SET_AUTH_TOKEN;\n  payload: { auth_token: string };\n}\nexport interface SET_AUTH_ERROR extends IAction {\n  type: ActionTypes.SET_AUTH_ERROR;\n}\nexport interface SIGN_OUT extends IAction {\n  type: ActionTypes.SIGN_OUT;\n}\nexport interface FETCH_PROJECTS extends IAction {\n  type: ActionTypes.FETCH_PROJECTS;\n}\nexport interface SET_PROJECTS extends IAction {\n  type: ActionTypes.SET_PROJECTS;\n  payload: { projects: IProject[] };\n}\n\nexport interface SET_PID extends IAction {\n  type: ActionTypes.SET_PID;\n  payload: { pid: string };\n}\nexport interface FETCH_PROJECT extends IAction {\n  type: ActionTypes.FETCH_PROJECT;\n  payload: { pid: string };\n}\nexport interface SET_PROJECT extends IAction {\n  type: ActionTypes.SET_PROJECT;\n  payload: { project: IProject };\n}\nexport interface FETCH_MILESTONES extends IAction {\n  type: ActionTypes.FETCH_MILESTONES;\n  payload: { project: string };\n}\nexport interface SET_MILESTONES extends IAction {\n  type: ActionTypes.SET_MILESTONES;\n  payload: { milestones: IMilestone[] };\n}\n\nexport interface SET_MID extends IAction {\n  type: ActionTypes.SET_MID;\n  payload: { mid: string };\n}\nexport interface SET_MILESTONE extends IAction {\n  type: ActionTypes.SET_MILESTONE;\n  payload: { milestone: IMilestone };\n}\n\nexport interface SET_CUSTOM_EID extends IAction {\n  type: ActionTypes.SET_CUSTOM_EID;\n  payload: { custom_eid: string };\n}\n\nexport interface SET_CUSTOM_RID extends IAction {\n  type: ActionTypes.SET_CUSTOM_RID;\n  payload: { custom_rid: string };\n}\n\nexport interface FETCH_CUSTOM_ATTRS extends IAction {\n  type: ActionTypes.FETCH_CUSTOM_ATTRS;\n  payload: { project: string };\n}\nexport interface SET_CUSTOM_ATTRS extends IAction {\n  type: ActionTypes.SET_CUSTOM_ATTRS;\n  payload: { custom_attrs: ICustomAttr[] };\n}\nexport interface SET_CUSTOM_ATTR_E extends IAction {\n  type: ActionTypes.SET_CUSTOM_ATTR_E;\n  payload: { custom_attr_e: ICustomAttr };\n}\nexport interface SET_CUSTOM_ATTR_R extends IAction {\n  type: ActionTypes.SET_CUSTOM_ATTR_R;\n  payload: { custom_attr_r: ICustomAttr };\n}\nexport interface SET_BIZ_DAYS extends IAction {\n  type: ActionTypes.SET_BIZ_DAYS;\n  payload: { biz_days: string[] };\n}\n\nexport interface ADD_BIZ_DAY extends IAction {\n  type: ActionTypes.ADD_BIZ_DAY;\n  payload: { biz_day: string };\n}\n\nexport interface REMOVE_BIZ_DAY extends IAction {\n  type: ActionTypes.REMOVE_BIZ_DAY;\n  payload: { biz_day: string };\n}\n\nexport interface FETCH_TASKS extends IAction {\n  type: ActionTypes.FETCH_TASKS;\n  payload: { milestone: string; reject_task_status_ids: string[] };\n}\nexport interface SET_TASKS extends IAction {\n  type: ActionTypes.SET_TASKS;\n  payload: { tasks: ITask[] };\n}\nexport interface SET_USER_TASKS extends IAction {\n  type: ActionTypes.SET_USER_TASKS;\n  payload: { user_tasks: ITask[] };\n}\n\nexport interface PATCH_TASK extends IAction {\n  type: ActionTypes.PATCH_TASK;\n  payload: { key: keyof ITask; value: ITask[keyof ITask]; id: number };\n}\nexport interface FETCH_CUSTOM_VALUE_MAP extends IAction {\n  type: ActionTypes.FETCH_CUSTOM_VALUE_MAP;\n  payload: { tasks: ITask[] };\n}\nexport interface SET_CUSTOM_VALUE_MAP extends IAction {\n  type: ActionTypes.SET_CUSTOM_VALUE_MAP;\n  payload: { custom_value_map: ICustomValueMap };\n}\nexport interface PATCH_CUSTOM_VALUE extends IAction {\n  type: ActionTypes.PATCH_CUSTOM_VALUE;\n  payload: {\n    id: string | number;\n    key: string;\n    value: string | number;\n    version: number;\n  };\n  meta?: {\n    use_pomodoro?: {\n      used_number: number;\n    };\n  };\n}\nexport interface FETCH_TASK_STATUSES extends IAction {\n  type: ActionTypes.FETCH_TASK_STATUSES;\n  payload: { project: string };\n}\nexport interface SET_TASK_STATUSES extends IAction {\n  type: ActionTypes.SET_TASK_STATUSES;\n  payload: { task_statuses: ITaskStatus[] };\n}\nexport interface SET_ACTIVE_TASK_STATUSES extends IAction {\n  type: ActionTypes.SET_ACTIVE_TASK_STATUSES;\n  payload: { active_task_statuses: ITaskStatus[] };\n}\n\nexport interface FETCH_USER extends IAction {\n  type: ActionTypes.FETCH_USER;\n  payload: { uid: string };\n}\nexport interface SET_USER extends IAction {\n  type: ActionTypes.SET_USER;\n  payload: { user: IUser };\n}\nexport interface RESET_USER extends IAction {\n  type: ActionTypes.RESET_USER;\n}\nexport interface SET_REJECT_TASK_STATUS_IDS extends IAction {\n  type: ActionTypes.SET_REJECT_TASK_STATUS_IDS;\n  payload: { reject_task_status_ids: string[] };\n}\nexport interface ADD_REJECT_TASK_STATUS_ID extends IAction {\n  type: ActionTypes.ADD_REJECT_TASK_STATUS_ID;\n  payload: { reject_task_status_id: string };\n}\n\nexport interface REMOVE_REJECT_TASK_STATUS_ID extends IAction {\n  type: ActionTypes.REMOVE_REJECT_TASK_STATUS_ID;\n  payload: { reject_task_status_id: string };\n}\n\nexport interface OPEN_CONTROLLER extends IAction {\n  type: ActionTypes.OPEN_CONTROLLER;\n}\n\nexport interface CLOSE_CONTROLLER extends IAction {\n  type: ActionTypes.CLOSE_CONTROLLER;\n}\n\nexport interface UPDATE_DATA extends IAction {\n  type: ActionTypes.UPDATE_DATA;\n}\nexport interface ADD_POMODORO extends IAction {\n  type: ActionTypes.ADD_POMODORO;\n}\nexport interface USE_POMODORO extends IAction {\n  type: ActionTypes.USE_POMODORO;\n  payload: { used_number: number };\n}\nexport interface RESET_POMODORO extends IAction {\n  type: ActionTypes.RESET_POMODORO;\n  payload: { pomodoro_date: string };\n}\nexport interface RESTORE_POMODORO extends IAction {\n  type: ActionTypes.RESTORE_POMODORO;\n  payload: {\n    pomodoro_date: string;\n    pomodoro_number: number;\n    pomodoro_used_number: number;\n  };\n}\nexport interface LOADED extends IAction {\n  type: ActionTypes.LOADED;\n}\nexport interface ALLOW_NOTIFICATION extends IAction {\n  type: ActionTypes.ALLOW_NOTIFICATION;\n}\n\nexport type Actions =\n  | SET_URL\n  | SIGN_IN\n  | SET_AUTH_TOKEN\n  | SET_AUTH_ERROR\n  | SIGN_OUT\n  | FETCH_PROJECTS\n  | SET_PROJECTS\n  | SET_PID\n  | FETCH_PROJECT\n  | SET_PROJECT\n  | FETCH_MILESTONES\n  | SET_MILESTONES\n  | SET_MID\n  | SET_MILESTONE\n  | SET_CUSTOM_EID\n  | SET_CUSTOM_RID\n  | FETCH_CUSTOM_ATTRS\n  | SET_CUSTOM_ATTRS\n  | SET_CUSTOM_ATTR_E\n  | SET_CUSTOM_ATTR_R\n  | PATCH_CUSTOM_VALUE\n  | SET_BIZ_DAYS\n  | SET_BIZ_DAYS\n  | ADD_BIZ_DAY\n  | REMOVE_BIZ_DAY\n  | FETCH_TASKS\n  | SET_TASKS\n  | SET_USER_TASKS\n  | PATCH_TASK\n  | FETCH_CUSTOM_VALUE_MAP\n  | SET_CUSTOM_VALUE_MAP\n  | FETCH_TASK_STATUSES\n  | SET_TASK_STATUSES\n  | SET_ACTIVE_TASK_STATUSES\n  | FETCH_USER\n  | SET_USER\n  | RESET_USER\n  | SET_REJECT_TASK_STATUS_IDS\n  | ADD_REJECT_TASK_STATUS_ID\n  | REMOVE_REJECT_TASK_STATUS_ID\n  | OPEN_CONTROLLER\n  | CLOSE_CONTROLLER\n  | UPDATE_DATA\n  | ADD_POMODORO\n  | USE_POMODORO\n  | RESET_POMODORO\n  | RESTORE_POMODORO\n  | LOADED\n  | ALLOW_NOTIFICATION;\n","export interface ICustomAttr {\n  id: number;\n  name: string;\n}\nexport interface IAuthToken {\n  auth_token: string;\n}\nexport interface IMilestone {\n  id: number;\n  name: string;\n  estimated_start: string;\n  estimated_finish: string;\n  slug: string;\n  project: number;\n  project_extra_info: IProjectExtraInfo;\n}\nexport interface IProjectExtraInfo {\n  id: number;\n  name: string;\n  slug: string;\n}\ninterface IStatusExtraInfo {\n  name: string;\n  is_closed: boolean;\n}\nexport interface IUserStoryExtraInfo {\n  id: number;\n  subject: string;\n  epics: any;\n  ref: number;\n}\nexport interface ITask {\n  id: number;\n  assigned_to: number | null;\n  created_date: string;\n  finished_date: string;\n  is_closed: boolean;\n  subject: string;\n  ref: number;\n  project: number;\n  project_extra_info: IProjectExtraInfo;\n  status: number;\n  status_extra_info: IStatusExtraInfo;\n  user_story: number;\n  user_story_extra_info: IUserStoryExtraInfo;\n  version: number;\n}\nexport interface ITasksByUserStory {\n  user_story: number;\n  user_story_extra_info: IUserStoryExtraInfo;\n  project_extra_info: IProjectExtraInfo;\n  tasks: ITask[];\n  is_closed: boolean;\n}\nexport interface ITaskStatus {\n  id: number;\n  color: string;\n  name: string;\n  order: number;\n  project: number;\n  is_closed: boolean;\n  slug: string;\n}\nexport interface IAttrValue {}\nexport interface ICustomValue {\n  attributes_values: {\n    [key: number]: string;\n  };\n  version: number;\n}\nexport interface IUser {\n  id: number;\n  username: string;\n  full_name: string;\n  full_name_display: string;\n  photo: string;\n}\nexport interface IProject {\n  id: number;\n  name: string;\n  members: IUser[];\n}\nexport type ICustomValueMap = WeakMap<ITask, ICustomValue>;\nexport interface IState {\n  url: string;\n  auth_token: string;\n  auth_error: boolean;\n  username: string;\n  password: string;\n  user: IUser | null;\n  projects: IProject[];\n  pid: string; // url\n  project: IProject;\n  mid: string; // url\n  custom_eid: string; //  pid\n  custom_rid: string; // pid\n  custom_attrs: ICustomAttr[]; // pid\n  custom_attr_e: ICustomAttr;\n  custom_attr_r: ICustomAttr;\n  biz_days: string[]; //mid\n  milestones: IMilestone[]; // pid\n  milestone: IMilestone;\n  tasks: ITask[]; //mid\n  user_tasks: ITask[];\n  task_statuses: ITaskStatus[];\n  active_task_statuses: ITaskStatus[];\n  custom_value_map: ICustomValueMap; // pid\n  reject_task_status_ids: string[]; // pid\n  updated_time: number;\n  isOpen: boolean;\n  pomodoro_number: number;\n  pomodoro_date: string;\n  pomodoro_used_number: number;\n  loaded: boolean;\n  isNotifable: boolean;\n}\n\nexport enum StorageKey {\n  URL = \"taiga_url\",\n  PID = \"taiga_pid\",\n  MID = \"taiga_mid\",\n  CUSTOM_EID = \"taiga_custom_eid\",\n  CUSTOM_RID = \"taiga_custom_rid\",\n  BIZ_DAYS = \"taiga_biz_days\",\n  REJECT_TASK_STATUS_IDS = \"reject_task_status_ids\",\n  USERNAME = \"taiga_username\",\n  PASSWORD = \"taiga_password\",\n  POMODORO_DATE = \"taiga_pomodoro_date\",\n  POMODORO_NUMBER = \"taiga_pomodoro_number\",\n  POMODORO_USED_NUMBER = \"taiga_pomodoro_used_number\"\n}\n\nconst _getFromStorage = (key: string) => localStorage.getItem(key) || \"\";\nexport const getFromStorage = (key: StorageKey) => _getFromStorage(key);\nexport const getFromStorageWithSubkey = (key: StorageKey, subkey: string) =>\n  subkey ? _getFromStorage(`${subkey}/${key}`) : \"\";\n\nexport const setToStorage = (key: string, item: string) => {\n  localStorage.setItem(key, item);\n};\nexport const setToStorageWithSubkey = (\n  key: StorageKey,\n  subkey: string,\n  item: string\n) => (subkey ? setToStorage(`${subkey}/${key}`, item) : null);\nexport const initialState: IState = {\n  url: \"\",\n  auth_token: \"\",\n  auth_error: false,\n  username: \"\",\n  password: \"\",\n  user: null,\n  projects: [],\n  pid: \"\",\n  project: {} as IProject,\n  mid: \"\",\n  custom_eid: \"\",\n  custom_rid: \"\",\n  custom_attrs: [],\n  custom_attr_e: {} as ICustomAttr,\n  custom_attr_r: {} as ICustomAttr,\n  biz_days: [],\n  milestones: [],\n  milestone: {} as IMilestone,\n  tasks: [],\n  user_tasks: [],\n  task_statuses: [],\n  active_task_statuses: [],\n  custom_value_map: new WeakMap(),\n  reject_task_status_ids: [],\n  updated_time: 0,\n  isOpen: false,\n  pomodoro_date: \"\",\n  pomodoro_number: 0,\n  pomodoro_used_number: 0,\n  loaded: false,\n  isNotifable: false\n};\n","import _ from \"lodash\";\nimport { initialState, IProject, ICustomValueMap, IMilestone } from \"./store\";\nimport { ActionTypes, Actions } from \"./actions\";\nexport const reducer = (state = initialState, action: Actions) => {\n  switch (action.type) {\n    case ActionTypes.SET_URL: {\n      const { url } = action.payload;\n      return { ...state, url };\n    }\n    case ActionTypes.SET_PROJECTS: {\n      const { projects } = action.payload;\n      return {\n        ...state,\n        projects\n      };\n    }\n    case ActionTypes.SET_PID: {\n      const { pid } = action.payload;\n      return {\n        ...state,\n        pid,\n        project: {} as IProject,\n        mid: \"\",\n        biz_days: [],\n        custom_attrs: [],\n        milestones: [],\n        custom_value_map: new WeakMap() as ICustomValueMap\n      };\n    }\n    case ActionTypes.SET_PROJECT: {\n      const { project } = action.payload;\n      return {\n        ...state,\n        project\n      };\n    }\n    case ActionTypes.SET_MID: {\n      const { mid } = action.payload;\n      return {\n        ...state,\n        mid,\n        milestone: {} as IMilestone,\n        tasks: []\n      };\n    }\n    case ActionTypes.SET_MILESTONES: {\n      const { milestones } = action.payload;\n      return { ...state, milestones };\n    }\n    case ActionTypes.SET_MILESTONE: {\n      const { milestone } = action.payload;\n      return { ...state, milestone };\n    }\n    case ActionTypes.SET_CUSTOM_EID: {\n      const { custom_eid } = action.payload;\n      return { ...state, custom_eid };\n    }\n    case ActionTypes.SET_CUSTOM_ATTRS: {\n      const { custom_attrs } = action.payload;\n      return { ...state, custom_attrs };\n    }\n    case ActionTypes.SET_CUSTOM_ATTR_E: {\n      const { custom_attr_e } = action.payload;\n      return { ...state, custom_attr_e };\n    }\n    case ActionTypes.SET_CUSTOM_ATTR_R: {\n      const { custom_attr_r } = action.payload;\n      return { ...state, custom_attr_r };\n    }\n    case ActionTypes.SET_CUSTOM_RID: {\n      const { custom_rid } = action.payload;\n      return { ...state, custom_rid };\n    }\n    case ActionTypes.SET_BIZ_DAYS: {\n      const { biz_days } = action.payload;\n      return { ...state, biz_days };\n    }\n    case ActionTypes.ADD_BIZ_DAY: {\n      const { biz_day } = action.payload;\n      const biz_days = _.chain([...state.biz_days, biz_day])\n        .uniq()\n        .sort()\n        .value();\n      return { ...state, biz_days };\n    }\n    case ActionTypes.REMOVE_BIZ_DAY: {\n      const { biz_day } = action.payload;\n      const biz_days = _.reject([...state.biz_days], item => item === biz_day);\n      return { ...state, biz_days };\n    }\n    case ActionTypes.SET_TASKS: {\n      const { tasks } = action.payload;\n      return { ...state, tasks };\n    }\n    case ActionTypes.SET_USER_TASKS: {\n      const { user_tasks } = action.payload;\n      return { ...state, user_tasks };\n    }\n    case ActionTypes.SET_TASK_STATUSES: {\n      const { task_statuses } = action.payload;\n      return { ...state, task_statuses };\n    }\n    case ActionTypes.SET_ACTIVE_TASK_STATUSES: {\n      const { active_task_statuses } = action.payload;\n      return { ...state, active_task_statuses };\n    }\n    case ActionTypes.SET_CUSTOM_VALUE_MAP: {\n      const { custom_value_map } = action.payload;\n      return { ...state, custom_value_map };\n    }\n    case ActionTypes.SET_USER: {\n      const { user } = action.payload;\n      return { ...state, user };\n    }\n    case ActionTypes.RESET_USER: {\n      return { ...state, user: null, user_tasks: [] };\n    }\n    case ActionTypes.SET_REJECT_TASK_STATUS_IDS: {\n      const { reject_task_status_ids } = action.payload;\n      return { ...state, reject_task_status_ids };\n    }\n    case ActionTypes.ADD_REJECT_TASK_STATUS_ID: {\n      const { reject_task_status_id } = action.payload;\n      const reject_task_status_ids = _.chain([\n        ...state.reject_task_status_ids,\n        reject_task_status_id\n      ])\n        .compact()\n        .uniq()\n        .value();\n      return { ...state, reject_task_status_ids };\n    }\n    case ActionTypes.REMOVE_REJECT_TASK_STATUS_ID: {\n      const { reject_task_status_id } = action.payload;\n      const reject_task_status_ids = _.reject(\n        [...state.reject_task_status_ids],\n        item => item === reject_task_status_id\n      );\n      return { ...state, reject_task_status_ids };\n    }\n    case ActionTypes.OPEN_CONTROLLER: {\n      return { ...state, isOpen: true };\n    }\n    case ActionTypes.CLOSE_CONTROLLER: {\n      return { ...state, isOpen: false };\n    }\n    case ActionTypes.UPDATE_DATA: {\n      return { ...state, updated_time: Date.now() };\n    }\n    case ActionTypes.SIGN_IN: {\n      const { username, password } = action.payload;\n      return { ...state, username, password, auth_error: false };\n    }\n    case ActionTypes.SET_AUTH_TOKEN: {\n      const { auth_token } = action.payload;\n      return { ...state, auth_token };\n    }\n    case ActionTypes.SET_AUTH_ERROR: {\n      return { ...state, auth_error: true };\n    }\n    case ActionTypes.SIGN_OUT: {\n      return { ...state, auth_token: \"\", username: \"\", password: \"\" };\n    }\n    case ActionTypes.ADD_POMODORO: {\n      const pomodoro_number = state.pomodoro_number + 1;\n      return {\n        ...state,\n        pomodoro_number\n      };\n    }\n    case ActionTypes.USE_POMODORO: {\n      const { used_number } = action.payload;\n      const pomodoro_used_number = Math.max(\n        0,\n        state.pomodoro_used_number + used_number\n      );\n      return {\n        ...state,\n        pomodoro_used_number\n      };\n    }\n    case ActionTypes.RESET_POMODORO: {\n      const { pomodoro_date } = action.payload;\n      return {\n        ...state,\n        pomodoro_number: 0,\n        pomodoro_used_number: 0,\n        pomodoro_date\n      };\n    }\n    case ActionTypes.RESTORE_POMODORO: {\n      const {\n        pomodoro_date,\n        pomodoro_number,\n        pomodoro_used_number\n      } = action.payload;\n      return {\n        ...state,\n        pomodoro_date,\n        pomodoro_number,\n        pomodoro_used_number\n      };\n    }\n    case ActionTypes.LOADED: {\n      return {\n        ...state,\n        loaded: true\n      };\n    }\n    case ActionTypes.ALLOW_NOTIFICATION: {\n      return {\n        ...state,\n        isNotifable: true\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n","import { Dispatch, useCallback, useMemo } from \"react\";\n\nexport type SideEffector<S, A> = (\n  action: A,\n  dispatch: Dispatch<A>,\n  state: () => S\n) => void;\nconst stateStoreFactory = <S>() => {\n  let state: S;\n  return {\n    getter: () => state,\n    setter: (newState: S) => {\n      state = newState;\n    }\n  };\n};\nexport const useSideEffector = <S, A>(\n  [state, dispatch]: [S, Dispatch<A>],\n  sideEffector: SideEffector<S, A>\n): [S, Dispatch<A>] => {\n  let dispatchSE: Dispatch<A> | null = null;\n\n  const dispatchSECaller = useCallback(\n    (action: A) => {\n      dispatchSE && dispatchSE(action);\n    },\n    [dispatchSE]\n  );\n  const stateStore = useMemo(() => stateStoreFactory<S>(), []);\n\n  stateStore.setter(state);\n  dispatchSE = useCallback(\n    dispatchSideEffector<S, A>(\n      stateStore.getter,\n      dispatch,\n      sideEffector,\n      dispatchSECaller\n    ),\n    []\n  );\n  return [state, dispatchSE];\n};\n\nconst dispatchSideEffector = <S, A>(\n  state: () => S,\n  dispatch: Dispatch<A>,\n  sideEffector: SideEffector<S, A>,\n  dispatchSECaller: Dispatch<A>\n) => (action: A) => {\n  dispatch(action);\n  sideEffector(action, dispatchSECaller, state);\n};\n","import { IProject } from \"../store\";\nimport { ISideEffector, fetchData, ActionTypes, errToastr } from \".\";\nexport const fetchProjecs: ISideEffector = async (action, dispatch, state) => {\n  try {\n    const { url } = state();\n    if (url) {\n      const { data: projects } = await fetchData<IProject[]>(url, \"projects\");\n      dispatch({ type: ActionTypes.SET_PROJECTS, payload: { projects } });\n    }\n  } catch (e) {\n    errToastr(e);\n  }\n};\n","import { IProject } from \"../store\";\nimport { ISideEffector, fetchData, ActionTypes, errToastr } from \".\";\nexport const fetchProject: ISideEffector = async (action, dispatch, state) => {\n  if (action.type === ActionTypes.FETCH_PROJECT) {\n    try {\n      const { url } = state();\n      const { pid } = action.payload;\n      if (url && pid) {\n        const { data: project } = await fetchData<IProject>(\n          url,\n          `projects/${pid}`\n        );\n        dispatch({\n          type: ActionTypes.SET_PROJECT,\n          payload: { project }\n        });\n      }\n    } catch (e) {\n      errToastr(e);\n    }\n  }\n};\n","import { IMilestone } from \"../store\";\nimport { ISideEffector, fetchData, ActionTypes, errToastr } from \".\";\nexport const fetchMilestones: ISideEffector = async (\n  action,\n  dispatch,\n  state\n) => {\n  if (action.type === ActionTypes.FETCH_MILESTONES) {\n    try {\n      const { url } = state();\n      const { project } = action.payload;\n      if (url && project) {\n        const { data: milestones } = await fetchData<IMilestone[]>(\n          url,\n          \"milestones\",\n          { params: { project } }\n        );\n        dispatch({ type: ActionTypes.SET_MILESTONES, payload: { milestones } });\n      }\n    } catch (e) {\n      errToastr(e);\n    }\n  }\n};\n","import { ITask } from \"../store\";\nimport { ISideEffector, fetchData, ActionTypes, errToastr } from \".\";\nimport _ from \"lodash\";\nexport const fetchTasks: ISideEffector = async (action, dispatch, state) => {\n  if (action.type === ActionTypes.FETCH_TASKS) {\n    try {\n      const { url, reject_task_status_ids } = state();\n      const { milestone } = action.payload;\n      if (url && milestone) {\n        const { data } = await fetchData<ITask[]>(url, \"tasks\", {\n          headers: { \"x-disable-pagination\": true },\n          params: { milestone }\n        });\n        const tasks = data.filter(\n          item => !_.includes(reject_task_status_ids, String(item.status))\n        );\n        dispatch({ type: ActionTypes.SET_TASKS, payload: { tasks } });\n      }\n    } catch (e) {\n      errToastr(e);\n    }\n  }\n};\n","import { ITaskStatus } from \"../store\";\nimport { ISideEffector, fetchData, ActionTypes, errToastr } from \".\";\nexport const fetchTaskStatuses: ISideEffector = async (\n  action,\n  dispatch,\n  state\n) => {\n  if (action.type === ActionTypes.FETCH_TASK_STATUSES) {\n    try {\n      const { url } = state();\n      const { project } = action.payload;\n      if (url && project) {\n        const { data: task_statuses } = await fetchData<ITaskStatus[]>(\n          url,\n          \"task-statuses\",\n          { params: { project } }\n        );\n        dispatch({\n          type: ActionTypes.SET_TASK_STATUSES,\n          payload: { task_statuses }\n        });\n      }\n    } catch (e) {\n      errToastr(e);\n    }\n  }\n};\n","import { ICustomAttr } from \"../store\";\nimport { ISideEffector, fetchData, ActionTypes, errToastr } from \".\";\nexport const fetchCustomAttrs: ISideEffector = async (\n  action,\n  dispatch,\n  state\n) => {\n  if (action.type === ActionTypes.FETCH_CUSTOM_ATTRS) {\n    try {\n      const { url } = state();\n      const { project } = action.payload;\n      if (url && project) {\n        const { data: custom_attrs } = await fetchData<ICustomAttr[]>(\n          url,\n          \"task-custom-attributes\",\n          { params: { project } }\n        );\n        dispatch({\n          type: ActionTypes.SET_CUSTOM_ATTRS,\n          payload: { custom_attrs }\n        });\n      }\n    } catch (e) {\n      errToastr(e);\n    }\n  }\n};\n","import { ITask, ICustomValue } from \"../store\";\nimport { ISideEffector, fetchData, ActionTypes, errToastr } from \".\";\nexport const fetchCustomValueMap: ISideEffector = async (\n  action,\n  dispatch,\n  state\n) => {\n  if (action.type === ActionTypes.FETCH_CUSTOM_VALUE_MAP) {\n    try {\n      const { url, custom_eid, custom_rid } = state();\n      const { tasks } = action.payload;\n      if (url && tasks.length && custom_eid && custom_rid) {\n        const custom_value_map = new WeakMap(\n          await Promise.all(\n            tasks.map(async item => {\n              const { data: custom_attr_val } = await fetchData<ICustomValue>(\n                url,\n                `tasks/custom-attributes-values/${item.id}`\n              );\n              return [item, custom_attr_val] as [ITask, ICustomValue];\n            })\n          )\n        );\n        dispatch({\n          type: ActionTypes.SET_CUSTOM_VALUE_MAP,\n          payload: { custom_value_map }\n        });\n      }\n    } catch (e) {\n      errToastr(e);\n    }\n  }\n};\n","import { IUser } from \"../store\";\nimport { ISideEffector, fetchData, ActionTypes, errToastr } from \".\";\nexport const fetchUser: ISideEffector = async (action, dispatch, state) => {\n  if (action.type === ActionTypes.FETCH_USER) {\n    try {\n      const { url } = state();\n      const { uid } = action.payload;\n      if (url && uid) {\n        const { data: user } = await fetchData<IUser>(url, `users/${uid}`);\n        dispatch({\n          type: ActionTypes.SET_USER,\n          payload: { user }\n        });\n      }\n    } catch (e) {\n      errToastr(e);\n    }\n  }\n};\n","import React from \"react\";\nimport { toast } from \"react-toastify\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faInfoCircle,\n  faCheck,\n  faCheckCircle,\n  faExclamationTriangle\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { IconProp } from \"@fortawesome/fontawesome-svg-core\";\ninterface MessageWithIconProps {\n  icon: IconProp;\n  message: string;\n}\nconst MessageWithIcon: React.FC<MessageWithIconProps> = ({ icon, message }) => {\n  return (\n    <div className=\"d-flex\">\n      <h2 className=\"mr-2\">\n        <FontAwesomeIcon icon={icon} />\n      </h2>\n      <div>{message}</div>\n    </div>\n  );\n};\nexport const toastr = {\n  info: (message: string) => {\n    toast.info(<MessageWithIcon icon={faInfoCircle} message={message} />);\n  },\n  success: (message: string) => {\n    toast.success(<MessageWithIcon icon={faCheck} message={message} />);\n  },\n  warn: (message: string) => {\n    toast.warn(\n      <MessageWithIcon icon={faExclamationTriangle} message={message} />\n    );\n  },\n  error: (message: string) => {\n    toast.error(<MessageWithIcon icon={faCheckCircle} message={message} />);\n  }\n};\n","import { ISideEffector, patchData, ActionTypes, errToastr } from \".\";\nimport { toastr } from \"../util/toastr\";\nexport const patchCustomValue: ISideEffector = async (\n  action,\n  dispatch,\n  state\n) => {\n  if (action.type === ActionTypes.PATCH_CUSTOM_VALUE) {\n    try {\n      const { url, custom_value_map, tasks } = state();\n      const { id, key, value, version } = action.payload;\n      const task = tasks.find(task => task.id === id);\n      if (url && id && key && task && custom_value_map.has(task)) {\n        const custom_value = custom_value_map.get(task);\n        if (custom_value) {\n          const { attributes_values } = custom_value;\n          await patchData(url, `tasks/custom-attributes-values/${id}`, {\n            attributes_values: {\n              ...attributes_values,\n              [key]: String(value)\n            },\n            version\n          });\n          if (action.meta && action.meta.use_pomodoro) {\n            const { used_number } = action.meta.use_pomodoro;\n            dispatch({\n              type: ActionTypes.USE_POMODORO,\n              payload: { used_number }\n            });\n          }\n          dispatch({ type: ActionTypes.UPDATE_DATA });\n          toastr.success(`Custom value updated. [${value}]`);\n        }\n      }\n    } catch (e) {\n      errToastr(e);\n    }\n  }\n};\n","import { ActionTypes, ISideEffector, patchData, errToastr } from \".\";\nimport { toastr } from \"../util/toastr\";\nexport const patchTask: ISideEffector = async (action, dispatch, state) => {\n  if (action.type === ActionTypes.PATCH_TASK) {\n    try {\n      const { url, tasks } = state();\n      const { id, key, value } = action.payload;\n      const task = tasks.find(task => task.id === id);\n      if (url && id && key && task) {\n        await patchData(url, `tasks/${id}`, {\n          [key]: value,\n          version: task.version\n        });\n        dispatch({ type: ActionTypes.UPDATE_DATA });\n        toastr.success(`Task updated. [${key}=${value}]`);\n      }\n    } catch (e) {\n      errToastr(e);\n    }\n  }\n};\n","import { IAuthToken, StorageKey, setToStorage } from \"../store\";\nimport { ISideEffector, postData, ActionTypes, errToastr } from \".\";\nimport { toastr } from \"../util/toastr\";\nexport const signIn: ISideEffector = async (action, dispatch, state) => {\n  if (action.type === ActionTypes.SIGN_IN) {\n    try {\n      const { url } = state();\n      const { username, password } = action.payload;\n      if (url && username && password) {\n        const {\n          data: { auth_token }\n        } = await postData<IAuthToken>(url, \"auth\", {\n          username,\n          password,\n          type: \"normal\"\n        });\n        dispatch({ type: ActionTypes.SET_AUTH_TOKEN, payload: { auth_token } });\n        setToStorage(StorageKey.USERNAME, username);\n        setToStorage(StorageKey.PASSWORD, password);\n        toastr.success(`${username} signed in.`);\n      }\n    } catch (e) {\n      dispatch({ type: ActionTypes.SET_AUTH_ERROR });\n      dispatch({ type: ActionTypes.SIGN_OUT });\n      errToastr(e);\n    }\n  }\n};\n","import { Dispatch } from \"react\";\nimport { Actions, ActionTypes } from \"../actions\";\nimport { IState } from \"../store\";\nimport { baseUrl } from \"../Provider\";\nimport { fetchProjecs } from \"./fetchProjects\";\nimport { fetchProject } from \"./fetchProject\";\nimport { fetchMilestones } from \"./fetchMilestones\";\nimport { fetchTasks } from \"./fetchTasks\";\nimport { fetchTaskStatuses } from \"./fetchTaskStatuses\";\nimport { fetchCustomAttrs } from \"./fetchCustomAttrs\";\nimport { fetchCustomValueMap } from \"./fetchCustomValueMap\";\nimport { fetchUser } from \"./fetchUser\";\nimport { patchCustomValue } from \"./patchCustomValue\";\nimport { patchTask } from \"./patchTask\";\nimport { signIn } from \"./signIn\";\nimport { signOut } from \"./signOut\";\nimport { setAuthToken } from \"./setAuthToken\";\nimport { setUrl } from \"./setUrl\";\nimport { setPid } from \"./setPid\";\nimport { setMid } from \"./setMid\";\nimport { setCustomEid } from \"./setCustomEid\";\nimport { setCustomRid } from \"./setCustomRid\";\nimport { syncBizDays } from \"./syncBizDays\";\nimport { syncRejectTaskStatusIds } from \"./syncRejectTaskStatusIds\";\nimport { syncPomodoro } from \"./syncPomodoro\";\nimport axios, { AxiosRequestConfig, AxiosError } from \"axios\";\nimport { toastr } from \"../util/toastr\";\nexport { ActionTypes };\nexport type ISideEffector = (\n  action: Actions,\n  dispatch: Dispatch<Actions>,\n  state: () => IState\n) => void;\nexport const fetchData = <T>(\n  url: string,\n  path: string,\n  config?: AxiosRequestConfig\n) => axios.get<T>(`${baseUrl(url)}/${path}`, config);\nexport const postData = <T>(\n  url: string,\n  path: string,\n  data: object,\n  config?: AxiosRequestConfig\n) => axios.post<T>(`${baseUrl(url)}/${path}`, data, config);\nexport const patchData = (\n  url: string,\n  path: string,\n  data: object,\n  config?: AxiosRequestConfig\n) => axios.patch(`${baseUrl(url)}/${path}`, data, config);\nexport const errToastr = (err: AxiosError) => {\n  let message: string;\n  try {\n    message = err.response ? err.response.data._error_message : \"error\";\n  } catch (e) {\n    message = e.message || e;\n  }\n  toastr.error(message);\n};\nexport const rootSideEffector = (\n  action: Actions,\n  dispatch: Dispatch<Actions>,\n  state: () => IState\n) => {\n  switch (action.type) {\n    case ActionTypes.FETCH_PROJECTS: {\n      fetchProjecs(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.FETCH_PROJECT: {\n      fetchProject(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.FETCH_MILESTONES: {\n      fetchMilestones(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.FETCH_TASKS: {\n      fetchTasks(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.FETCH_TASK_STATUSES: {\n      fetchTaskStatuses(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.FETCH_CUSTOM_ATTRS: {\n      fetchCustomAttrs(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.FETCH_CUSTOM_VALUE_MAP: {\n      fetchCustomValueMap(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.FETCH_USER: {\n      fetchUser(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.PATCH_CUSTOM_VALUE: {\n      patchCustomValue(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.SIGN_IN: {\n      signIn(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.PATCH_TASK: {\n      patchTask(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.SIGN_OUT: {\n      signOut(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.SET_AUTH_TOKEN: {\n      setAuthToken(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.SET_URL: {\n      setUrl(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.SET_PID: {\n      setPid(action, dispatch, state);\n      break;\n    }\n    case ActionTypes.SET_MID: {\n      setMid(action, dispatch, state);\n      break;\n    }\n    case ActionTypes.SET_CUSTOM_EID: {\n      setCustomEid(action, dispatch, state);\n      break;\n    }\n    case ActionTypes.SET_CUSTOM_RID: {\n      setCustomRid(action, dispatch, state);\n      break;\n    }\n    case ActionTypes.SET_BIZ_DAYS:\n    case ActionTypes.ADD_BIZ_DAY:\n    case ActionTypes.REMOVE_BIZ_DAY: {\n      syncBizDays(action, dispatch, state);\n      break;\n    }\n    case ActionTypes.ADD_REJECT_TASK_STATUS_ID:\n    case ActionTypes.REMOVE_REJECT_TASK_STATUS_ID: {\n      syncRejectTaskStatusIds(action, dispatch, state);\n      break;\n    }\n    case ActionTypes.ADD_POMODORO:\n    case ActionTypes.USE_POMODORO:\n    case ActionTypes.RESET_POMODORO: {\n      syncPomodoro(action, dispatch, state);\n      break;\n    }\n    default: {\n    }\n  }\n};\n","import { StorageKey } from \"../store\";\nimport { ISideEffector } from \".\";\nimport axios from \"axios\";\nexport const signOut: ISideEffector = (action, dispatch, state) => {\n  localStorage.removeItem(StorageKey.USERNAME);\n  localStorage.removeItem(StorageKey.PASSWORD);\n  if (axios.defaults.headers.common[\"Authorization\"]) {\n    delete axios.defaults.headers.common[\"Authorization\"];\n  }\n};\n","import { ISideEffector, ActionTypes } from \".\";\nimport axios from \"axios\";\nexport const setAuthToken: ISideEffector = (action, dispatch, state) => {\n  if (action.type === ActionTypes.SET_AUTH_TOKEN) {\n    const { auth_token } = action.payload;\n    axios.defaults.headers.common[\"Authorization\"] = `Bearer ${auth_token}`;\n  }\n};\n","import { StorageKey, setToStorage } from \"../store\";\nimport { ISideEffector, ActionTypes } from \".\";\nexport const setUrl: ISideEffector = (action, dispatch, state) => {\n  if (action.type === ActionTypes.SET_URL) {\n    const { url } = action.payload;\n    setToStorage(StorageKey.URL, url);\n  }\n};\n","import { StorageKey, setToStorage, getFromStorageWithSubkey } from \"../store\";\nimport { ISideEffector, ActionTypes } from \".\";\nexport const setPid: ISideEffector = (action, dispatch, state) => {\n  if (action.type === ActionTypes.SET_PID) {\n    const { pid } = action.payload;\n    setToStorage(StorageKey.PID, pid);\n    localStorage.removeItem(StorageKey.MID);\n    const custom_eid = getFromStorageWithSubkey(StorageKey.CUSTOM_EID, pid);\n    const custom_rid = getFromStorageWithSubkey(StorageKey.CUSTOM_RID, pid);\n    dispatch({ type: ActionTypes.SET_CUSTOM_EID, payload: { custom_eid } });\n    dispatch({ type: ActionTypes.SET_CUSTOM_RID, payload: { custom_rid } });\n  }\n};\n","import { StorageKey, setToStorage, getFromStorageWithSubkey } from \"../store\";\nimport { ISideEffector, ActionTypes } from \".\";\nimport _ from \"lodash\";\nexport const setMid: ISideEffector = (action, dispatch, state) => {\n  if (action.type === ActionTypes.SET_MID) {\n    const { mid } = action.payload;\n    setToStorage(StorageKey.MID, mid);\n    const biz_days = _.compact(\n      getFromStorageWithSubkey(StorageKey.BIZ_DAYS, mid).split(\",\")\n    ).sort();\n    dispatch({ type: ActionTypes.SET_BIZ_DAYS, payload: { biz_days } });\n  }\n};\n","import { StorageKey, setToStorageWithSubkey, getFromStorage } from \"../store\";\nimport { ISideEffector, ActionTypes } from \".\";\nexport const setCustomEid: ISideEffector = (action, dispatch, state) => {\n  if (action.type === ActionTypes.SET_CUSTOM_EID) {\n    const { custom_eid } = action.payload;\n    const pid = getFromStorage(StorageKey.PID);\n    setToStorageWithSubkey(StorageKey.CUSTOM_EID, pid, custom_eid);\n  }\n};\n","import { StorageKey, setToStorageWithSubkey, getFromStorage } from \"../store\";\nimport { ISideEffector, ActionTypes } from \".\";\nexport const setCustomRid: ISideEffector = (action, dispatch, state) => {\n  if (action.type === ActionTypes.SET_CUSTOM_RID) {\n    const { custom_rid } = action.payload;\n    const pid = getFromStorage(StorageKey.PID);\n    setToStorageWithSubkey(StorageKey.CUSTOM_RID, pid, custom_rid);\n  }\n};\n","import { StorageKey, setToStorageWithSubkey } from \"../store\";\nimport { ISideEffector } from \".\";\nimport _ from \"lodash\";\nexport const syncBizDays: ISideEffector = (action, dispathc, state) => {\n  _.defer(() => {\n    const { mid, biz_days } = state();\n    setToStorageWithSubkey(StorageKey.BIZ_DAYS, mid, biz_days.join(\",\"));\n  });\n};\n","import { StorageKey, setToStorageWithSubkey } from \"../store\";\nimport { ISideEffector } from \".\";\nimport _ from \"lodash\";\nexport const syncRejectTaskStatusIds: ISideEffector = (\n  action,\n  dispatch,\n  state\n) => {\n  _.defer(() => {\n    const { pid, reject_task_status_ids } = state();\n    setToStorageWithSubkey(\n      StorageKey.REJECT_TASK_STATUS_IDS,\n      pid,\n      reject_task_status_ids.join(\",\")\n    );\n  });\n};\n","import { StorageKey, setToStorage } from \"../store\";\nimport { ISideEffector } from \".\";\nimport _ from \"lodash\";\nexport const syncPomodoro: ISideEffector = (action, dispatchm, state) => {\n  _.defer(() => {\n    const { pomodoro_date, pomodoro_number, pomodoro_used_number } = state();\n    setToStorage(StorageKey.POMODORO_DATE, pomodoro_date);\n    setToStorage(StorageKey.POMODORO_NUMBER, String(pomodoro_number));\n    setToStorage(StorageKey.POMODORO_USED_NUMBER, String(pomodoro_used_number));\n  });\n};\n","import { Dispatch } from \"react\";\nimport { Actions, ActionTypes } from \"./actions\";\nimport { getFromStorage, getFromStorageWithSubkey, StorageKey } from \"./store\";\nimport _ from \"lodash\";\nconst signIn = (dispatch: Dispatch<Actions>) => {\n  const username = getFromStorage(StorageKey.USERNAME);\n  const password = getFromStorage(StorageKey.PASSWORD);\n  dispatch({ type: ActionTypes.SIGN_IN, payload: { username, password } });\n};\nconst syncStorage = (dispatch: Dispatch<Actions>) => {\n  const url = getFromStorage(StorageKey.URL);\n  const pid = getFromStorage(StorageKey.PID);\n  const mid = getFromStorage(StorageKey.MID);\n  const custom_eid = getFromStorageWithSubkey(StorageKey.CUSTOM_EID, pid);\n  const custom_rid = getFromStorageWithSubkey(StorageKey.CUSTOM_RID, pid);\n  const biz_days = _.compact(\n    getFromStorageWithSubkey(StorageKey.BIZ_DAYS, mid).split(\",\")\n  ).sort();\n  const reject_task_status_ids = _.compact(\n    getFromStorageWithSubkey(StorageKey.REJECT_TASK_STATUS_IDS, pid).split(\",\")\n  );\n\n  const isOpen = !(url && pid && mid && custom_eid && custom_rid);\n\n  const pomodoro_date = getFromStorage(StorageKey.POMODORO_DATE);\n  const pomodoro_number = Number(\n    getFromStorage(StorageKey.POMODORO_NUMBER) || \"0\"\n  );\n  const pomodoro_used_number = Number(\n    getFromStorage(StorageKey.POMODORO_USED_NUMBER) || \"0\"\n  );\n  url && dispatch({ type: ActionTypes.SET_URL, payload: { url } });\n  pid && dispatch({ type: ActionTypes.SET_PID, payload: { pid } });\n  mid && dispatch({ type: ActionTypes.SET_MID, payload: { mid } });\n  custom_eid &&\n    dispatch({ type: ActionTypes.SET_CUSTOM_EID, payload: { custom_eid } });\n  custom_rid &&\n    dispatch({ type: ActionTypes.SET_CUSTOM_RID, payload: { custom_rid } });\n  biz_days.length &&\n    dispatch({ type: ActionTypes.SET_BIZ_DAYS, payload: { biz_days } });\n  reject_task_status_ids.length &&\n    dispatch({\n      type: ActionTypes.SET_REJECT_TASK_STATUS_IDS,\n      payload: { reject_task_status_ids }\n    });\n\n  isOpen && dispatch({ type: ActionTypes.OPEN_CONTROLLER });\n  pomodoro_date &&\n    dispatch({\n      type: ActionTypes.RESTORE_POMODORO,\n      payload: { pomodoro_date, pomodoro_number, pomodoro_used_number }\n    });\n  dispatch({ type: ActionTypes.LOADED });\n};\nexport const init = (dispatch: Dispatch<Actions>) => {\n  syncStorage(dispatch);\n  _.defer(() => {\n    signIn(dispatch);\n  });\n};\n","import React, { createContext, useReducer, useEffect } from \"react\";\nimport _ from \"lodash\";\nimport { ActionTypes } from \"./actions\";\nimport { initialState, ICustomAttr, IMilestone, ITask } from \"./store\";\nimport { reducer } from \"./reducer\";\nimport { Actions } from \"./actions\";\nimport { useSideEffector } from \"./util/useSideEffector\";\nimport { rootSideEffector } from \"./sideEffectors\";\nimport { init } from \"./init\";\nexport const baseUrl = (url: string) => `${url.replace(/[¥/]$/, \"\")}/api/v1`;\nconst getCustomAttr = (items: ICustomAttr[], id: number) =>\n  _.find(items, { id });\nconst getMilestone = (items: IMilestone[], mid: string) =>\n  items.find(item => String(item.id) === mid);\nconst getUserTasks = (items: ITask[], uid: number) =>\n  _.chain(items)\n    .filter({ assigned_to: uid })\n    .sortBy(\"user_story\")\n    .value();\n\nexport const RootContext = createContext({\n  state: initialState,\n  dispatch: (action: Actions) => {}\n});\nexport const Provider = ({ children }: { children: React.ReactNode }) => {\n  const [state, dispatch] = useSideEffector(\n    useReducer(reducer, initialState),\n    rootSideEffector\n  );\n  const value = {\n    state,\n    dispatch\n  };\n\n  useEffect(() => {\n    if (state.url) {\n      dispatch({ type: ActionTypes.FETCH_PROJECTS });\n    }\n  }, [dispatch, state.url]);\n  useEffect(() => {\n    if (state.url && state.pid) {\n      dispatch({\n        type: ActionTypes.FETCH_MILESTONES,\n        payload: { project: state.pid }\n      });\n      dispatch({\n        type: ActionTypes.FETCH_CUSTOM_ATTRS,\n        payload: { project: state.pid }\n      });\n      dispatch({\n        type: ActionTypes.FETCH_TASK_STATUSES,\n        payload: { project: state.pid }\n      });\n      dispatch({\n        type: ActionTypes.FETCH_PROJECT,\n        payload: { pid: state.pid }\n      });\n    }\n  }, [state.url, state.pid, dispatch]);\n  useEffect(() => {\n    if (state.url && state.mid) {\n      dispatch({\n        type: ActionTypes.FETCH_TASKS,\n        payload: {\n          milestone: state.mid,\n          reject_task_status_ids: state.reject_task_status_ids\n        }\n      });\n    }\n  }, [\n    state.url,\n    state.mid,\n    state.updated_time,\n    state.reject_task_status_ids,\n    dispatch\n  ]);\n  useEffect(() => {\n    dispatch({\n      type: ActionTypes.FETCH_CUSTOM_VALUE_MAP,\n      payload: {\n        tasks: state.tasks\n      }\n    });\n  }, [dispatch, state.tasks, state.custom_eid, state.custom_rid]);\n  useEffect(() => {\n    const active_task_statuses = _.chain(state.task_statuses)\n      .reject(item => _.includes(state.reject_task_status_ids, String(item.id)))\n      .orderBy(item => item.order)\n      .value();\n    dispatch({\n      type: ActionTypes.SET_ACTIVE_TASK_STATUSES,\n      payload: { active_task_statuses }\n    });\n  }, [state.task_statuses, state.reject_task_status_ids, dispatch]);\n  useEffect(() => {\n    const custom_attr_e = getCustomAttr(\n      state.custom_attrs,\n      Number(state.custom_eid)\n    );\n    if (custom_attr_e) {\n      dispatch({\n        type: ActionTypes.SET_CUSTOM_ATTR_E,\n        payload: { custom_attr_e }\n      });\n    }\n  }, [dispatch, state.custom_attrs, state.custom_eid]);\n  useEffect(() => {\n    const custom_attr_r = getCustomAttr(\n      state.custom_attrs,\n      Number(state.custom_rid)\n    );\n    if (custom_attr_r) {\n      dispatch({\n        type: ActionTypes.SET_CUSTOM_ATTR_R,\n        payload: { custom_attr_r }\n      });\n    }\n  }, [dispatch, state.custom_attrs, state.custom_rid]);\n  useEffect(() => {\n    const milestone = getMilestone(state.milestones, state.mid);\n    if (milestone) {\n      dispatch({\n        type: ActionTypes.SET_MILESTONE,\n        payload: { milestone }\n      });\n    }\n  }, [dispatch, state.mid, state.milestones]);\n  useEffect(() => {\n    if (state.tasks.length > 0 && state.user) {\n      const user_tasks = getUserTasks(state.tasks, state.user.id);\n      dispatch({ type: ActionTypes.SET_USER_TASKS, payload: { user_tasks } });\n    }\n  }, [dispatch, state.tasks, state.user]);\n\n  useEffect(() => {\n    init(dispatch);\n  }, [dispatch]);\n  return <RootContext.Provider value={value}>{children}</RootContext.Provider>;\n};\n","import React from \"react\";\nexport const preventDefault = (e: React.FormEvent) => {\n  e.preventDefault();\n};\nexport const stopPropagation = (e: React.FormEvent) => {\n  e.stopPropagation();\n};\n","import React, { useCallback, useContext } from \"react\";\nimport { Input, InputGroup, InputGroupAddon } from \"reactstrap\";\nimport { RootContext } from \"../Provider\";\nimport { ActionTypes } from \"../actions\";\nexport const ProjectSelector = () => {\n  const {\n    state: { pid, projects },\n    dispatch\n  } = useContext(RootContext);\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const id = e.target.value;\n      if (id) {\n        dispatch({ type: ActionTypes.SET_PID, payload: { pid: id } });\n      }\n    },\n    [dispatch]\n  );\n  return (\n    <InputGroup className=\"col\">\n      <InputGroupAddon addonType=\"prepend\">Project</InputGroupAddon>\n      <Input value={pid} type=\"select\" onChange={handleChange}>\n        <option value=\"\"> --- </option>\n        {projects.map(item => (\n          <option key={item.id} value={item.id}>\n            {item.name}\n          </option>\n        ))}\n      </Input>\n    </InputGroup>\n  );\n};\n","import React, { useCallback, useContext } from \"react\";\nimport { Input, InputGroup, InputGroupAddon } from \"reactstrap\";\nimport { RootContext } from \"../Provider\";\nimport { ActionTypes } from \"../actions\";\n\nexport const MilestoneSelector = () => {\n  const {\n    state: { milestones, mid },\n    dispatch\n  } = useContext(RootContext);\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const id = e.target.value;\n      if (id) {\n        dispatch({ type: ActionTypes.SET_MID, payload: { mid: id } });\n      }\n    },\n    [dispatch]\n  );\n\n  return (\n    <InputGroup className=\"col\">\n      <InputGroupAddon addonType=\"prepend\">Sprint</InputGroupAddon>\n      <Input type=\"select\" value={mid} onChange={handleChange}>\n        <option value=\"\"> --- </option>\n        {milestones.map(item => (\n          <option key={item.id} value={item.id}>\n            {item.name}\n          </option>\n        ))}\n      </Input>\n    </InputGroup>\n  );\n};\n","import React, { useCallback, useContext } from \"react\";\nimport { Input, InputGroup, InputGroupAddon } from \"reactstrap\";\nimport { RootContext } from \"../Provider\";\nimport { ActionTypes } from \"../actions\";\n\nexport const CustomValuesSelector = () => {\n  const {\n    state: { custom_attrs, custom_eid, custom_rid },\n    dispatch\n  } = useContext(RootContext);\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const id = e.target.value;\n      if (id) {\n        switch (e.target.name) {\n          case \"eid\": {\n            dispatch({\n              type: ActionTypes.SET_CUSTOM_EID,\n              payload: { custom_eid: id }\n            });\n            break;\n          }\n          case \"rid\": {\n            dispatch({\n              type: ActionTypes.SET_CUSTOM_RID,\n              payload: { custom_rid: id }\n            });\n            break;\n          }\n        }\n      }\n    },\n    [dispatch]\n  );\n  return (\n    <div className=\"row\">\n      <InputGroup className=\"col\">\n        <InputGroupAddon addonType=\"prepend\">Estimate</InputGroupAddon>\n        <Input\n          value={custom_eid}\n          name=\"eid\"\n          type=\"select\"\n          onChange={handleChange}\n        >\n          <option value=\"\"> --- </option>\n          {custom_attrs.map(item => (\n            <option key={item.id} value={item.id}>\n              {item.name}\n            </option>\n          ))}\n        </Input>\n      </InputGroup>\n      <InputGroup className=\"col\">\n        <InputGroupAddon addonType=\"prepend\">Result</InputGroupAddon>\n        <Input\n          value={custom_rid}\n          name=\"rid\"\n          type=\"select\"\n          onChange={handleChange}\n        >\n          <option> --- </option>\n          {custom_attrs.map(item => (\n            <option key={item.id} value={item.id}>\n              {item.name}\n            </option>\n          ))}\n        </Input>\n      </InputGroup>\n    </div>\n  );\n};\n","import React, { useEffect, useState, useContext, useCallback } from \"react\";\nimport classNames from \"classnames\";\nimport {\n  UncontrolledTooltip,\n  Table,\n  Card,\n  CardHeader,\n  Input,\n  Label,\n  FormGroup\n} from \"reactstrap\";\nimport { IMilestone } from \"../store\";\nimport { RootContext } from \"../Provider\";\nimport moment, { Moment } from \"moment\";\nimport biz from \"moment-business\";\nimport _ from \"lodash\";\nimport { ActionTypes } from \"../actions\";\nexport const isToday = (date: string) =>\n  moment()\n    .local()\n    .format(\"YYYY-MM-DD\") ===\n  moment(date)\n    .local()\n    .format(\"YYYY-MM-DD\");\n\nexport const dayNameFromIdx = (date: string, idx: number) => {\n  if (idx === -1) {\n    return \"\";\n  }\n  if (idx === 0) {\n    return \"Planning\";\n  }\n  return `Day ${idx}`;\n};\n\nexport const dayName = (date: string, biz_days: string[]) => {\n  const idx = biz_days.indexOf(date);\n  return dayNameFromIdx(date, idx);\n};\nconst getDays = (item: IMilestone) => {\n  const startM = moment(item.estimated_start).local();\n  const finishM = moment(item.estimated_finish).local();\n  const daysInSprint = finishM.diff(startM, \"days\");\n  return _.times(daysInSprint).map(i => startM.clone().add(i, \"days\"));\n};\nconst getDefaultBizDays = (items: Moment[]) =>\n  items\n    .filter(item => biz.isWeekDay(item))\n    .map(item => item.format(\"YYYY-MM-DD\"));\n\nconst weekClassName = (day: number) => ({\n  \"text-danger\": day === 0,\n  \"text-info\": day === 6\n});\n\ninterface DayItemProps {\n  item: Moment | null;\n  idx: number;\n}\nconst DayItem: React.FC<DayItemProps> = ({ item, idx }) => {\n  const {\n    state: { biz_days },\n    dispatch\n  } = useContext(RootContext);\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const biz_day = e.target.value;\n      if (e.target.checked) {\n        dispatch({ type: ActionTypes.ADD_BIZ_DAY, payload: { biz_day } });\n      } else {\n        dispatch({ type: ActionTypes.REMOVE_BIZ_DAY, payload: { biz_day } });\n      }\n    },\n    [dispatch]\n  );\n  if (!item) {\n    return (\n      <td>\n        <br />\n      </td>\n    );\n  }\n  const value = item.format(\"YYYY-MM-DD\");\n  const isPlanning = value === biz_days[0];\n  const eleId = `biz-day-${value}`;\n  const checked = _.includes(biz_days, value);\n  return (\n    <>\n      <td\n        className={classNames(weekClassName(idx), { \"table-info\": isPlanning })}\n        id={eleId}\n      >\n        {biz.isWeekDay(item) ? (\n          <FormGroup check inline>\n            <Label check>\n              <Input\n                onChange={handleChange}\n                disabled={biz.isWeekendDay(item)}\n                value={value}\n                type=\"checkbox\"\n                checked={checked}\n                className=\"form-check-input\"\n              />\n              {value}\n            </Label>\n          </FormGroup>\n        ) : (\n          <span>{value}</span>\n        )}\n      </td>\n      {checked ? (\n        <UncontrolledTooltip target={eleId}>\n          {dayName(value, biz_days)}\n        </UncontrolledTooltip>\n      ) : null}\n    </>\n  );\n};\n\nexport const DaysSelector: React.FC = () => {\n  const {\n    state: { biz_days, milestone },\n    dispatch\n  } = useContext(RootContext);\n  const [items, setItems] = useState<Moment[]>([]);\n  useEffect(() => {\n    if (milestone) {\n      const items = getDays(milestone);\n      setItems(items);\n      if (biz_days.length <= 1) {\n        dispatch({\n          type: ActionTypes.SET_BIZ_DAYS,\n          payload: { biz_days: getDefaultBizDays(items) }\n        });\n      }\n    }\n  }, [milestone, biz_days, dispatch]);\n  if (items.length === 0) {\n    return null;\n  } else {\n    const weekdays = _.chunk(\n      [..._.times(items[0].day(), () => null), ...items],\n      7\n    );\n    return (\n      <Card>\n        <CardHeader>Business Days</CardHeader>\n        <Table bordered>\n          <thead>\n            <tr>\n              {moment.weekdays().map((item, idx) => (\n                <th\n                  key={idx}\n                  className={classNames(\"text-center\", weekClassName(idx))}\n                >\n                  {item}\n                </th>\n              ))}\n            </tr>\n          </thead>\n          <tbody>\n            {weekdays.map((days, i) => (\n              <tr key={i}>\n                {days.map((item, idx) => (\n                  <DayItem idx={idx} key={idx} item={item} />\n                ))}\n              </tr>\n            ))}\n          </tbody>\n        </Table>\n      </Card>\n    );\n  }\n};\n","import React, { useCallback, useContext } from \"react\";\nimport _ from \"lodash\";\nimport { RootContext } from \"../Provider\";\nimport {\n  Card,\n  CardHeader,\n  CardBody,\n  Input,\n  FormGroup,\n  Label\n} from \"reactstrap\";\nimport { ITaskStatus } from \"../store\";\nimport { ActionTypes } from \"../actions\";\nconst StatusItem = ({ item }: { item: ITaskStatus }) => {\n  const {\n    state: { reject_task_status_ids },\n    dispatch\n  } = useContext(RootContext);\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const reject_task_status_id = e.target.value;\n      if (e.target.checked) {\n        dispatch({\n          type: ActionTypes.REMOVE_REJECT_TASK_STATUS_ID,\n          payload: { reject_task_status_id }\n        });\n      } else {\n        dispatch({\n          type: ActionTypes.ADD_REJECT_TASK_STATUS_ID,\n          payload: { reject_task_status_id }\n        });\n      }\n    },\n    [dispatch]\n  );\n  return (\n    <FormGroup check inline>\n      <Label check>\n        <Input\n          onChange={handleChange}\n          type=\"checkbox\"\n          value={item.id}\n          defaultChecked={!_.includes(reject_task_status_ids, String(item.id))}\n        />\n        {item.name}\n      </Label>\n    </FormGroup>\n  );\n};\nexport const TaskStatusSelector = () => {\n  const {\n    state: { task_statuses }\n  } = useContext(RootContext);\n  if (task_statuses.length === 0) {\n    return null;\n  }\n  return (\n    <Card>\n      <CardHeader>Task status</CardHeader>\n      <CardBody>\n        {task_statuses.map(item => (\n          <StatusItem key={item.id} item={item} />\n        ))}\n      </CardBody>\n    </Card>\n  );\n};\n","import React, { useContext, useState, useCallback, useMemo } from \"react\";\nimport _ from \"lodash\";\nimport classNames from \"classnames\";\nimport { RootContext } from \"../Provider\";\nimport {\n  Card,\n  CardHeader,\n  Collapse,\n  Form,\n  Input,\n  InputGroup,\n  InputGroupAddon,\n  Button,\n  Badge\n} from \"reactstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faChevronCircleRight,\n  faExternalLinkAlt\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { stopPropagation } from \"../util/handler\";\nimport { ProjectSelector } from \"./ProjectSelector\";\nimport { MilestoneSelector } from \"./MilestoneSelector\";\nimport { CustomValuesSelector } from \"./CustomValuesSelector\";\nimport { DaysSelector } from \"./DaysSelector\";\nimport { TaskStatusSelector } from \"./TaskStatusSelector\";\nimport { IMilestone } from \"../store\";\nimport styles from \"./Controller.module.css\";\nimport { ActionTypes } from \"../actions\";\nconst getTaskboardUrl = (url: string, milestone: IMilestone) => {\n  if (url && milestone.project_extra_info) {\n    return `${url}/project/${milestone.project_extra_info.slug}/taskboard/${\n      milestone.slug\n    }`;\n  } else {\n    return \"\";\n  }\n};\n\nconst getRange = (biz_days: string[]) => {\n  if (biz_days.length > 1) {\n    return `[${_.head(biz_days)} - ${_.last(biz_days)}]`;\n  } else {\n    return \"\";\n  }\n};\nexport const ToggleIcon = ({ isOpen }: { isOpen: boolean }) => {\n  const rotation = isOpen ? 90 : undefined;\n  return (\n    <FontAwesomeIcon\n      className=\"text-muted mr-2\"\n      rotation={rotation}\n      icon={faChevronCircleRight}\n    />\n  );\n};\nexport const Controller = () => {\n  const {\n    state: { url: stateUrl, isOpen, biz_days, milestone },\n    dispatch\n  } = useContext(RootContext);\n  const [url, setUrl] = useState(\"\");\n  const handleUrl = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      setUrl(e.target.value);\n    },\n    [setUrl]\n  );\n  const handleSubmit = useCallback(\n    (e: React.FormEvent) => {\n      if (url) {\n        dispatch({ type: ActionTypes.SET_URL, payload: { url } });\n      }\n      e.preventDefault();\n    },\n    [url, dispatch]\n  );\n  const toggle = useCallback(() => {\n    if (isOpen) {\n      dispatch({ type: ActionTypes.CLOSE_CONTROLLER });\n    } else {\n      dispatch({ type: ActionTypes.OPEN_CONTROLLER });\n    }\n  }, [dispatch, isOpen]);\n  const taskboardUrl = useMemo(() => getTaskboardUrl(stateUrl, milestone), [\n    milestone,\n    stateUrl\n  ]);\n  const spName = milestone.name;\n  const range = useMemo(() => getRange(biz_days), [biz_days]);\n  return (\n    <Card>\n      <CardHeader className={classNames(styles.header)} onClick={toggle}>\n        <ToggleIcon isOpen={isOpen} />\n        {spName && (\n          <Badge color=\"primary\" pill className=\"p-1 m-1\">\n            <span>{spName}</span>\n          </Badge>\n        )}\n        {range && (\n          <Badge className=\"p-1 m-1\">\n            <span>{range}</span>\n          </Badge>\n        )}\n        {taskboardUrl ? (\n          <a\n            target=\"_blank\"\n            onClick={stopPropagation}\n            className=\"float-right\"\n            href={taskboardUrl}\n            rel=\"noopener noreferrer\"\n          >\n            <FontAwesomeIcon className=\"mr-1\" icon={faExternalLinkAlt} />\n            Taskboard\n          </a>\n        ) : null}\n      </CardHeader>\n      <Collapse isOpen={isOpen}>\n        <Form onSubmit={handleSubmit}>\n          <InputGroup>\n            <InputGroupAddon addonType=\"prepend\">URL</InputGroupAddon>\n            <Input\n              defaultValue={stateUrl}\n              onChange={handleUrl}\n              placeholder=\"http://hostname:port\"\n            />\n            <InputGroupAddon addonType=\"append\">\n              <Button>Set</Button>\n            </InputGroupAddon>\n          </InputGroup>\n        </Form>\n        <div className=\"row\">\n          <ProjectSelector />\n          <MilestoneSelector />\n        </div>\n        <CustomValuesSelector />\n        <DaysSelector />\n        <TaskStatusSelector />\n      </Collapse>\n    </Card>\n  );\n};\n","import React, { useContext, useCallback } from \"react\";\nimport { Button } from \"reactstrap\";\nimport { faSyncAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { RootContext } from \"../Provider\";\nimport { ActionTypes } from \"../actions\";\nexport const UpdateButton: React.FC = () => {\n  const { dispatch } = useContext(RootContext);\n  const updateData = useCallback(() => {\n    dispatch({ type: ActionTypes.UPDATE_DATA });\n  }, [dispatch]);\n  return (\n    <Button onClick={updateData}>\n      <FontAwesomeIcon icon={faSyncAlt} />\n    </Button>\n  );\n};\n","import React, { useCallback, useContext, useEffect, useState } from \"react\";\nimport {\n  Button,\n  Form,\n  InputGroup,\n  Input,\n  InputGroupAddon,\n  InputGroupText,\n  Spinner\n} from \"reactstrap\";\nimport { RootContext } from \"../Provider\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faUser,\n  faKey,\n  faSignInAlt,\n  faSignOutAlt\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { ActionTypes } from \"../actions\";\nimport { preventDefault } from \"../util/handler\";\nexport const SignInForm: React.FC = () => {\n  const {\n    state: { auth_token, auth_error, username: sign_in_username },\n    dispatch\n  } = useContext(RootContext);\n\n  const [username, setUsername] = useState<string>(\"\");\n  const [password, setPassword] = useState<string>(\"\");\n  const [loading, setLoading] = useState<boolean>(false);\n\n  const handleSubmit = useCallback(\n    (e: React.FormEvent) => {\n      if (username && password) {\n        setLoading(true);\n        dispatch({\n          type: ActionTypes.SIGN_IN,\n          payload: {\n            username,\n            password\n          }\n        });\n      }\n      e.preventDefault();\n    },\n    [password, username, dispatch, setLoading]\n  );\n  const handleUsername = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      setUsername(e.target.value);\n    },\n    [setUsername]\n  );\n  const handlePassword = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      setPassword(e.target.value);\n    },\n    [setPassword]\n  );\n  const handleSignOut = useCallback(() => {\n    dispatch({ type: ActionTypes.SIGN_OUT });\n  }, [dispatch]);\n  useEffect(() => {\n    if (auth_error || auth_token) {\n      setLoading(false);\n    }\n  }, [auth_error, auth_token, setLoading]);\n  return (\n    <>\n      {auth_token ? (\n        <Form inline onSubmit={preventDefault} className=\"mr-1\">\n          <InputGroup>\n            <InputGroupAddon addonType=\"prepend\">\n              <InputGroupText>\n                <FontAwesomeIcon icon={faUser} />\n              </InputGroupText>\n            </InputGroupAddon>\n            <InputGroupAddon\n              addonType=\"prepend\"\n              className=\"border border-success\"\n            >\n              <InputGroupText>{sign_in_username}</InputGroupText>\n            </InputGroupAddon>\n            <InputGroupAddon addonType=\"append\">\n              <Button title=\"Sign out\" onClick={handleSignOut} color=\"danger\">\n                <FontAwesomeIcon icon={faSignOutAlt} />\n              </Button>\n            </InputGroupAddon>\n          </InputGroup>\n        </Form>\n      ) : (\n        <Form inline onSubmit={handleSubmit} className=\"mr-1\">\n          <InputGroup>\n            <InputGroupAddon addonType=\"prepend\">\n              <InputGroupText>\n                <FontAwesomeIcon icon={faUser} />\n              </InputGroupText>\n            </InputGroupAddon>\n            <Input\n              disabled={loading}\n              onInput={handleUsername}\n              onChange={handleUsername}\n              name=\"username\"\n              placeholder=\"username\"\n              invalid={auth_error}\n            />\n          </InputGroup>\n          <InputGroup>\n            <InputGroupAddon addonType=\"prepend\">\n              <InputGroupText>\n                <FontAwesomeIcon icon={faKey} />\n              </InputGroupText>\n            </InputGroupAddon>\n            <Input\n              disabled={loading}\n              onInput={handlePassword}\n              onChange={handlePassword}\n              name=\"password\"\n              placeholder=\"password\"\n              type=\"password\"\n              invalid={auth_error}\n            />\n          </InputGroup>\n          <Button color=\"info\">\n            {loading ? (\n              <Spinner size=\"sm\" type=\"grow\" />\n            ) : (\n              <FontAwesomeIcon icon={faSignInAlt} />\n            )}\n          </Button>\n        </Form>\n      )}\n    </>\n  );\n};\n","import React, { useCallback, useContext, useState, useMemo } from \"react\";\nimport { Avatar, AvatarProps } from \"@rmwc/avatar\";\nimport { ICustomValueMap, IUser, ITask } from \"../store\";\nimport { RootContext } from \"../Provider\";\nimport classNames from \"classnames\";\nimport {\n  Table,\n  Navbar,\n  Form,\n  Input,\n  InputGroup,\n  InputGroupAddon,\n  InputGroupText,\n  Progress\n} from \"reactstrap\";\nimport _ from \"lodash\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faMedal,\n  faTimes,\n  faEquals,\n  faGrinBeam,\n  faGrinBeamSweat,\n  faDizzy,\n  faGhost\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { UpdateButton } from \"./UpdateButton\";\nimport styles from \"./UserTasks.module.css\";\nimport moment from \"moment\";\nimport { Link } from \"react-router-dom\";\nimport { preventDefault } from \"../util/handler\";\nimport { SignInForm } from \"./SignInForm\";\n\nconst barStyles = [\"success\", \"warning\", \"info\", \"danger\"];\nconst getTasksByUser = (items: ITask[]) => _.groupBy(items, \"assigned_to\");\nconst getClosedTasks = (items: ITask[]) => items.filter(item => item.is_closed);\nexport const AvatarSquare: React.FC<AvatarProps> = props => {\n  const src = props.src || `http://i.pravatar.cc/80?u=${Math.random()}`;\n  return <Avatar {...props} src={src} square className=\"mr-1\" />;\n};\nexport const parseCustomVal = (val: string) =>\n  _.chain(val)\n    .replace(/[^0-9.+,]/g, \"\")\n    .replace(/[+]/g, \",\")\n    .split(\",\")\n    .compact()\n    .map(Number)\n    .sum()\n    .value();\n\nexport const getCustomVal = (\n  custom_value_map: ICustomValueMap,\n  task: ITask,\n  id: number\n) => {\n  if (custom_value_map.has(task)) {\n    return parseCustomVal(\n      _.get(custom_value_map.get(task), `attributes_values.${id}`, \"0\")\n    );\n  } else {\n    return 0;\n  }\n};\nexport const getSumCustomVal = (\n  custom_value_map: ICustomValueMap,\n  tasks: ITask[],\n  id: number\n) =>\n  _.chain(tasks)\n    .map(task => getCustomVal(custom_value_map, task, id))\n    .sum()\n    .value();\n\nexport const getCustomValVersion = (\n  custon_value_map: ICustomValueMap,\n  task: ITask\n) => {\n  if (custon_value_map.has(task)) {\n    return _.get(custon_value_map.get(task), \"version\");\n  } else {\n    return undefined;\n  }\n};\nexport const isCustomValValid = (e: number, r: number, is_closed: boolean) =>\n  is_closed && r === e;\nexport const isCustomValInvalid = (e: number, r: number) => r > e;\nconst getGrade = (e: number, r: number): [string | null, number] => {\n  if (_.isNumber(e) && _.isNumber(r) && e > 0) {\n    const diff = Math.abs(e - r) / e;\n    if (diff <= 0.05) {\n      return [\"gold\", 3];\n    }\n    if (diff <= 0.1) {\n      return [\"silver\", 2];\n    }\n    if (diff < 0.2) {\n      return [\"bronze\", 1];\n    }\n  }\n  return [null, 0];\n};\nconst NameAndWorkLoad = ({\n  username,\n  val,\n  total,\n  imgSrc\n}: {\n  username: string;\n  val: number;\n  total: number;\n  imgSrc: string;\n}) => {\n  const [icon, tblCls] = useMemo(() => {\n    const diff = total > 0 ? (val - total) / total : 0;\n    if (diff < -0.1) {\n      return [faGrinBeam, \"\"];\n    } else if (diff <= 0.1) {\n      return [faGrinBeam, \"table-success\"];\n    } else if (diff <= 0.2) {\n      return [faGrinBeamSweat, \"table-warning\"];\n    } else {\n      return [faDizzy, \"table-danger\"];\n    }\n  }, [total, val]);\n\n  if (!val) {\n    return (\n      <>\n        <td>\n          <AvatarSquare src={imgSrc} /> {username}\n        </td>\n        <td />\n      </>\n    );\n  }\n  return (\n    <>\n      <td className={tblCls}>\n        <AvatarSquare src={imgSrc} /> {username}\n        <FontAwesomeIcon className=\"mx-1\" icon={icon} />\n      </td>\n      <td className={classNames(tblCls, \"text-right\")}>{val}</td>\n    </>\n  );\n};\n\nexport const Medal = ({ e, r }: { e: number; r: number }) => {\n  const [grade, num] = useMemo(() => getGrade(e, r), [e, r]);\n  if (grade) {\n    return (\n      <>\n        {_.times(num).map(i => (\n          <FontAwesomeIcon key={i} className={styles[grade]} icon={faMedal} />\n        ))}\n      </>\n    );\n  } else {\n    return null;\n  }\n};\ninterface IProgressTotal {\n  status: number;\n  total: number;\n  style?: string;\n  label: string;\n}\ninterface TaskProgressProps {\n  tasks: ITask[];\n}\n\nexport const TaskProgress: React.FC<TaskProgressProps> = ({ tasks }) => {\n  const {\n    state: { active_task_statuses, custom_eid, custom_value_map }\n  } = useContext(RootContext);\n  const eid = Number(custom_eid);\n  const items = useMemo(\n    () =>\n      _.chain(active_task_statuses)\n        .filter({ is_closed: true })\n        .reverse()\n        .map((item, idx) => ({\n          status: item.id,\n          total: getSumCustomVal(\n            custom_value_map,\n            _.filter(tasks, { status: item.id }),\n            eid\n          ),\n          style: barStyles[idx],\n          label: item.name\n        }))\n        .value(),\n    [active_task_statuses, custom_value_map, eid, tasks]\n  );\n\n  const allSum = useMemo(() => getSumCustomVal(custom_value_map, tasks, eid), [\n    custom_value_map,\n    eid,\n    tasks\n  ]);\n\n  return (\n    <Progress multi>\n      {items.map(item => (\n        <Progress\n          key={item.label}\n          bar\n          max={allSum}\n          value={item.total}\n          color={item.style}\n        >\n          {item.label}\n        </Progress>\n      ))}\n    </Progress>\n  );\n};\nconst UserRow = ({\n  item,\n  sums,\n  isPast,\n  total,\n  hpd,\n  tasks\n}: {\n  item: IUser;\n  sums: { [key: string]: { e: number; r: number } };\n  isPast: boolean;\n  total: number;\n  hpd: number;\n  tasks: ITask[];\n}) => {\n  const [customTotal, setTotal] = useState<number>(0);\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      setTotal(Number(e.target.value) || 0);\n    },\n    [setTotal]\n  );\n  const sumItem = _.get(sums, item.id);\n  const e = _.get(sumItem, \"e\");\n  const r = _.get(sumItem, \"r\");\n  const margedTotal = customTotal || total;\n  const totalStr = String(margedTotal);\n  return (\n    <tr key={item.id}>\n      {total > 0 ? (\n        <>\n          <NameAndWorkLoad\n            username={item.username}\n            val={e}\n            total={margedTotal}\n            imgSrc={item.photo}\n          />\n          <td className=\"text-right\">{total}</td>\n          <td className={styles.custom_input_td}>\n            <Input\n              bsSize=\"sm\"\n              type=\"number\"\n              className=\"text-right\"\n              value={totalStr}\n              step={hpd}\n              onChange={handleChange}\n            />\n          </td>\n        </>\n      ) : (\n        <>\n          <td>\n            <AvatarSquare src={item.photo} />\n            <Link to={`/${item.id}`}>{item.username}</Link>\n          </td>\n          <td className=\"text-right\">{e}</td>\n          <td className=\"text-right\">{r}</td>\n          <td>{_.isNumber(e) && <TaskProgress tasks={tasks} />}</td>\n        </>\n      )}\n\n      {isPast ? (\n        <td>\n          <Medal e={e} r={r} />\n        </td>\n      ) : null}\n    </tr>\n  );\n};\nconst getTaskSumByUser = (\n  items: ITask[],\n  custom_value_map: ICustomValueMap,\n  custom_eid: string,\n  custom_rid: string\n) => {\n  const eid = Number(custom_eid);\n  const rid = Number(custom_rid);\n  const tasksByUser = _.mapValues(getTasksByUser(items), tasks =>\n    _.chain(tasks)\n      .map(task => ({\n        e: getCustomVal(custom_value_map, task, eid),\n        r: getCustomVal(custom_value_map, task, rid)\n      }))\n      .reduce((result, val) => ({ e: result.e + val.e, r: result.r + val.r }), {\n        e: 0,\n        r: 0\n      })\n      .value()\n  );\n  return tasksByUser;\n};\nexport const UserTasks = () => {\n  const {\n    state: {\n      tasks,\n      custom_value_map,\n      custom_eid,\n      custom_rid,\n      biz_days,\n      custom_attr_e,\n      custom_attr_r,\n      project: { members }\n    }\n  } = useContext(RootContext);\n  const [hpd, setHpd] = useState<number>(0);\n  const activeLen = biz_days.length - 1;\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      setHpd(Number(e.target.value) || 0);\n    },\n    [setHpd]\n  );\n  const total = hpd * activeLen;\n  const taskSumByUser = useMemo(\n    () => getTaskSumByUser(tasks, custom_value_map, custom_eid, custom_rid),\n    [custom_eid, custom_rid, custom_value_map, tasks]\n  );\n  const notAssignedSum = _.get(taskSumByUser, \"null.e\", 0);\n  const isPlanning = total > 0;\n  const isPast = useMemo(\n    () =>\n      !isPlanning &&\n      moment().diff(\n        moment(_.last(biz_days))\n          .local()\n          .endOf(\"days\")\n      ) > 0,\n    [biz_days, isPlanning]\n  );\n  const tasksByUser = useMemo(() => getTasksByUser(getClosedTasks(tasks)), [\n    tasks\n  ]);\n  if (!custom_attr_e.id || !custom_attr_r.id || biz_days.length <= 1) {\n    return null;\n  }\n  return (\n    <>\n      <Navbar color=\"light\" light>\n        <Form inline={true} className=\"mr-auto\" onSubmit={preventDefault}>\n          <InputGroup>\n            <Input\n              type=\"number\"\n              step=\"0.5\"\n              placeholder=\"hours / day\"\n              className=\"text-right\"\n              onChange={handleChange}\n            />\n            <InputGroupAddon addonType=\"append\">\n              <InputGroupText>\n                <FontAwesomeIcon className=\"mx-2\" icon={faTimes} />\n                {activeLen} [days]\n                <FontAwesomeIcon className=\"mx-2\" icon={faEquals} />\n              </InputGroupText>\n              {total > 0 ? (\n                <>\n                  <InputGroupText className=\"bg-white\">\n                    <strong>{total}</strong>\n                  </InputGroupText>\n                  <InputGroupText>hours / sprint</InputGroupText>\n                </>\n              ) : null}\n            </InputGroupAddon>\n          </InputGroup>\n        </Form>\n        <SignInForm />\n        <UpdateButton />\n      </Navbar>\n      <Table bordered>\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>{custom_attr_e.name}</th>\n            {isPlanning ? (\n              <>\n                <th>Total</th> <th>Custom</th>\n              </>\n            ) : (\n              <>\n                <th>{custom_attr_r.name}</th>\n                <th>Progress</th>\n              </>\n            )}\n            {isPast ? <th>Grade</th> : null}\n          </tr>\n        </thead>\n        <tbody>\n          {(members || []).map(item => (\n            <UserRow\n              key={item.id}\n              isPast={isPast}\n              item={item}\n              sums={taskSumByUser}\n              total={total}\n              hpd={hpd}\n              tasks={tasksByUser[item.id] || []}\n            />\n          ))}\n          <tr key=\"null\">\n            <td className=\"text-danger\">\n              <FontAwesomeIcon icon={faGhost} className=\"ml-1 mr-2 fa-lg\" />\n              Not assigned\n            </td>\n            <td className=\"text-right text-danger\">{notAssignedSum}</td>\n            <td />\n            <td />\n            {isPast ? <td /> : null}\n          </tr>\n        </tbody>\n      </Table>\n    </>\n  );\n};\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSpinner } from \"@fortawesome/free-solid-svg-icons\";\nimport { InputGroupAddon, InputGroupText } from \"reactstrap\";\nexport const InputGroupSpinner: React.FC = () => {\n  return (\n    <InputGroupAddon addonType=\"append\">\n      <InputGroupText>\n        <FontAwesomeIcon icon={faSpinner} className=\"fa-pulse\" />\n      </InputGroupText>\n    </InputGroupAddon>\n  );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", null, React.createElement(\"path\", {\n  fill: \"currentColor\",\n  className: \"leaf\",\n  d: \"M115.343,123.839c0.814,1.256,3.343,2.605,7.23,4.014c7.586-1.069,14.943-1.586,21.885-1.586 c15.579,0,30.166,2.469,42.438,7.145c17.87-5.567,43.412-11.694,69.108-11.694c25.694,0,51.228,6.126,69.108,11.694 c12.262-4.676,26.848-7.145,42.42-7.145c7.001,0,14.418,0.518,22.063,1.604c3.471-1.341,6.296-2.699,8.325-4.031 c42.2-28.139,53.036-81.183,47.41-69.931c-4.218,8.418-60.309,35.581-100.004,52.222c14.68-17.769,31.677-44.134,43.438-80.309 c0,0-60.978,52.382-98.867,74.887c-11.974-20.816-33.892-86.589-33.892-86.589s-18.567,49.515-20.358,81.412 c-30.21-16.929-63.354-51.474-72.485-74.538c-10.752-27.189-13.78,53.545,15.436,89.396c-1.095,0.162-2.206,0.315-3.344,0.476 c-39.111-16.072-100.454-47.91-104.926-54.86C64.708,47.255,73.143,101.954,115.343,123.839z M290.531,107.181l0.747,0.857 l-3.098-0.746L290.531,107.181z\"\n}), React.createElement(\"path\", {\n  fill: \"currentColor\",\n  className: \"tomato\",\n  d: \"M485.83,198.564c-38.169-57.253-117.544-70.584-160.338-52.195c-18.27-5.906-43.872-12.27-69.49-12.27 c-25.619,0-51.228,6.364-69.499,12.27c-42.794-18.388-122.168-5.058-160.338,52.195c-64.136,96.203-18.711,299.318,229.836,299.318 C504.541,497.882,549.974,294.767,485.83,198.564z M101.172,262.929c-17.099,0-30.947-13.857-30.947-30.948 c0-17.09,13.848-30.947,30.947-30.947c17.082,0,30.947,13.857,30.947,30.947C132.119,249.071,118.253,262.929,101.172,262.929z\"\n}));\n\nvar SvgTomato = function SvgTomato(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"_x32_\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512 512\",\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgTomato, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/tomato.998f40c5.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport { ReactComponent as TomatoIcon } from \"../tomato.svg\";\nimport classNames from \"classnames\";\nimport styles from \"./Tomato.module.css\";\nexport enum TomatoState {\n  FRESH = \"fresh\",\n  STALE = \"stale\"\n}\ninterface TomatoProps {\n  state?: TomatoState;\n}\nexport const Tomato: React.FC<TomatoProps> = ({ state }) => {\n  return (\n    <TomatoIcon\n      className={classNames(\"fa-fw\", \"svg-inline--fa\", {\n        [styles.fresh]: state === TomatoState.FRESH,\n        [styles.stale]: state === TomatoState.STALE\n      })}\n    />\n  );\n};\n","import { EventEmitter } from \"events\";\nimport _ from \"lodash\";\nexport enum TimerState {\n  STOPPED = \"stopped\",\n  RUNNING = \"running\",\n  PAUSED = \"paused\"\n}\nexport enum TimerMode {\n  FOCUS = \"Focusing\",\n  SHORT = \"Short break\",\n  LONG = \"Long break\"\n}\nexport const TimerDurationMin = {\n  [TimerMode.FOCUS]: 25,\n  [TimerMode.SHORT]: 5,\n  [TimerMode.LONG]: 15\n};\nenum StorageKey {\n  STATE = \"pomodoro_state\",\n  MODE = \"pomodoro_mode\",\n  CHECKPOINT_START_AT = \"pomodoro_checkpoint_start_at\",\n  CHECKPOINT_ELAPSED = \"pomodoro_checkpoint_elapsed\"\n}\nconst isValidState = (val: string | null) =>\n  _.includes(_.values(TimerState), val);\n\nconst isValidMode = (val: string | null) =>\n  _.includes(_.values(TimerMode), val);\n\ntype TimerEvents =\n  | \"start\"\n  | \"stop\"\n  | \"pause\"\n  | \"resume\"\n  | \"expire\"\n  | \"tick\"\n  | \"change_mode\";\ninterface ITimerStatus {\n  state: TimerState;\n  duration: number;\n  elapsed: number;\n  remaining: number;\n  checkpointElapsed: number;\n  checkpointStartAt: number;\n  mode: TimerMode;\n}\nexport type TimerEventListener = (status: ITimerStatus) => void;\nclass Timer extends EventEmitter {\n  state: TimerState = TimerState.STOPPED;\n  mode: TimerMode = TimerMode.FOCUS;\n  duration: number = TimerDurationMin[TimerMode.FOCUS] * 60;\n  tick: number = 60;\n  checkpointStartAt: number = NaN;\n  checkpointElapsed: number = 0;\n  expireTimeout: NodeJS.Timeout | null = null;\n  tickInterval: NodeJS.Timeout | null = null;\n  restoreExpired = false;\n  constructor(tick: number) {\n    super();\n    this.tick = tick;\n    this.restoreStorage();\n  }\n  get isStopped() {\n    return this.state === TimerState.STOPPED;\n  }\n  get isRunning() {\n    return this.state === TimerState.RUNNING;\n  }\n  get isPaused() {\n    return this.state === TimerState.PAUSED;\n  }\n  get remaining() {\n    return Math.max(this.duration - this.elapsed, 0);\n  }\n\n  get elapsed() {\n    let periodElapsed = 0;\n    if (this.checkpointStartAt && this.isRunning) {\n      periodElapsed = (Date.now() - this.checkpointStartAt) / 1000;\n    }\n    return this.checkpointElapsed + periodElapsed;\n  }\n  get status(): ITimerStatus {\n    return {\n      state: this.state,\n      duration: this.duration,\n      elapsed: this.elapsed,\n      remaining: this.remaining,\n      checkpointElapsed: this.checkpointElapsed,\n      checkpointStartAt: this.checkpointStartAt,\n      mode: this.mode\n    };\n  }\n  on(event: TimerEvents, listener: TimerEventListener) {\n    return super.on(event, listener);\n  }\n  once(event: TimerEvents, listener: TimerEventListener) {\n    return super.once(event, listener);\n  }\n  start() {\n    if (!this.isStopped) {\n      return;\n    }\n    this.setExpireTimeout(this.duration);\n    this.setTickInterval(this.tick);\n\n    this.state = TimerState.RUNNING;\n    this.checkpointStartAt = Date.now();\n    this.checkpointElapsed = 0;\n\n    this.emit(\"start\", this.status);\n\n    this.saveStorage();\n  }\n  stop() {\n    if (this.isStopped) {\n      return;\n    }\n    this.clearExpireTimeout();\n    this.clearTickInterval();\n\n    this.checkpointStartAt = NaN;\n    this.checkpointElapsed = 0;\n\n    this.state = TimerState.STOPPED;\n\n    this.emit(\"stop\", this.status);\n\n    this.saveStorage();\n  }\n  pause() {\n    if (!this.isRunning) {\n      return;\n    }\n\n    this.clearExpireTimeout();\n    this.clearTickInterval();\n\n    let periodElapsed = (Date.now() - this.checkpointStartAt) / 1000;\n    this.checkpointElapsed += periodElapsed;\n\n    this.state = TimerState.PAUSED;\n\n    this.emit(\"pause\", this.status);\n\n    this.saveStorage();\n  }\n  resume() {\n    if (!this.isPaused) {\n      return;\n    }\n    this.setExpireTimeout(this.remaining);\n    this.setTickInterval(this.tick);\n\n    this.state = TimerState.RUNNING;\n    this.checkpointStartAt = Date.now();\n\n    this.emit(\"resume\", this.status);\n\n    this.saveStorage();\n  }\n  restart() {\n    this.stop();\n    this.start();\n  }\n  changeMode(mode: TimerMode) {\n    this.stop();\n    this.mode = mode;\n    this.duration = TimerDurationMin[mode] * 60;\n\n    this.emit(\"change_mode\", this.status);\n\n    this.saveStorage();\n  }\n  setExpireTimeout(seconds: number) {\n    this.expireTimeout = setTimeout(() => {\n      this.clearTickInterval();\n      this.clearExpireTimeout();\n\n      this.checkpointStartAt = Date.now();\n      this.checkpointElapsed = this.duration;\n\n      this.state = TimerState.STOPPED;\n\n      this.emit(\"expire\", this.status);\n    }, seconds * 1000);\n  }\n  clearExpireTimeout() {\n    if (this.expireTimeout) {\n      clearTimeout(this.expireTimeout);\n    }\n    this.expireTimeout = null;\n  }\n  setTickInterval(seconds: number) {\n    this.tickInterval = setInterval(() => {\n      this.emit(\"tick\", this.status);\n    }, seconds * 1000);\n  }\n  clearTickInterval() {\n    if (this.tickInterval) {\n      clearInterval(this.tickInterval);\n    }\n    this.tickInterval = null;\n  }\n  saveStorage() {\n    localStorage.setItem(StorageKey.STATE, this.state);\n    localStorage.setItem(StorageKey.MODE, this.mode);\n    localStorage.setItem(\n      StorageKey.CHECKPOINT_START_AT,\n      Number.isNaN(this.checkpointStartAt) ? \"\" : String(this.checkpointStartAt)\n    );\n    localStorage.setItem(\n      StorageKey.CHECKPOINT_ELAPSED,\n      String(this.checkpointElapsed)\n    );\n  }\n  restoreStorage() {\n    const lsState = localStorage.getItem(StorageKey.STATE);\n    const lsMode = localStorage.getItem(StorageKey.MODE);\n    const lsCpStartAt = localStorage.getItem(StorageKey.CHECKPOINT_START_AT);\n    const lsCpElapsed = localStorage.getItem(StorageKey.CHECKPOINT_ELAPSED);\n    if (isValidState(lsState) && isValidMode(lsMode)) {\n      const state = lsState as TimerState;\n      const mode = lsMode as TimerMode;\n      const duration = TimerDurationMin[mode] * 60;\n      switch (state) {\n        case TimerState.STOPPED: {\n          this.changeMode(mode);\n          break;\n        }\n        case TimerState.PAUSED: {\n          const cpElapsed = Number(lsCpElapsed);\n          if (cpElapsed < duration * 1000) {\n            this.state = state;\n            this.mode = mode;\n            this.duration = duration;\n            this.checkpointElapsed = cpElapsed;\n          }\n          break;\n        }\n        case TimerState.RUNNING: {\n          const cpStartAt = Number(lsCpStartAt);\n          const cpElapsed = Number(lsCpElapsed);\n          if (cpStartAt > 0) {\n            this.mode = mode;\n            this.duration = duration;\n            const elapsedMsec = Date.now() - cpStartAt + cpElapsed * 1000;\n            if (elapsedMsec < duration * 1000) {\n              this.state = TimerState.RUNNING;\n\n              this.checkpointStartAt = cpStartAt;\n              this.checkpointElapsed = cpElapsed;\n\n              this.setExpireTimeout(this.remaining);\n              this.setTickInterval(this.tick);\n            } else {\n              this.checkpointStartAt = Date.now();\n              this.checkpointElapsed = this.duration;\n\n              this.state = TimerState.STOPPED;\n\n              this.restoreExpired = true;\n            }\n          }\n          break;\n        }\n      }\n    }\n  }\n}\n\nexport const timer = new Timer(60);\n","import React, {\n  useContext,\n  useState,\n  useCallback,\n  useEffect,\n  useMemo\n} from \"react\";\nimport {\n  Button,\n  ButtonGroup,\n  Card,\n  CardHeader,\n  Collapse,\n  Row,\n  Col,\n  Input,\n  InputGroup,\n  InputGroupAddon,\n  UncontrolledDropdown,\n  DropdownToggle,\n  DropdownItem,\n  DropdownMenu,\n  Spinner,\n  Form,\n  Popover,\n  PopoverHeader,\n  PopoverBody\n} from \"reactstrap\";\nimport classNames from \"classnames\";\nimport {\n  ITasksByUserStory,\n  ITask,\n  ITaskStatus,\n  IUserStoryExtraInfo,\n  IProjectExtraInfo,\n  IUser\n} from \"../store\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faExternalLinkAlt,\n  faCloudUploadAlt,\n  faEdit,\n  faHandPointRight,\n  faUserTimes,\n  faPlus,\n  faMinus,\n  faEraser\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { InputGroupSpinner } from \"./InputGroupSpinner\";\nimport { RootContext } from \"../Provider\";\nimport { Tomato, TomatoState } from \"./Tomato\";\nimport {\n  getCustomVal,\n  getCustomValVersion,\n  isCustomValInvalid,\n  isCustomValValid,\n  Medal,\n  AvatarSquare\n} from \"./UserTasks\";\nimport { ToggleIcon } from \"./Controller\";\nimport ListGroup from \"reactstrap/lib/ListGroup\";\nimport ListGroupItem from \"reactstrap/lib/ListGroupItem\";\nimport styles from \"./UserStory.module.css\";\nimport { Switch } from \"@rmwc/switch\";\nimport InputGroupText from \"reactstrap/lib/InputGroupText\";\nimport { ActionTypes } from \"../actions\";\nimport _ from \"lodash\";\nexport const convToTasksByUserStory = (tasks: ITask[]) =>\n  _.chain(tasks)\n    .groupBy(\"user_story\")\n    .map((items, key) => ({\n      user_story: Number(key),\n      user_story_extra_info: items[0].user_story_extra_info,\n      project_extra_info: items[0].project_extra_info,\n      tasks: items,\n      is_closed: items.every(task => task.is_closed)\n    }))\n    .value();\nconst needAuthMsg = (disabled: boolean | undefined) =>\n  disabled ? \"Need sign in!\" : \"\";\nconst UserStoryLink = ({\n  user_story_extra_info,\n  project_extra_info\n}: {\n  user_story_extra_info: IUserStoryExtraInfo;\n  project_extra_info: IProjectExtraInfo;\n}) => {\n  const {\n    state: { url }\n  } = useContext(RootContext);\n  const { slug } = project_extra_info;\n  const usName = user_story_extra_info\n    ? `#${user_story_extra_info.ref} ${user_story_extra_info.subject}`\n    : undefined;\n  const href = user_story_extra_info\n    ? `${url}/project/${slug}/us/${user_story_extra_info.ref}`\n    : \"#\";\n\n  if (usName) {\n    return (\n      <a href={href} target=\"_blank\" rel=\"noopener noreferrer\" title={usName}>\n        <FontAwesomeIcon icon={faExternalLinkAlt} /> {usName}\n      </a>\n    );\n  } else {\n    return <>(Unassigned tasks)</>;\n  }\n};\n\nconst TaskLink = ({ item }: { item: ITask }) => {\n  const {\n    state: { url }\n  } = useContext(RootContext);\n  const taskName = `#${item.ref} ${item.subject}`;\n  const href = `${url}/project/${item.project_extra_info.slug}/task/${\n    item.ref\n  }`;\n  return (\n    <a href={href} target=\"_blank\" rel=\"noopener noreferrer\" title={taskName}>\n      <FontAwesomeIcon icon={faExternalLinkAlt} /> {taskName}\n    </a>\n  );\n};\n\ninterface ToggleNumberInputProps {\n  label: string;\n  value: number;\n  onSubmit?: (value: number) => void;\n  onEditable?: (value: boolean) => void;\n  onValueChange?: (value: number) => void;\n  valid?: boolean;\n  invalid?: boolean;\n  disabled?: boolean;\n  loading?: boolean;\n  id?: string;\n  submitting?: boolean;\n}\nconst ToggleNumberInput: React.FC<ToggleNumberInputProps> = ({\n  label,\n  value,\n  onSubmit,\n  onEditable,\n  onValueChange,\n  valid,\n  invalid,\n  disabled,\n  loading,\n  id,\n  submitting\n}) => {\n  const [checked, setChecked] = useState(false);\n  const [val, setVal] = useState(\"\");\n  const [running, setRunning] = useState(false);\n  const onChange = useCallback(\n    (evt: React.FormEvent<any>) => {\n      setChecked(evt.currentTarget.checked);\n    },\n    [setChecked]\n  );\n  const handleVal = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const { value } = e.target;\n      setVal(value);\n      onValueChange && onValueChange(Number(value));\n    },\n    [onValueChange]\n  );\n  const handleSubmit = useCallback(\n    (e: React.FormEvent) => {\n      const num = Number(val);\n      if (checked && val !== \"\" && num >= 0 && onSubmit) {\n        onSubmit(num);\n        setChecked(false);\n        setRunning(true);\n      }\n      e.preventDefault();\n    },\n    [checked, val, onSubmit, setChecked]\n  );\n  useEffect(() => {\n    if (disabled) {\n      setChecked(false);\n    }\n  }, [setChecked, disabled]);\n  useEffect(() => {\n    setRunning(false);\n  }, [value]);\n  useEffect(() => {\n    onEditable && onEditable(checked);\n  }, [checked, onEditable]);\n  useEffect(() => {\n    if (submitting) {\n      setChecked(false);\n      setRunning(true);\n    }\n  }, [submitting]);\n  const title = needAuthMsg(disabled);\n  return (\n    <Form inline onSubmit={handleSubmit}>\n      <InputGroup className={styles.toggle_input}>\n        <InputGroupAddon addonType=\"prepend\">{label}</InputGroupAddon>\n        {loading ? (\n          <InputGroupSpinner />\n        ) : (\n          <>\n            {checked ? (\n              <>\n                <InputGroupAddon addonType=\"prepend\">\n                  <InputGroupText>{value}</InputGroupText>\n                </InputGroupAddon>\n                <InputGroupAddon addonType=\"prepend\">\n                  <InputGroupText>\n                    <FontAwesomeIcon\n                      className=\"text-info\"\n                      icon={faHandPointRight}\n                    />\n                  </InputGroupText>\n                </InputGroupAddon>\n                <Input\n                  onInput={handleVal}\n                  onChange={handleVal}\n                  defaultValue={String(value)}\n                  type=\"number\"\n                  step=\"0.5\"\n                  min=\"0\"\n                  id={id}\n                />\n                <InputGroupAddon addonType=\"append\">\n                  <Button color=\"info\">\n                    <FontAwesomeIcon icon={faCloudUploadAlt} />\n                  </Button>\n                </InputGroupAddon>\n              </>\n            ) : (\n              <>\n                {running ? (\n                  <InputGroupSpinner />\n                ) : (\n                  <Input\n                    valid={valid}\n                    invalid={invalid}\n                    readOnly\n                    value={value}\n                  />\n                )}\n              </>\n            )}\n            <InputGroupAddon addonType=\"append\" title={title}>\n              <Switch disabled={disabled} checked={checked} onChange={onChange}>\n                <FontAwesomeIcon className=\"text-info\" icon={faEdit} />\n              </Switch>\n            </InputGroupAddon>\n          </>\n        )}\n      </InputGroup>\n    </Form>\n  );\n};\ninterface GradeProps {\n  e: number;\n  r: number;\n}\nexport const Grade: React.FC<GradeProps> = ({ e, r }) => {\n  return (\n    <InputGroup className={styles.display_medal}>\n      <InputGroupAddon addonType=\"prepend\">Grade</InputGroupAddon>\n      <InputGroupText className={styles.medal}>\n        <Medal e={e} r={r} />\n      </InputGroupText>\n    </InputGroup>\n  );\n};\n\ninterface TaskStatusItemProps {\n  item: ITaskStatus;\n  task: ITask;\n  onSelect?: (id: number) => void;\n}\nconst TaskStatusItem: React.FC<TaskStatusItemProps> = ({\n  item,\n  task,\n  onSelect\n}) => {\n  const { dispatch } = useContext(RootContext);\n  const handleClick = useCallback(() => {\n    dispatch({\n      type: ActionTypes.PATCH_TASK,\n      payload: {\n        key: \"status\",\n        value: item.id,\n        id: task.id\n      }\n    });\n    onSelect && onSelect(item.id);\n  }, [dispatch, item.id, task.id, onSelect]);\n  return <DropdownItem onClick={handleClick}>{item.name}</DropdownItem>;\n};\ninterface TaskStatusSelectorProps {\n  task: ITask;\n  disabled?: boolean;\n}\nconst TaskStatusSelector: React.FC<TaskStatusSelectorProps> = ({\n  task,\n  disabled\n}) => {\n  const [loading, setLoading] = useState<boolean>(false);\n  const {\n    state: { active_task_statuses }\n  } = useContext(RootContext);\n  const handleSelect = useCallback(() => {\n    setLoading(true);\n  }, [setLoading]);\n  useEffect(() => {\n    setLoading(false);\n  }, [task.version, setLoading]);\n  return (\n    <>\n      {loading ? (\n        <Spinner type=\"grow\" color=\"info\" />\n      ) : (\n        <UncontrolledDropdown>\n          <DropdownToggle\n            title={needAuthMsg(disabled)}\n            disabled={disabled}\n            caret={!disabled}\n          >\n            {task.status_extra_info.name}\n          </DropdownToggle>\n          <DropdownMenu>\n            {active_task_statuses.map(item => (\n              <TaskStatusItem\n                item={item}\n                key={item.id}\n                task={task}\n                onSelect={handleSelect}\n              />\n            ))}\n          </DropdownMenu>\n        </UncontrolledDropdown>\n      )}\n    </>\n  );\n};\ninterface UserItemProps {\n  item: IUser;\n  onSelect?: (id: number) => void;\n}\nconst UserItem: React.FC<UserItemProps> = ({ item, onSelect }) => {\n  const handleClick = useCallback(() => {\n    onSelect && onSelect(item.id);\n  }, [item.id, onSelect]);\n  return (\n    <DropdownItem onClick={handleClick}>\n      <AvatarSquare src={item.photo} />\n      {item.username}\n    </DropdownItem>\n  );\n};\ninterface TaskUserSelectorProps {\n  task: ITask;\n  disabled?: boolean;\n}\nexport const TaskUserSelector: React.FC<TaskUserSelectorProps> = ({\n  task,\n  disabled\n}) => {\n  const [loading, setLoading] = useState<boolean>(false);\n  const {\n    state: {\n      project: { members }\n    },\n    dispatch\n  } = useContext(RootContext);\n  const handleSelect = useCallback(\n    (id: number) => {\n      setLoading(true);\n      dispatch({\n        type: ActionTypes.PATCH_TASK,\n        payload: {\n          key: \"assigned_to\",\n          value: id,\n          id: task.id\n        }\n      });\n    },\n    [dispatch, task.id]\n  );\n  useEffect(() => {\n    setLoading(false);\n  }, [task.version, setLoading]);\n  return (\n    <>\n      {loading ? (\n        <Spinner type=\"grow\" color=\"info\" />\n      ) : (\n        <UncontrolledDropdown>\n          <DropdownToggle\n            title={needAuthMsg(disabled)}\n            size=\"sm\"\n            disabled={disabled}\n            caret={!disabled}\n          >\n            Assign To\n          </DropdownToggle>\n          <DropdownMenu>\n            {(members || []).map(item => (\n              <UserItem item={item} onSelect={handleSelect} key={item.id} />\n            ))}\n          </DropdownMenu>\n        </UncontrolledDropdown>\n      )}\n    </>\n  );\n};\ninterface NotAssignedButtonProps {\n  task: ITask;\n}\nconst NotAssignedButton: React.FC<NotAssignedButtonProps> = ({ task }) => {\n  const [loading, setLoading] = useState<boolean>(false);\n  const { dispatch } = useContext(RootContext);\n  const handleClick = useCallback(() => {\n    setLoading(true);\n    dispatch({\n      type: ActionTypes.PATCH_TASK,\n      payload: {\n        key: \"assigned_to\",\n        value: null,\n        id: task.id\n      }\n    });\n  }, [dispatch, task.id]);\n  useEffect(() => {\n    setLoading(false);\n  }, [task.version, setLoading]);\n  return (\n    <>\n      {loading ? (\n        <Spinner type=\"grow\" color=\"danger\" />\n      ) : (\n        <Button\n          className=\"mr-2\"\n          title=\"Not assigned\"\n          color=\"danger\"\n          onClick={handleClick}\n        >\n          <FontAwesomeIcon icon={faUserTimes} />\n        </Button>\n      )}\n    </>\n  );\n};\ninterface CustomValueInputProps {\n  item: ITask;\n}\n\nconst EstimateInput: React.FC<CustomValueInputProps> = ({ item }) => {\n  const {\n    state: { custom_eid, custom_value_map, auth_token, custom_attr_e },\n    dispatch\n  } = useContext(RootContext);\n  const version = getCustomValVersion(custom_value_map, item);\n  const handleSubmit = useCallback(\n    (value: number) => {\n      if (version) {\n        dispatch({\n          type: ActionTypes.PATCH_CUSTOM_VALUE,\n          payload: {\n            id: item.id,\n            key: custom_eid,\n            value,\n            version\n          }\n        });\n      }\n    },\n    [dispatch, item.id, custom_eid, version]\n  );\n  const e = useMemo(\n    () => getCustomVal(custom_value_map, item, custom_attr_e.id),\n    [custom_attr_e.id, custom_value_map, item]\n  );\n  if (!custom_attr_e.id) {\n    return null;\n  }\n  const unEstimated = !e;\n  const disabled = auth_token === \"\";\n  const loading = !version;\n\n  return (\n    <ToggleNumberInput\n      onSubmit={handleSubmit}\n      label={custom_attr_e.name}\n      value={e}\n      invalid={unEstimated}\n      disabled={disabled}\n      loading={loading}\n    />\n  );\n};\nconst ResultInput: React.FC<CustomValueInputProps> = ({ item }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [used_number, set_used_number] = useState(0);\n  const [editable, setEditable] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  const {\n    state: {\n      custom_rid,\n      custom_value_map,\n      custom_attr_e,\n      custom_attr_r,\n      auth_token,\n      pomodoro_number,\n      pomodoro_used_number\n    },\n    dispatch\n  } = useContext(RootContext);\n  const version = getCustomValVersion(custom_value_map, item);\n  const handleToggle = useCallback(() => {\n    setIsOpen(!isOpen);\n  }, [isOpen]);\n  const handleSubmit = useCallback(\n    (value: number, used_number?: number) => {\n      if (version) {\n        dispatch({\n          type: ActionTypes.PATCH_CUSTOM_VALUE,\n          payload: {\n            id: item.id,\n            key: custom_rid,\n            value,\n            version\n          },\n          meta: used_number ? { use_pomodoro: { used_number } } : undefined\n        });\n        setSubmitting(true);\n      }\n    },\n    [custom_rid, dispatch, item.id, version]\n  );\n  const handlePluse = useCallback(() => {\n    set_used_number(used_number + 1);\n  }, [used_number]);\n  const handleMinus = useCallback(() => {\n    set_used_number(used_number - 1);\n  }, [used_number]);\n\n  const handleReset = useCallback(() => {\n    set_used_number(0);\n  }, []);\n  const handleEditable = useCallback((val: boolean) => {\n    setEditable(val);\n  }, []);\n  const e = useMemo(\n    () => getCustomVal(custom_value_map, item, custom_attr_e.id),\n    [custom_attr_e.id, custom_value_map, item]\n  );\n  const r = useMemo(\n    () => getCustomVal(custom_value_map, item, custom_attr_r.id),\n    [custom_attr_r.id, custom_value_map, item]\n  );\n  const handleValueChange = useCallback(\n    (val: number) => {\n      setEditable(r === val);\n    },\n    [r]\n  );\n  const handleUsePomodoro = useCallback(() => {\n    const result = r + used_number / 2;\n    handleSubmit(result, used_number);\n    setIsOpen(false);\n    set_used_number(0);\n  }, [handleSubmit, r, used_number]);\n\n  const valid = useMemo(() => isCustomValValid(e, r, item.is_closed), [\n    e,\n    item.is_closed,\n    r\n  ]);\n  const invalid = useMemo(() => isCustomValInvalid(e, r), [e, r]);\n  useEffect(() => {\n    if (!version) {\n      setSubmitting(false);\n    }\n  }, [version]);\n  if (!custom_attr_r.id) {\n    return null;\n  }\n\n  const disabled = auth_token === \"\";\n  const loading = !version;\n  const elId = `rusult-input-${item.id}`;\n  const usableNumber = pomodoro_number - pomodoro_used_number;\n  const submittable = used_number > 0;\n  const isMax = used_number === usableNumber;\n  return (\n    <>\n      <ToggleNumberInput\n        onSubmit={handleSubmit}\n        onEditable={handleEditable}\n        onValueChange={handleValueChange}\n        label={custom_attr_r.name}\n        value={r}\n        valid={valid}\n        invalid={invalid}\n        disabled={disabled}\n        loading={loading}\n        id={elId}\n        submitting={submitting}\n      />\n      {editable && usableNumber > 0 && (\n        <Popover\n          className={classNames(\"popover-wide\")}\n          target={elId}\n          placement=\"top\"\n          isOpen={isOpen}\n          toggle={handleToggle}\n          trigger=\"click hover\"\n        >\n          <PopoverHeader>Pomodoro</PopoverHeader>\n          <PopoverBody>\n            <ButtonGroup>\n              <Button disabled={isMax} onClick={handlePluse}>\n                <FontAwesomeIcon icon={faPlus} />\n              </Button>\n              <Button disabled={!submittable} onClick={handleMinus}>\n                <FontAwesomeIcon icon={faMinus} />\n              </Button>\n              <Button disabled className=\"bg-light\">\n                {_.times(usableNumber).map(i => (\n                  <Tomato\n                    key={i}\n                    state={\n                      i >= used_number ? TomatoState.FRESH : TomatoState.STALE\n                    }\n                  />\n                ))}\n              </Button>\n              <Button disabled={!submittable} onClick={handleUsePomodoro}>\n                <FontAwesomeIcon icon={faCloudUploadAlt} />\n              </Button>\n              <Button disabled={!submittable} onClick={handleReset}>\n                <FontAwesomeIcon icon={faEraser} />\n              </Button>\n            </ButtonGroup>\n          </PopoverBody>\n        </Popover>\n      )}\n    </>\n  );\n};\nexport const TaskItem = ({ item }: { item: ITask }) => {\n  const {\n    state: { custom_value_map, custom_attr_e, custom_attr_r, auth_token }\n  } = useContext(RootContext);\n  const version = useMemo(() => getCustomValVersion(custom_value_map, item), [\n    custom_value_map,\n    item\n  ]);\n  const e = useMemo(\n    () => getCustomVal(custom_value_map, item, custom_attr_e.id),\n    [custom_attr_e.id, custom_value_map, item]\n  );\n  const r = useMemo(\n    () => getCustomVal(custom_value_map, item, custom_attr_r.id),\n    [custom_attr_r.id, custom_value_map, item]\n  );\n  if (!custom_attr_e.id || !custom_attr_r.id) {\n    return null;\n  }\n\n  const disabled = auth_token === \"\";\n  const loading = !version;\n  const inactive = r === 0 && !item.is_closed && !disabled && !loading;\n  return (\n    <ListGroupItem\n      className={classNames({ [styles.is_closed]: item.is_closed })}\n    >\n      <div className=\"d-flex mb-1\">\n        <div className=\"mr-auto text-truncate\">\n          <TaskLink item={item} />\n        </div>\n        {inactive && <NotAssignedButton task={item} />}\n        <TaskStatusSelector task={item} disabled={disabled} />\n      </div>\n      <Row>\n        <Col>\n          <EstimateInput item={item} />\n        </Col>\n        <Col>\n          <ResultInput item={item} />\n        </Col>\n        <Col>\n          <Grade e={e} r={r} />\n        </Col>\n      </Row>\n    </ListGroupItem>\n  );\n};\ninterface UserStoryProps {\n  item: ITasksByUserStory;\n}\nexport const UserStoryWithEstimate: React.FC<UserStoryProps> = ({ item }) => {\n  return (\n    <Card>\n      <CardHeader className=\"text-truncate\">\n        <UserStoryLink\n          user_story_extra_info={item.user_story_extra_info}\n          project_extra_info={item.project_extra_info}\n        />\n      </CardHeader>\n      <ListGroup>\n        {item.tasks.map(task => (\n          <ListGroupItem key={task.id} className=\"text-truncate\">\n            <div className=\"d-flex\">\n              <div className=\"mr-auto text-truncate\">\n                <TaskLink item={task} />\n              </div>\n              <EstimateInput item={task} />\n            </div>\n          </ListGroupItem>\n        ))}\n      </ListGroup>\n    </Card>\n  );\n};\nexport const UserStoryWithTaskUser: React.FC<UserStoryProps> = ({ item }) => {\n  const {\n    state: { auth_token }\n  } = useContext(RootContext);\n  const disabled = auth_token === \"\";\n  return (\n    <Card>\n      <CardHeader className=\"text-truncate\">\n        <UserStoryLink\n          user_story_extra_info={item.user_story_extra_info}\n          project_extra_info={item.project_extra_info}\n        />\n      </CardHeader>\n      <Collapse isOpen={true}>\n        <ListGroup>\n          {item.tasks.map(task => (\n            <ListGroupItem key={task.id}>\n              <div className=\"d-flex\">\n                <div className=\"mr-auto text-truncate\">\n                  <TaskLink item={task} />\n                </div>\n                <TaskUserSelector task={task} disabled={disabled} />\n              </div>\n            </ListGroupItem>\n          ))}\n        </ListGroup>\n      </Collapse>\n    </Card>\n  );\n};\n\nexport const UserStory: React.FC<UserStoryProps> = ({ item }) => {\n  const [isOpen, setIsOpen] = useState<boolean>(false);\n  const toggle = useCallback(() => {\n    setIsOpen(!isOpen);\n  }, [isOpen, setIsOpen]);\n  useEffect(() => {\n    setIsOpen(!item.is_closed);\n  }, [item.is_closed, setIsOpen]);\n  return (\n    <Card>\n      <CardHeader\n        className={classNames(styles.header, \"text-truncate\", {\n          \"alert-primary\": item.is_closed\n        })}\n        onClick={toggle}\n      >\n        <ToggleIcon isOpen={isOpen} />\n        <UserStoryLink\n          user_story_extra_info={item.user_story_extra_info}\n          project_extra_info={item.project_extra_info}\n        />\n      </CardHeader>\n      <Collapse isOpen={isOpen}>\n        <ListGroup>\n          {item.tasks.map(task => (\n            <TaskItem item={task} key={task.id} />\n          ))}\n        </ListGroup>\n      </Collapse>\n    </Card>\n  );\n};\n","import React, { useContext, useMemo } from \"react\";\nimport { RootContext } from \"../Provider\";\nimport { Card, CardHeader, CardBody } from \"reactstrap\";\nimport { getCustomVal, getCustomValVersion } from \"./UserTasks\";\nimport { UserStoryWithEstimate, convToTasksByUserStory } from \"./UserStory\";\nexport const UnEstimatedTasks = () => {\n  const {\n    state: { tasks, custom_value_map, custom_eid }\n  } = useContext(RootContext);\n  const eid = useMemo(() => Number(custom_eid), [custom_eid]);\n  const items = useMemo(\n    () =>\n      eid\n        ? tasks.filter(\n            task =>\n              getCustomValVersion(custom_value_map, task) &&\n              getCustomVal(custom_value_map, task, eid) === 0\n          )\n        : [],\n    [custom_value_map, eid, tasks]\n  );\n  const userStories = useMemo(() => convToTasksByUserStory(items), [items]);\n  if (items.length === 0) {\n    return null;\n  } else {\n    return (\n      <Card>\n        <CardHeader className=\"alert-danger\">Un estimated tasks</CardHeader>\n        <CardBody>\n          {userStories.map(item => (\n            <UserStoryWithEstimate item={item} key={item.user_story} />\n          ))}\n        </CardBody>\n      </Card>\n    );\n  }\n};\n","import React, { useContext, useMemo } from \"react\";\nimport _ from \"lodash\";\nimport { RootContext } from \"../Provider\";\nimport { UserStoryWithTaskUser, convToTasksByUserStory } from \"./UserStory\";\nimport { Card, CardHeader, CardBody } from \"reactstrap\";\nexport const NotAssignedTasks: React.FC = () => {\n  const {\n    state: { tasks }\n  } = useContext(RootContext);\n  const items = useMemo(() => _.filter(tasks, { assigned_to: null }), [tasks]);\n  const userStories = useMemo(() => convToTasksByUserStory(items), [items]);\n  if (items.length === 0) {\n    return null;\n  } else {\n    return (\n      <Card>\n        <CardHeader className=\"alert-danger\">Not assigned tasks</CardHeader>\n        <CardBody>\n          {userStories.map(item => (\n            <UserStoryWithTaskUser item={item} key={item.user_story} />\n          ))}\n        </CardBody>\n      </Card>\n    );\n  }\n};\n","import React, { useContext, useState, useEffect, useCallback } from \"react\";\nimport {\n  ComposedChart,\n  Tooltip,\n  Line,\n  XAxis,\n  YAxis,\n  Bar,\n  Legend,\n  TooltipFormatter,\n  LegendValueFormatter\n} from \"recharts\";\nimport { ITask, ICustomValueMap } from \"../store\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport { RootContext } from \"../Provider\";\nimport { dayNameFromIdx } from \"./DaysSelector\";\nimport { getCustomVal } from \"./UserTasks\";\nimport { Card, CardHeader } from \"reactstrap\";\ninterface IChartItem {\n  label: string;\n  estimate: number;\n  result?: number;\n  add?: number;\n}\n\nconst getTaskFinished = (tasks: ITask[], date: string) =>\n  tasks.filter(task =>\n    task.finished_date\n      ? moment(date)\n          .local()\n          .endOf(\"days\")\n          .diff(moment(task.finished_date)) > 0\n      : false\n  );\n\nconst getTaskCreatedToday = (tasks: ITask[], date: string) =>\n  tasks.filter(\n    task =>\n      moment(date)\n        .local()\n        .format(\"YYYY-MM-DD\") ===\n      moment(task.created_date)\n        .local()\n        .format(\"YYYY-MM-DD\")\n  );\n\nconst getTaskCreated = (tasks: ITask[], date: string) =>\n  tasks.filter(\n    task =>\n      moment(date)\n        .endOf(\"days\")\n        .diff(moment(task.created_date)) > 0\n  );\n\nconst getSumVal = (\n  custom_value_map: ICustomValueMap,\n  tasks: ITask[],\n  custom_eid: string\n) => {\n  return _.chain(tasks)\n    .map(task => getCustomVal(custom_value_map, task, Number(custom_eid)))\n    .sum()\n    .value();\n};\nexport const Chart = ({ tasks }: { tasks: ITask[] }) => {\n  const [data, setData] = useState<IChartItem[]>([]);\n  const {\n    state: {\n      biz_days,\n      custom_value_map,\n      custom_eid,\n      custom_attr_e,\n      custom_attr_r\n    }\n  } = useContext(RootContext);\n  useEffect(() => {\n    const days_len = biz_days.length;\n    if (days_len > 0 && tasks.length > 0 && custom_eid) {\n      const allTaskVal = getSumVal(\n        custom_value_map,\n        getTaskCreated(tasks, biz_days[0]),\n        custom_eid\n      );\n      const data = biz_days.map((day, idx) => {\n        const label = dayNameFromIdx(day, idx);\n        const estimate = allTaskVal - (allTaskVal * idx) / (days_len - 1);\n        if (\n          moment()\n            .local()\n            .endOf(\"days\")\n            .diff(moment(day)) > 0\n        ) {\n          const add =\n            idx === 0\n              ? 0\n              : getSumVal(\n                  custom_value_map,\n                  getTaskCreatedToday(tasks, day),\n                  custom_eid\n                );\n          const result =\n            getSumVal(\n              custom_value_map,\n              getTaskCreated(tasks, day),\n              custom_eid\n            ) -\n            add -\n            getSumVal(\n              custom_value_map,\n              getTaskFinished(tasks, day),\n              custom_eid\n            );\n          return { label, estimate, result, add };\n        } else {\n          return { label, estimate };\n        }\n      });\n      setData(data);\n    } else {\n      setData([]);\n    }\n  }, [tasks, biz_days, custom_eid, custom_value_map, setData]);\n  const labelFormatter: LegendValueFormatter = useCallback(\n    (name: string) => {\n      switch (name) {\n        case \"estimate\": {\n          return custom_attr_e.name || name;\n        }\n        case \"result\": {\n          return custom_attr_r.name || name;\n        }\n        default: {\n          return name;\n        }\n      }\n    },\n    [custom_attr_e.name, custom_attr_r.name]\n  );\n  const formatter: TooltipFormatter = useCallback(\n    (value, name) => [Number(value).toFixed(1), labelFormatter(name)],\n    [labelFormatter]\n  );\n  if (data.length === 0) {\n    return null;\n  } else {\n    return (\n      <Card className=\"mb-2\">\n        <CardHeader>Burn down chart</CardHeader>\n        <ComposedChart data={data} width={800} height={400}>\n          <YAxis />\n          <XAxis dataKey=\"label\" />\n          <Tooltip formatter={formatter} />\n          <Legend formatter={labelFormatter} />\n          <Bar dataKey=\"result\" fill=\"#8884d8\" stackId=\"a\" />\n          <Bar dataKey=\"add\" fill=\"#82ca9d\" stackId=\"a\" />\n          <Line dataKey=\"estimate\" />\n        </ComposedChart>\n      </Card>\n    );\n  }\n};\n","import React, { useContext } from \"react\";\nimport { UserTasks } from \"./UserTasks\";\nimport { UnEstimatedTasks } from \"./UnEstimatedTasks\";\nimport { NotAssignedTasks } from \"./NotAssignedTasks\";\nimport { Chart } from \"./Chart\";\nimport { RootContext } from \"../Provider\";\n\nexport const OverView: React.FC = () => {\n  const {\n    state: { tasks }\n  } = useContext(RootContext);\n  return (\n    <>\n      <UserTasks />\n      <NotAssignedTasks />\n      <br />\n      <UnEstimatedTasks />\n      <br />\n      <Chart tasks={tasks} />\n    </>\n  );\n};\n","import React, { useContext, useMemo } from \"react\";\nimport { RootContext } from \"../Provider\";\nimport {\n  Card,\n  CardHeader,\n  CardBody,\n  CardFooter,\n  Input,\n  InputGroup,\n  InputGroupAddon,\n  Row,\n  Col\n} from \"reactstrap\";\nimport classNames from \"classnames\";\nimport { InputGroupSpinner } from \"./InputGroupSpinner\";\nimport {\n  getCustomVal,\n  getCustomValVersion,\n  isCustomValInvalid,\n  isCustomValValid,\n  TaskProgress\n} from \"./UserTasks\";\nimport { UserStory, Grade, convToTasksByUserStory } from \"./UserStory\";\nexport const PersonalTasks: React.FC = () => {\n  const {\n    state: {\n      custom_value_map,\n      biz_days,\n      user_tasks,\n      custom_attr_e,\n      custom_attr_r\n    }\n  } = useContext(RootContext);\n  const userStories = useMemo(() => convToTasksByUserStory(user_tasks), [\n    user_tasks\n  ]);\n  const [e, r] = useMemo(\n    () =>\n      user_tasks.reduce(\n        (result, item) => {\n          return [\n            result[0] + getCustomVal(custom_value_map, item, custom_attr_e.id),\n            result[1] + getCustomVal(custom_value_map, item, custom_attr_r.id)\n          ];\n        },\n        [0, 0]\n      ),\n    [custom_attr_e.id, custom_attr_r.id, custom_value_map, user_tasks]\n  );\n  const valid = useMemo(\n    () => isCustomValValid(e, r, userStories.every(item => item.is_closed)),\n    [e, r, userStories]\n  );\n  const invalid = useMemo(() => isCustomValInvalid(e, r), [e, r]);\n  const loading = useMemo(\n    () => user_tasks.some(item => !getCustomValVersion(custom_value_map, item)),\n    [custom_value_map, user_tasks]\n  );\n  if (!custom_attr_e.id || !custom_attr_r.id || biz_days.length <= 1) {\n    return null;\n  }\n\n  return (\n    <>\n      {userStories.map(item => (\n        <UserStory item={item} key={item.user_story} />\n      ))}\n      <Card>\n        <CardHeader className={classNames(\"alert-info\")}>Total</CardHeader>\n        <CardBody>\n          <Row>\n            <Col>\n              <InputGroup>\n                <InputGroupAddon addonType=\"prepend\">\n                  {custom_attr_e.name}\n                </InputGroupAddon>\n                {loading ? <InputGroupSpinner /> : <Input readOnly value={e} />}\n              </InputGroup>\n            </Col>\n            <Col>\n              <InputGroup>\n                <InputGroupAddon addonType=\"prepend\">\n                  {custom_attr_r.name}\n                </InputGroupAddon>\n                {loading ? (\n                  <InputGroupSpinner />\n                ) : (\n                  <Input readOnly value={r} invalid={invalid} valid={valid} />\n                )}\n              </InputGroup>\n            </Col>\n            <Col>\n              <Grade e={e} r={r} />\n            </Col>\n          </Row>\n        </CardBody>\n        <CardFooter>\n          <TaskProgress tasks={user_tasks} />\n        </CardFooter>\n      </Card>\n    </>\n  );\n};\n","import React, { useContext } from \"react\";\nimport { Card, CardHeader } from \"reactstrap\";\nimport { RootContext } from \"../Provider\";\n\nimport { AvatarSquare } from \"./UserTasks\";\nexport const PersonalInfo: React.FC = () => {\n  const {\n    state: { user }\n  } = useContext(RootContext);\n  return (\n    <Card>\n      {user && (\n        <CardHeader>\n          <AvatarSquare src={user.photo} size=\"xlarge\" />\n          {user.username} 's task\n        </CardHeader>\n      )}\n    </Card>\n  );\n};\n","import React, { useContext, useEffect } from \"react\";\nimport { Button, Alert, Navbar } from \"reactstrap\";\nimport { PersonalTasks } from \"./PersonalTasks\";\nimport { PersonalInfo } from \"./PersonalInfo\";\nimport { RootContext } from \"../Provider\";\nimport { Chart } from \"./Chart\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowCircleLeft } from \"@fortawesome/free-solid-svg-icons\";\nimport { Link } from \"react-router-dom\";\nimport { ActionTypes } from \"../actions\";\nimport { UpdateButton } from \"./UpdateButton\";\nimport useRouter from \"use-react-router\";\nimport { SignInForm } from \"./SignInForm\";\n\nexport const PersonalPage: React.FC = () => {\n  const {\n    state: { user, user_tasks, url },\n    dispatch\n  } = useContext(RootContext);\n  const {\n    match: {\n      params: { uid }\n    }\n  } = useRouter();\n  useEffect(() => {\n    if (uid && url) {\n      dispatch({ type: ActionTypes.FETCH_USER, payload: { uid } });\n    }\n    return () => {\n      dispatch({ type: ActionTypes.RESET_USER });\n    };\n  }, [dispatch, uid, url]);\n\n  return (\n    <>\n      <Navbar color=\"light\" light>\n        <Button tag={Link} to=\"/\" className=\"mr-auto\">\n          <FontAwesomeIcon icon={faArrowCircleLeft} /> Go back\n        </Button>\n        <SignInForm />\n        <UpdateButton />\n      </Navbar>\n      {user ? (\n        <>\n          <PersonalInfo />\n          <br />\n          <PersonalTasks />\n          <br />\n          <Chart tasks={user_tasks} />\n        </>\n      ) : (\n        <Alert color=\"danger\">This user does not exist.</Alert>\n      )}\n    </>\n  );\n};\n","import React, { useContext, useState, useCallback, useEffect } from \"react\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport {\n  Card,\n  CardHeader,\n  Badge,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem,\n  InputGroup,\n  InputGroupAddon,\n  InputGroupText,\n  InputGroupButtonDropdown,\n  Button\n} from \"reactstrap\";\nimport styles from \"./Pomodoro.module.css\";\nimport classNames from \"classnames\";\nimport { Tomato, TomatoState } from \"./Tomato\";\nimport tomatoIcon from \"../tomato.png\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faCoffee,\n  faPlay,\n  faPause,\n  faRedo,\n  faCookie,\n  faTimes\n} from \"@fortawesome/free-solid-svg-icons\";\nimport {\n  TimerState,\n  TimerMode,\n  TimerDurationMin,\n  timer,\n  TimerEventListener\n} from \"../util/timer\";\nimport { RootContext } from \"../Provider\";\nimport { ActionTypes } from \"../sideEffectors\";\nconst Favico = require(\"favico.js-slevomat\");\nconst favico = new Favico({ animation: \"fade\" });\n\nconst secToMin = (seconds: number) => Math.ceil(seconds / 60);\ninterface TimerIconProps {\n  mode: TimerMode;\n}\nconst TimerIcon: React.FC<TimerIconProps> = ({ mode }) => {\n  switch (mode) {\n    case TimerMode.SHORT: {\n      return <FontAwesomeIcon className=\"fa-fw\" icon={faCoffee} />;\n    }\n    case TimerMode.LONG: {\n      return <FontAwesomeIcon className=\"fa-fw\" icon={faCookie} />;\n    }\n    default: {\n      return <Tomato />;\n    }\n  }\n};\ninterface TimerItemProps {\n  mode: TimerMode;\n  onSelect: (mode: TimerMode) => void;\n}\nconst TimerItem: React.FC<TimerItemProps> = ({ mode, onSelect }) => {\n  const handleClick = useCallback(() => {\n    onSelect(mode);\n  }, [mode, onSelect]);\n  return (\n    <DropdownItem onClick={handleClick}>\n      <TimerIcon mode={mode} />\n      {mode}\n    </DropdownItem>\n  );\n};\nexport const Pomodoro: React.FC = () => {\n  const {\n    state: {\n      loaded,\n      pomodoro_date,\n      pomodoro_number,\n      pomodoro_used_number,\n      auth_token,\n      isNotifable\n    },\n    dispatch\n  } = useContext(RootContext);\n  const [isOpen, setIsOpen] = useState(false);\n  const [remainingMin, setRemainingMin] = useState(\n    TimerDurationMin[TimerMode.FOCUS]\n  );\n  const [state, setState] = useState<TimerState>(TimerState.STOPPED);\n  const [mode, setMode] = useState<TimerMode>(TimerMode.FOCUS);\n  const toggleDropdown = useCallback(() => {\n    setIsOpen(prev => !prev);\n  }, []);\n  const handleSelect = useCallback((mode: TimerMode) => {\n    timer.changeMode(mode);\n  }, []);\n  const handleClick = useCallback(() => {\n    switch (state) {\n      case TimerState.RUNNING: {\n        timer.pause();\n        break;\n      }\n      case TimerState.PAUSED: {\n        timer.resume();\n        break;\n      }\n      case TimerState.STOPPED: {\n        timer.start();\n      }\n    }\n  }, [state]);\n  const handleState: TimerEventListener = useCallback(status => {\n    setState(status.state);\n    setRemainingMin(secToMin(status.remaining));\n  }, []);\n  const handleMode: TimerEventListener = useCallback(status => {\n    setMode(status.mode);\n    setRemainingMin(secToMin(status.duration));\n  }, []);\n  const handleTick: TimerEventListener = useCallback(status => {\n    setRemainingMin(secToMin(status.remaining));\n  }, []);\n  const handleExpire: TimerEventListener = useCallback(\n    status => {\n      let num = pomodoro_number;\n      handleState(status);\n      if (status.mode === TimerMode.FOCUS) {\n        dispatch({ type: ActionTypes.ADD_POMODORO });\n        num++;\n        if (num % 4 === 0) {\n          timer.changeMode(TimerMode.LONG);\n        } else {\n          timer.changeMode(TimerMode.SHORT);\n        }\n      } else {\n        timer.changeMode(TimerMode.FOCUS);\n      }\n      if (isNotifable) {\n        let title: string = \"\";\n        let body: string;\n        body = `${num} Pomodoros today!`;\n        switch (timer.mode) {\n          case TimerMode.FOCUS: {\n            title = \"Start Focusing.\";\n            break;\n          }\n          case TimerMode.SHORT: {\n            title = \"Take a Short Break.\";\n            break;\n          }\n          case TimerMode.LONG: {\n            title = \"Take a Long Break.\";\n            break;\n          }\n        }\n        const notify = new Notification(title, {\n          body,\n          icon: tomatoIcon\n        });\n        notify.onclick = () => {\n          timer.start();\n          notify.close();\n        };\n      }\n    },\n    [dispatch, handleState, isNotifable, pomodoro_number]\n  );\n  const handleRetry = useCallback(() => {\n    timer.changeMode(TimerMode.FOCUS);\n    timer.start();\n  }, []);\n  useEffect(() => {\n    timer.on(\"tick\", handleTick);\n    timer.on(\"start\", handleState);\n    timer.on(\"stop\", handleState);\n    timer.on(\"pause\", handleState);\n    timer.on(\"resume\", handleState);\n    timer.on(\"expire\", handleExpire);\n    timer.on(\"change_mode\", handleMode);\n    return () => {\n      timer.removeAllListeners();\n    };\n  }, [handleExpire, handleMode, handleState, handleTick]);\n  useEffect(() => {\n    setMode(timer.mode);\n    setState(timer.state);\n    setRemainingMin(secToMin(timer.remaining));\n    if (timer.restoreExpired) {\n      handleExpire(timer.status);\n      timer.restoreExpired = false;\n    }\n  }, [handleExpire]);\n  useEffect(() => {\n    const today = moment().format(\"YYYY-MM-DD\");\n    if (loaded && pomodoro_date !== today) {\n      dispatch({\n        type: ActionTypes.RESET_POMODORO,\n        payload: { pomodoro_date: today }\n      });\n      timer.changeMode(TimerMode.FOCUS);\n    }\n  }, [dispatch, loaded, pomodoro_date]);\n  useEffect(() => {\n    if (Notification.permission !== \"denied\") {\n      Notification.requestPermission(permission => {\n        if (permission === \"granted\") {\n          dispatch({ type: ActionTypes.ALLOW_NOTIFICATION });\n        }\n      });\n    }\n  }, [dispatch]);\n  useEffect(() => {\n    const bgColor = mode === TimerMode.FOCUS ? \"#f00\" : \"#0f0\";\n    const textColor = mode === TimerMode.FOCUS ? \"#fff\" : \"#000\";\n    const shape = mode === TimerMode.FOCUS ? \"rectangle\" : \"circle\";\n    switch (state) {\n      case TimerState.RUNNING: {\n        favico.badge(remainingMin, { bgColor, textColor, type: shape });\n        break;\n      }\n      case TimerState.PAUSED: {\n        favico.badge(\"-\", { bgColor, textColor, type: shape });\n        break;\n      }\n      default: {\n        favico.reset();\n      }\n    }\n  }, [mode, remainingMin, state]);\n\n  if (!auth_token) {\n    return null;\n  }\n  return (\n    <Card className={classNames(styles.top)}>\n      <CardHeader>\n        <div className=\"d-flex\">\n          <InputGroup className={classNames(styles.button_group)}>\n            <InputGroupButtonDropdown\n              isOpen={isOpen}\n              toggle={toggleDropdown}\n              addonType=\"prepend\"\n            >\n              <DropdownToggle size=\"sm\" caret>\n                <TimerIcon mode={mode} />\n              </DropdownToggle>\n              <DropdownMenu>\n                <TimerItem mode={TimerMode.FOCUS} onSelect={handleSelect} />\n                <TimerItem mode={TimerMode.SHORT} onSelect={handleSelect} />\n                <TimerItem mode={TimerMode.LONG} onSelect={handleSelect} />\n              </DropdownMenu>\n            </InputGroupButtonDropdown>\n            <InputGroupAddon addonType=\"prepend\">\n              <InputGroupText\n                className={classNames({\n                  \"font-weight-bold\": state === TimerState.RUNNING\n                })}\n              >\n                {remainingMin}\n              </InputGroupText>\n            </InputGroupAddon>\n            <InputGroupAddon addonType=\"prepend\">min</InputGroupAddon>\n            <InputGroupAddon addonType=\"append\">\n              {state === TimerState.RUNNING ? (\n                <Button color=\"danger\" onClick={handleClick}>\n                  <FontAwesomeIcon icon={faPause} />\n                </Button>\n              ) : (\n                <Button color=\"primary\" onClick={handleClick}>\n                  <FontAwesomeIcon icon={faPlay} />\n                </Button>\n              )}\n            </InputGroupAddon>\n\n            {mode !== TimerMode.FOCUS && (\n              <InputGroupAddon addonType=\"append\">\n                <Button\n                  color=\"info\"\n                  onClick={handleRetry}\n                  title=\"Retry focusing\"\n                >\n                  <FontAwesomeIcon icon={faRedo} />\n                  <Tomato />\n                </Button>\n              </InputGroupAddon>\n            )}\n          </InputGroup>\n          {pomodoro_number > 0 && (\n            <Badge color=\"danger\" className=\"mr-2\">\n              <Tomato /> <FontAwesomeIcon icon={faTimes} /> {pomodoro_number}\n            </Badge>\n          )}\n          {_.times(pomodoro_number).map(i => (\n            <Tomato\n              key={i}\n              state={\n                i < pomodoro_used_number ? TomatoState.STALE : TomatoState.FRESH\n              }\n            />\n          ))}\n        </div>\n      </CardHeader>\n    </Card>\n  );\n};\n","import React from \"react\";\nimport \"./App.css\";\nimport { ToastContainer } from \"react-toastify\";\nimport { Controller } from \"./components/Controller\";\nimport { Provider } from \"./Provider\";\nimport { HashRouter, Route } from \"react-router-dom\";\nimport { OverView } from \"./components/OverView\";\nimport { PersonalPage } from \"./components/PersonalPage\";\nimport { Pomodoro } from \"./components/Pomodoro\";\nexport const App = () => (\n  <div className=\"container\">\n    <ToastContainer className=\"toast-top\" />\n    <HashRouter>\n      <Provider>\n        <Pomodoro />\n        <Controller />\n        <Route exact path=\"/\" component={OverView} />\n        <Route exact path=\"/:uid\" component={PersonalPage} />\n      </Provider>\n    </HashRouter>\n  </div>\n);\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"bootstrap-css-only/css/bootstrap.css\";\nimport \"@material/switch/dist/mdc.switch.css\";\nimport \"@material/form-field/dist/mdc.form-field.css\";\nimport \"@rmwc/avatar/avatar.css\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"UserStory_header__3lGFX\",\"toggle_input\":\"UserStory_toggle_input__ARa5d\",\"display_medal\":\"UserStory_display_medal__3t53K\",\"medal\":\"UserStory_medal__2Zi1f\",\"is_closed\":\"UserStory_is_closed__2ABQp\"};"],"sourceRoot":""}