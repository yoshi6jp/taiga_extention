{"version":3,"sources":["components/Hero.module.css","components/UserTasks.module.css","components/Controller.module.css","tomato.png","actions.ts","util/timer.ts","store.ts","reducer.ts","util/useSideEffector.ts","sideEffectors/fetchProjects.ts","sideEffectors/fetchProject.ts","sideEffectors/fetchMilestones.ts","sideEffectors/fetchTasks.ts","sideEffectors/fetchTaskStatuses.ts","sideEffectors/fetchCustomAttrs.ts","sideEffectors/fetchCustomValueMap.ts","sideEffectors/fetchUser.ts","util/toastr.tsx","sideEffectors/patchCustomValue.ts","sideEffectors/patchTask.ts","sideEffectors/signIn.ts","sideEffectors/syncPomodoro.ts","AppDb.ts","sideEffectors/addPomodoro.ts","sideEffectors/calcPomodoroTotal.ts","sideEffectors/loadPomodoroTotals.ts","util/firebase.ts","sideEffectors/addFBTimer.ts","sideEffectors/dellFBTimer.ts","sideEffectors/index.ts","sideEffectors/signOut.ts","sideEffectors/setAuthToken.ts","sideEffectors/setUrl.ts","sideEffectors/setPid.ts","sideEffectors/setMid.ts","sideEffectors/setCustomEid.ts","sideEffectors/setCustomRid.ts","sideEffectors/syncBizDays.ts","sideEffectors/syncRejectTaskStatusIds.ts","sideEffectors/syncTaskId.ts","sideEffectors/setTimelineCloseTask.ts","sideEffectors/setTimerId.ts","init.ts","Provider.tsx","util/handler.ts","components/ProjectSelector.tsx","components/MilestoneSelector.tsx","components/CustomValuesSelector.tsx","components/DaysSelector.tsx","components/TaskStatusSelector.tsx","components/InputGroupSpinner.tsx","components/TimelimitCloseTask.tsx","components/Controller.tsx","components/UpdateButton.tsx","components/SignInForm.tsx","components/UserTasks.tsx","tomato.svg","components/Tomato.tsx","components/UserStory.tsx","components/UnEstimatedTasks.tsx","components/NotAssignedTasks.tsx","components/Chart.tsx","components/Hero.tsx","components/OverView.tsx","components/PersonalTasks.tsx","components/PersonalInfo.tsx","components/PersonalPage.tsx","components/PomodoroHeatmap.tsx","components/Pomodoro.tsx","util/notify.ts","App.tsx","index.tsx","components/UserStory.module.css","components/Pomodoro.module.css","components/Tomato.module.css"],"names":["module","exports","gold","silver","bronze","custom_input_td","header","__webpack_require__","p","ActionTypes","TimerState","TimerMode","StorageKey","TimerDurationMin","_TimerDurationMin","Object","defineProperty","FOCUS","SHORT","LONG","timer","Timer","tick","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","STOPPED","mode","duration","checkpointStartAt","NaN","checkpointElapsed","expireTimeout","tickInterval","tickOffsetTimeout","restoreExpired","estimateCompletedAt","Date","restoreStorage","event","listener","get","prototype","isStopped","setExpireTimeout","setTickInterval","RUNNING","now","emit","status","saveStorage","clearExpireTimeout","clearTickInterval","isRunning","periodElapsed","PAUSED","isPaused","remaining","stop","start","_this2","_","defer","seconds","_this3","setTimeout","clearTimeout","_this4","adjusted","arguments","length","undefined","limit","setSecTickInterval","offset","setInterval","_this5","clearInterval","localStorage","setItem","STATE","MODE","CHECKPOINT_START_AT","Number","isNaN","String","CHECKPOINT_ELAPSED","val","lsState","getItem","lsMode","lsCpStartAt","lsCpElapsed","includes","values","isValidMode","changeMode","cpElapsed","cpStartAt","Math","max","elapsed","EventEmitter","_getFromStorage","key","getFromStorage","getFromStorageWithSubkey","subkey","concat","setToStorage","item","setToStorageWithSubkey","initialState","token","timer_id","url","auth_token","auth_error","username","password","user","projects","pid","project","mid","custom_eid","custom_rid","custom_attrs","custom_attr_e","custom_attr_r","biz_days","milestones","milestone","tasks","task_id","task","user_tasks","task_statuses","active_task_statuses","custom_value_map","WeakMap","reject_task_status_ids","updated_time","isOpen","pomodoro_date","pomodoro_number","pomodoro_used_number","loaded","pomodoro_daily_totals","pomodoro_state","pomodoro_mode","timelimit_close_task","in_progress_task_status_id","pomodoro_live_counts","_pomodoro_live_counts","reducer","action","type","SET_TOKEN","payload","objectSpread","SET_TIMER_ID","SET_URL","SET_PROJECTS","SET_PID","SET_PROJECT","SET_MID","SET_MILESTONES","SET_MILESTONE","SET_CUSTOM_EID","SET_CUSTOM_ATTRS","SET_CUSTOM_ATTR_E","SET_CUSTOM_ATTR_R","SET_CUSTOM_RID","SET_BIZ_DAYS","ADD_BIZ_DAY","biz_day","chain","toConsumableArray","uniq","sort","value","REMOVE_BIZ_DAY","reject","SET_TASKS","SET_TASK_ID","RESET_TASK_ID","SET_TASK","SET_USER_TASKS","SET_TASK_STATUSES","SET_ACTIVE_TASK_STATUSES","SET_CUSTOM_VALUE_MAP","SET_USER","RESET_USER","SET_REJECT_TASK_STATUS_IDS","ADD_REJECT_TASK_STATUS_ID","reject_task_status_id","compact","REMOVE_REJECT_TASK_STATUS_ID","OPEN_CONTROLLER","CLOSE_CONTROLLER","UPDATE_DATA","SIGN_IN","_action$payload","SET_AUTH_TOKEN","SET_AUTH_ERROR","SIGN_OUT","ADD_POMODORO","USE_POMODORO","used_number","RESET_POMODORO","RESTORE_POMODORO","_action$payload2","SET_POMODORO_TOTALS","LOADED","SET_POMODORO_STATE","SET_POMODORO_MODE","SET_TIMELIMIT_CLOSE_TASK","SET_IN_PROGRESS_TASK_STATUS_ID","task_status_id","SET_POMODORO_LIVE_COUNT","_action$payload3","dispatchSideEffector","dispatch","sideEffector","dispatchSECaller","fetchProjecs","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","_state","_ref2","wrap","_context","prev","next","fetchData","sent","data","t0","errToastr","_x","_x2","_x3","apply","fetchProject","FETCH_PROJECT","fetchMilestones","FETCH_MILESTONES","params","fetchTasks","startM","FETCH_TASKS","moment","headers","x-disable-pagination","is_closed","finished_date","diff","fetchTaskStatuses","FETCH_TASK_STATUSES","fetchCustomAttrs","FETCH_CUSTOM_ATTRS","fetchCustomValueMap","_callee2","_context2","FETCH_CUSTOM_VALUE_MAP","Promise","all","map","_ref3","custom_attr_val","id","abrupt","_x4","t1","t2","fetchUser","uid","FETCH_USER","MessageWithIcon","icon","message","react_default","createElement","className","index_es","Notify","title","body","src","style","width","height","alt","toastr","toast","success","toastr_MessageWithIcon","faCheck","error","faCheckCircle","toastr_Notify","patchCustomValue","version","custom_value","attributes_values","PATCH_CUSTOM_VALUE","find","has","patchData","meta","update_status","PATCH_TASK","use_pomodoro","patchTask","_patchData","signIn","postData","USERNAME","PASSWORD","syncPomodoro","dispatchm","POMODORO_DATE","POMODORO_NUMBER","POMODORO_USED_NUMBER","db","_Dexie","AppDatabase","items","totals","stores","table","inherits","Dexie","addPomodoro","_action$meta","completedAt","pure","dateKey","format","put","CALC_POMODORO_TOTAL","calcPomodoroTotal","query","totalDoc","pureValue","dayOfWeek","date","where","toArray","filter","day","toDate","LOAD_POMODORO_TOTALS","loadPomodoroTotals","dotenv","config","process","apiKey","REACT_APP_apiKey","VapidKey","REACT_APP_VapidKey","firebaseConfig","authDomain","REACT_APP_authDomain","databaseURL","REACT_APP_databaseURL","projectId","REACT_APP_projectId","storageBucket","REACT_APP_storageBucket","messagingSenderId","REACT_APP_messagingSenderId","appId","REACT_APP_appId","firebase","initializeApp","messaging","navigator","serviceWorker","register","then","registration","useServiceWorker","usePublicVapidKey","onTokenRefresh","getToken","Timers","firestore","collection","requestPermission","console","log","catch","err","addTimer","add","click_action","window","location","href","_x5","addFBTimer","ADD_FB_TIMER","delFBTimer","DEL_FB_TIMER","doc","delete","path","axios","baseUrl","post","patch","response","_error_message","e","rootSideEffector","FETCH_PROJECTS","removeItem","defaults","common","setAuthToken","URL","setUrl","PID","MID","CUSTOM_EID","CUSTOM_RID","setPid","beforeMid","BIZ_DAYS","split","TIMELIMIT_CLOSE_TASK","setMid","setCustomEid","setCustomRid","dispathc","join","syncBizDays","REJECT_TASK_STATUS_IDS","syncRejectTaskStatusIds","TASK_ID","syncTaskId","customize","setTimelineCloseTask","TIMER_ID","setTimerId","init","syncStorage","replace","getCustomAttr","RootContext","createContext","Provider","children","_useSideEffector","slicedToArray","dispatchSE","useCallback","stateStore","useMemo","getter","setter","newState","stateStoreFactory","useSideEffector","useReducer","_useSideEffector2","useEffect","orderBy","order","assigned_to","sortBy","firstDay","local","startOf","task_status","slug","forEach","onSnapshot","docs","size","preventDefault","stopPropagation","ProjectSelector","_useContext","useContext","_useContext$state","handleChange","target","InputGroup","InputGroupAddon","addonType","Input","onChange","name","MilestoneSelector","CustomValuesSelector","dayNameFromIdx","idx","weekClassName","text-danger","text-info","DayItem","checked","isPlanning","eleId","Fragment","classNames","table-info","biz","isWeekDay","FormGroup","check","inline","Label","disabled","isWeekendDay","UncontrolledTooltip","indexOf","dayName","DaysSelector","_useContext2","_useContext2$state","_useState","useState","_useState2","setItems","estimated_start","daysInSprint","estimated_finish","times","i","clone","getDays","weekdays","chunk","Card","CardHeader","Table","bordered","days","DaysSelector_DayItem","StatusItem","defaultChecked","TaskStatusSelector","CardBody","TaskStatusSelector_StatusItem","InputGroupSpinner","InputGroupText","faSpinner","TimelimitCloseTask","datetime","setDatetime","_useState3","_useState4","isFresh","setIsFresh","handleSubmit","Form","onSubmit","InputGroupSpinner_InputGroupSpinner","defaultValue","Button","ToggleIcon","rotation","faChevronCircleRight","Controller","stateUrl","handleUrl","toggle","taskboardUrl","project_extra_info","getTaskboardUrl","spName","range","head","last","getRange","styles","onClick","Controller_ToggleIcon","Badge","color","pill","rel","faExternalLinkAlt","Collapse","placeholder","ProjectSelector_ProjectSelector","MilestoneSelector_MilestoneSelector","CustomValuesSelector_CustomValuesSelector","TimelimitCloseTask_TimelimitCloseTask","DaysSelector_DaysSelector","TaskStatusSelector_TaskStatusSelector","UpdateButton","updateData","faSyncAlt","SignInForm","sign_in_username","setUsername","setPassword","_useState5","_useState6","loading","setLoading","handleUsername","handlePassword","handleSignOut","faUser","faSignOutAlt","onInput","invalid","faKey","Spinner","faSignInAlt","barStyles","getTasksByUser","groupBy","AvatarSquare","props","random","assign","square","getCustomVal","sum","getSumCustomVal","getSumCustomValClosed","getCustomValVersion","custon_value_map","isCustomValValid","r","isCustomValInvalid","NameAndWorkLoad","total","imgSrc","_useMemo","faGrinBeam","faGrinBeamSweat","faDizzy","_useMemo2","tblCls","UserTasks_AvatarSquare","Medal","_useMemo3","isNumber","abs","getGrade","_useMemo4","grade","num","faMedal","TaskProgress","eid","reverse","label","allSum","Progress","multi","bar","UserRow","_ref4","sums","isPast","hpd","customTotal","setTotal","sumItem","margedTotal","totalStr","UserTasks_NameAndWorkLoad","photo","bsSize","step","react_router_dom","to","burn_down","UserTasks_TaskProgress","UserTasks_Medal","getTaskSumByUser","rid","mapValues","reduce","result","UserTasks","members","setHpd","activeLen","taskSumByUser","notAssignedSum","endOf","tasksByUser","sortedMembers","member","Navbar","light","faTimes","faEquals","SignInForm_SignInForm","UpdateButton_UpdateButton","faLevelDownAlt","faBurn","UserTasks_UserRow","faGhost","_extends","source","hasOwnProperty","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","TomatoState","tomato_ref2","fill","d","tomato_SvgTomato","svgRef","x","y","viewBox","xmlSpace","ref","ForwardRef","forwardRef","Tomato","_classNames","bl","br","fresh","FRESH","stale","STALE","convToTasksByUserStory","user_story","user_story_extra_info","every","needAuthMsg","UserStoryLink","usName","subject","TaskLink","taskName","ToggleNumberInput","onEditable","onValueChange","valid","submitting","setChecked","setVal","running","setRunning","evt","currentTarget","handleVal","toggle_input","InputGroupText_default","faHandPointRight","min","faCloudUploadAlt","readOnly","switch_next","faEdit","Grade","display_medal","medal","TaskStatusItem","_ref5","onSelect","handleClick","DropdownItem","_ref6","_useState7","_useState8","handleSelect","UncontrolledDropdown","DropdownToggle","caret","status_extra_info","DropdownMenu","UserStory_TaskStatusItem","UserItem","_ref7","TaskUserSelector","_ref8","_useState9","_useState10","_useContext5","UserStory_UserItem","NotAssignedButton","_ref9","_useState11","_useState12","faUserTimes","EstimateInput","_ref10","_useContext7","_useContext7$state","unEstimated","UserStory_ToggleNumberInput","ResultInput","_ref11","_useState13","_useState14","setIsOpen","_useState15","_useState16","set_used_number","_useState17","_useState18","editable","setEditable","_useState19","_useState20","setSubmitting","_useContext8","_useContext8$state","handleToggle","handlePluse","handleMinus","handleReset","handleEditable","handleValueChange","handleUsePomodoro","elId","usableNumber","submittable","isMax","Popover","placement","trigger","PopoverHeader","PopoverBody","ButtonGroup","faPlus","faMinus","Tomato_Tomato","faEraser","TaskTimerButton","_ref12","_useContext9","_useContext9$state","handleStart","resume","handlePause","pause","task_timer_btn","faPause","faPlay","TaskItem","_ref13","_useContext10$state","inactive","ListGroupItem_default","UserStory_TaskLink","UserStory_NotAssignedButton","UserStory_TaskTimerButton","UserStory_TaskStatusSelector","Row","Col","UserStory_EstimateInput","UserStory_ResultInput","UserStory_Grade","UserStoryWithEstimate","_ref14","UserStory_UserStoryLink","ListGroup_default","UserStoryWithTaskUser","_ref15","UserStory_TaskUserSelector","UserStory","_ref16","_useState21","_useState22","_useContext12$state","alert-primary","xs","md","UserStory_TaskItem","UnEstimatedTasks","userStories","UserStory_UserStoryWithEstimate","NotAssignedTasks","UserStory_UserStoryWithTaskUser","getTaskCreated","created_date","Chart","setData","days_len","allTaskVal","estimate","getTaskCreatedToday","getTaskFinished","labelFormatter","formatter","toFixed","es6","dataKey","stackId","rank","hero","ranking","rankedHero","HeroItem","sm","faAward","CardTitle","elevation_next","z","build_default","delay","end","Hero","today","finishedTasks","beginM","endM","targetM","getTaskFinishedPrevious","sumByUser","heros","_ref3$","take","Hero_HeroItem","faEllipsisH","faEllipsisV","OverView","UserTasks_UserTasks","Chart_Chart","Hero_Hero","NotAssignedTasks_NotAssignedTasks","UnEstimatedTasks_UnEstimatedTasks","PersonalTasks","some","UserStory_UserStory","CardFooter","PersonalInfo","PersonalPage","useRouter","match","tag","Link","faArrowCircleLeft","PersonalInfo_PersonalInfo","PersonalTasks_PersonalTasks","Alert","PomodoroHeatmap","maxVal","maxBy","classForValue","ceil","tooltipDataAttrs","data-tip","startDate","subtract","react_calendar_heatmap_umd_default","showWeekdayLabels","dist_default","favico","require","secToMin","TimerIcon","short_break_icon","faCoffee","long_break_icon","faCookie","TimerItem","Pomodoro_TimerIcon","clickToClose","closeFn","clickToWaitClose","clickToChangeFocus","Pomodoro","isOpenDropdown","setIsOpenDropdown","setRemaining","setState","setMode","progress","setProgress","unit","setUnit","toggleDropdown","setRemainingAndUnit","_toValueAndUnit","toValueAndUnit","_toValueAndUnit2","handleState","handleMode","handleTick","handleExpire","option","onDblclick","_ref$option","clickCount","closeTimer","Notification","permission","notification","sec","close","onclick","notify","tomatoIcon","handleRetry","handleRemove","handleAddFBTimer","handleDelFBTimer","on","removeAllListeners","bgColor","textColor","animation","badge","reset","buffer","taskTitle","taskSubject","truncate","displayLive","top","theme_next","options","primary","linear_progress_next","closed","button_group","InputGroupButtonDropdown","Pomodoro_TimerItem","fix_w","font-weight-bold","faRedo","chip_next","chip_set","faTasks","onRemove","trailingIcon","live","faUserFriends","entries","PomodoroHeatmap_PomodoroHeatmap","App","react_toastify","Provider_Provider","Pomodoro_Pomodoro","Controller_Controller","react_router","exact","component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.3ce58b20.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"gold\":\"Hero_gold__22tvr\",\"silver\":\"Hero_silver__3VD88\",\"bronze\":\"Hero_bronze__2KzSy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gold\":\"UserTasks_gold__1MP40\",\"silver\":\"UserTasks_silver__GpK9Y\",\"bronze\":\"UserTasks_bronze__1aHZc\",\"custom_input_td\":\"UserTasks_custom_input_td__1JWmj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Controller_header__33lvE\"};","module.exports = __webpack_public_path__ + \"static/media/tomato.c392a271.png\";","import {\n  IProject,\n  IMilestone,\n  ICustomAttr,\n  ITask,\n  ICustomValueMap,\n  ITaskStatus,\n  IUser\n} from \"./store\";\nimport { IPomodoroHistory, IDailyTotal } from \"./AppDb\";\nimport { TimerState, TimerMode } from \"./util/timer\";\n\nexport enum ActionTypes {\n  SET_TOKEN = \"SET_TOKEN\",\n  SET_TIMER_ID = \"SET_TIMER_ID\",\n  ADD_FB_TIMER = \"ADD_FB_TIMER\",\n  DEL_FB_TIMER = \"DEL_FB_TIMER\",\n  SET_URL = \"SET_URL\",\n  SIGN_IN = \"SIGN_IN\",\n  SET_AUTH_TOKEN = \"SET_AUTH_TOKEN\",\n  SET_AUTH_ERROR = \"SET_AUTH_ERROR\",\n  SIGN_OUT = \"SIGN_OUT\",\n  FETCH_PROJECTS = \"FETCH_PROJECTS\",\n  SET_PROJECTS = \"SET_PROJECTS\",\n  SET_PID = \"SET_PID\",\n  FETCH_PROJECT = \"FETCH_PROJECT\",\n  SET_PROJECT = \"SET_PROJECT\",\n  FETCH_MILESTONES = \"FETCH_MILESTONES\",\n  SET_MID = \"SET_MID\",\n  SET_MILESTONES = \"SET_MILESTONES\",\n  SET_MILESTONE = \"SET_MILESTONE\",\n  SET_CUSTOM_EID = \"SET_CUSTOM_EID\",\n  SET_CUSTOM_RID = \"SET_CUSTOM_RID\",\n  FETCH_CUSTOM_ATTRS = \"FETCH_CUSTOM_ATTRS\",\n  SET_CUSTOM_ATTRS = \"SET_CUSTOM_ATTRS\",\n  SET_CUSTOM_ATTR_E = \"SET_CUSTOM_ATTR_E\",\n  SET_CUSTOM_ATTR_R = \"SET_CUSTOM_ATTR_R\",\n  SET_BIZ_DAYS = \"SET_BIZ_DAYS\",\n  ADD_BIZ_DAY = \"ADD_BIZ_DAY\",\n  REMOVE_BIZ_DAY = \"REMOVE_BIZ_DAY\",\n  FETCH_TASKS = \"FETCH_TASKS\",\n  SET_TASKS = \"SET_TASKS\",\n  SET_TASK_ID = \"SET_TASK_ID\",\n  RESET_TASK_ID = \"RESET_TASK_ID\",\n  SET_TASK = \"SET_TASK\",\n  SET_USER_TASKS = \"SET_USER_TASKS\",\n  PATCH_TASK = \"PATCH_TASK\",\n  FETCH_TASK_STATUSES = \"FETCH_TASK_STATUSES\",\n  SET_TASK_STATUSES = \"SET_TASK_STATUSES\",\n  SET_ACTIVE_TASK_STATUSES = \"SET_ACTIVE_TASK_STATUSES\",\n  FETCH_CUSTOM_VALUE_MAP = \"FETCH_CUSTOM_VALUE_MAP\",\n  SET_CUSTOM_VALUE_MAP = \"SET_CUSTOM_VALUE_MAP\",\n  PATCH_CUSTOM_VALUE = \"PATCH_CUSTOM_VALUE\",\n  FETCH_USER = \"FETCH_USER\",\n  SET_USER = \"SET_USER\",\n  RESET_USER = \"RESET_USER\",\n  SET_REJECT_TASK_STATUS_IDS = \"SET_REJECT_TASK_STATUS_IDS\",\n  ADD_REJECT_TASK_STATUS_ID = \"ADD_REJECT_TASK_STATUS_ID\",\n  REMOVE_REJECT_TASK_STATUS_ID = \"REMOVE_REJECT_TASK_STATUS_ID\",\n  OPEN_CONTROLLER = \"OPEN_CONTROLLER\",\n  CLOSE_CONTROLLER = \"CLOSE_CONTROLLER\",\n  UPDATE_DATA = \"UPDATE_DATA\",\n  ADD_POMODORO = \"ADD_POMODORO\",\n  USE_POMODORO = \"USE_POMODORO\",\n  RESET_POMODORO = \"RESET_POMODORO\",\n  RESTORE_POMODORO = \"RESTORE_POMODORO\",\n  CALC_POMODORO_TOTAL = \"CALC_POMODORO_TOTAL\",\n  LOAD_POMODORO_TOTALS = \"LOAD_POMODORO_TOTALS\",\n  SET_POMODORO_TOTALS = \"SET_POMODORO_TOTALS\",\n  LOADED = \"LOADED\",\n  SET_POMODORO_STATE = \"SET_POMODORO_STATE\",\n  SET_POMODORO_MODE = \"SET_POMODORO_MODE\",\n  SET_TIMELIMIT_CLOSE_TASK = \"SET_TIMELIMIT_CLOSE_TASK\",\n  SET_IN_PROGRESS_TASK_STATUS_ID = \"SET_IN_PROGRESS_TASK_STATUS_ID\",\n  SET_POMODORO_LIVE_COUNT = \"SET_POMODORO_LIVE_COUNT\"\n}\n\nexport interface IAction {\n  type: ActionTypes;\n  payload?: any;\n  meta?: { [key: string]: any };\n}\nexport interface SET_TOKEN extends IAction {\n  type: ActionTypes.SET_TOKEN;\n  payload: { token: string | null };\n}\nexport interface SET_TIMER_ID extends IAction {\n  type: ActionTypes.SET_TIMER_ID;\n  payload: { timer_id: string | null };\n}\nexport interface ADD_FB_TIMER extends IAction {\n  type: ActionTypes.ADD_FB_TIMER;\n  payload: { title: string; body: string; remaining: number };\n}\nexport interface DEL_FB_TIMER extends IAction {\n  type: ActionTypes.DEL_FB_TIMER;\n}\nexport interface SET_URL extends IAction {\n  type: ActionTypes.SET_URL;\n  payload: { url: string };\n}\nexport interface SIGN_IN extends IAction {\n  type: ActionTypes.SIGN_IN;\n  payload: { username: string; password: string };\n}\nexport interface SET_AUTH_TOKEN extends IAction {\n  type: ActionTypes.SET_AUTH_TOKEN;\n  payload: { auth_token: string };\n}\nexport interface SET_AUTH_ERROR extends IAction {\n  type: ActionTypes.SET_AUTH_ERROR;\n}\nexport interface SIGN_OUT extends IAction {\n  type: ActionTypes.SIGN_OUT;\n}\nexport interface FETCH_PROJECTS extends IAction {\n  type: ActionTypes.FETCH_PROJECTS;\n}\nexport interface SET_PROJECTS extends IAction {\n  type: ActionTypes.SET_PROJECTS;\n  payload: { projects: IProject[] };\n}\n\nexport interface SET_PID extends IAction {\n  type: ActionTypes.SET_PID;\n  payload: { pid: string };\n}\nexport interface FETCH_PROJECT extends IAction {\n  type: ActionTypes.FETCH_PROJECT;\n  payload: { pid: string };\n}\nexport interface SET_PROJECT extends IAction {\n  type: ActionTypes.SET_PROJECT;\n  payload: { project: IProject };\n}\nexport interface FETCH_MILESTONES extends IAction {\n  type: ActionTypes.FETCH_MILESTONES;\n  payload: { project: string };\n}\nexport interface SET_MILESTONES extends IAction {\n  type: ActionTypes.SET_MILESTONES;\n  payload: { milestones: IMilestone[] };\n}\n\nexport interface SET_MID extends IAction {\n  type: ActionTypes.SET_MID;\n  payload: { mid: string };\n}\nexport interface SET_MILESTONE extends IAction {\n  type: ActionTypes.SET_MILESTONE;\n  payload: { milestone: IMilestone };\n}\n\nexport interface SET_CUSTOM_EID extends IAction {\n  type: ActionTypes.SET_CUSTOM_EID;\n  payload: { custom_eid: string };\n}\n\nexport interface SET_CUSTOM_RID extends IAction {\n  type: ActionTypes.SET_CUSTOM_RID;\n  payload: { custom_rid: string };\n}\n\nexport interface FETCH_CUSTOM_ATTRS extends IAction {\n  type: ActionTypes.FETCH_CUSTOM_ATTRS;\n  payload: { project: string };\n}\nexport interface SET_CUSTOM_ATTRS extends IAction {\n  type: ActionTypes.SET_CUSTOM_ATTRS;\n  payload: { custom_attrs: ICustomAttr[] };\n}\nexport interface SET_CUSTOM_ATTR_E extends IAction {\n  type: ActionTypes.SET_CUSTOM_ATTR_E;\n  payload: { custom_attr_e: ICustomAttr };\n}\nexport interface SET_CUSTOM_ATTR_R extends IAction {\n  type: ActionTypes.SET_CUSTOM_ATTR_R;\n  payload: { custom_attr_r: ICustomAttr };\n}\nexport interface SET_BIZ_DAYS extends IAction {\n  type: ActionTypes.SET_BIZ_DAYS;\n  payload: { biz_days: string[] };\n}\n\nexport interface ADD_BIZ_DAY extends IAction {\n  type: ActionTypes.ADD_BIZ_DAY;\n  payload: { biz_day: string };\n}\n\nexport interface REMOVE_BIZ_DAY extends IAction {\n  type: ActionTypes.REMOVE_BIZ_DAY;\n  payload: { biz_day: string };\n}\n\nexport interface FETCH_TASKS extends IAction {\n  type: ActionTypes.FETCH_TASKS;\n  payload: {\n    milestone: string;\n    reject_task_status_ids: string[];\n    timelimit_close_task: string;\n  };\n}\nexport interface SET_TASKS extends IAction {\n  type: ActionTypes.SET_TASKS;\n  payload: { tasks: ITask[] };\n}\nexport interface SET_TASK_ID extends IAction {\n  type: ActionTypes.SET_TASK_ID;\n  payload: { task_id: string };\n}\nexport interface RESET_TASK_ID extends IAction {\n  type: ActionTypes.RESET_TASK_ID;\n}\n\nexport interface SET_TASK extends IAction {\n  type: ActionTypes.SET_TASK;\n  payload: { task: ITask };\n}\n\nexport interface SET_USER_TASKS extends IAction {\n  type: ActionTypes.SET_USER_TASKS;\n  payload: { user_tasks: ITask[] };\n}\n\nexport interface PATCH_TASK extends IAction {\n  type: ActionTypes.PATCH_TASK;\n  payload: { key: keyof ITask; value: ITask[keyof ITask]; id: number };\n}\nexport interface FETCH_CUSTOM_VALUE_MAP extends IAction {\n  type: ActionTypes.FETCH_CUSTOM_VALUE_MAP;\n  payload: { tasks: ITask[] };\n}\nexport interface SET_CUSTOM_VALUE_MAP extends IAction {\n  type: ActionTypes.SET_CUSTOM_VALUE_MAP;\n  payload: { custom_value_map: ICustomValueMap };\n}\nexport interface PATCH_CUSTOM_VALUE extends IAction {\n  type: ActionTypes.PATCH_CUSTOM_VALUE;\n  payload: {\n    id: string | number;\n    key: string;\n    value: string | number;\n    version: number;\n  };\n  meta?: {\n    use_pomodoro?: {\n      used_number: number;\n    };\n    update_status?: boolean;\n  };\n}\nexport interface FETCH_TASK_STATUSES extends IAction {\n  type: ActionTypes.FETCH_TASK_STATUSES;\n  payload: { project: string };\n}\nexport interface SET_TASK_STATUSES extends IAction {\n  type: ActionTypes.SET_TASK_STATUSES;\n  payload: { task_statuses: ITaskStatus[] };\n}\nexport interface SET_ACTIVE_TASK_STATUSES extends IAction {\n  type: ActionTypes.SET_ACTIVE_TASK_STATUSES;\n  payload: { active_task_statuses: ITaskStatus[] };\n}\n\nexport interface FETCH_USER extends IAction {\n  type: ActionTypes.FETCH_USER;\n  payload: { uid: string };\n}\nexport interface SET_USER extends IAction {\n  type: ActionTypes.SET_USER;\n  payload: { user: IUser };\n}\nexport interface RESET_USER extends IAction {\n  type: ActionTypes.RESET_USER;\n}\nexport interface SET_REJECT_TASK_STATUS_IDS extends IAction {\n  type: ActionTypes.SET_REJECT_TASK_STATUS_IDS;\n  payload: { reject_task_status_ids: string[] };\n}\nexport interface ADD_REJECT_TASK_STATUS_ID extends IAction {\n  type: ActionTypes.ADD_REJECT_TASK_STATUS_ID;\n  payload: { reject_task_status_id: string };\n}\n\nexport interface REMOVE_REJECT_TASK_STATUS_ID extends IAction {\n  type: ActionTypes.REMOVE_REJECT_TASK_STATUS_ID;\n  payload: { reject_task_status_id: string };\n}\n\nexport interface OPEN_CONTROLLER extends IAction {\n  type: ActionTypes.OPEN_CONTROLLER;\n}\n\nexport interface CLOSE_CONTROLLER extends IAction {\n  type: ActionTypes.CLOSE_CONTROLLER;\n}\n\nexport interface UPDATE_DATA extends IAction {\n  type: ActionTypes.UPDATE_DATA;\n}\nexport interface ADD_POMODORO extends IAction {\n  type: ActionTypes.ADD_POMODORO;\n  meta?: Pick<IPomodoroHistory, \"completedAt\" | \"duration\" | \"pure\">;\n}\nexport interface USE_POMODORO extends IAction {\n  type: ActionTypes.USE_POMODORO;\n  payload: { used_number: number };\n}\nexport interface RESET_POMODORO extends IAction {\n  type: ActionTypes.RESET_POMODORO;\n  payload: { pomodoro_date: string };\n}\nexport interface RESTORE_POMODORO extends IAction {\n  type: ActionTypes.RESTORE_POMODORO;\n  payload: {\n    pomodoro_date: string;\n    pomodoro_number: number;\n    pomodoro_used_number: number;\n  };\n}\nexport interface CALC_POMODORO_TOTAL extends IAction {\n  type: ActionTypes.CALC_POMODORO_TOTAL;\n  payload: {\n    dateKey: string;\n  };\n}\nexport interface LOAD_POMODORO_TOTALS extends IAction {\n  type: ActionTypes.LOAD_POMODORO_TOTALS;\n}\nexport interface SET_POMODORO_TOTALS extends IAction {\n  type: ActionTypes.SET_POMODORO_TOTALS;\n  payload: {\n    pomodoro_daily_totals: IDailyTotal[];\n  };\n}\nexport interface LOADED extends IAction {\n  type: ActionTypes.LOADED;\n}\nexport interface SET_POMODORO_STATE extends IAction {\n  type: ActionTypes.SET_POMODORO_STATE;\n  payload: {\n    pomodoro_state: TimerState;\n  };\n}\nexport interface SET_POMODORO_MODE extends IAction {\n  type: ActionTypes.SET_POMODORO_MODE;\n  payload: {\n    pomodoro_mode: TimerMode;\n  };\n}\nexport interface SET_TIMELIMIT_CLOSE_TASK extends IAction {\n  type: ActionTypes.SET_TIMELIMIT_CLOSE_TASK;\n  payload: {\n    timelimit_close_task: string;\n  };\n  meta?: {\n    customize: boolean;\n  };\n}\nexport interface SET_IN_PROGRESS_TASK_STATUS_ID extends IAction {\n  type: ActionTypes.SET_IN_PROGRESS_TASK_STATUS_ID;\n  payload: {\n    task_status_id: string;\n  };\n}\nexport interface SET_POMODORO_LIVE_COUNT extends IAction {\n  type: ActionTypes.SET_POMODORO_LIVE_COUNT;\n  payload: {\n    mode: TimerMode;\n    value: number;\n  };\n}\n\nexport type Actions =\n  | SET_TOKEN\n  | SET_TIMER_ID\n  | ADD_FB_TIMER\n  | DEL_FB_TIMER\n  | SET_URL\n  | SIGN_IN\n  | SET_AUTH_TOKEN\n  | SET_AUTH_ERROR\n  | SIGN_OUT\n  | FETCH_PROJECTS\n  | SET_PROJECTS\n  | SET_PID\n  | FETCH_PROJECT\n  | SET_PROJECT\n  | FETCH_MILESTONES\n  | SET_MILESTONES\n  | SET_MID\n  | SET_MILESTONE\n  | SET_CUSTOM_EID\n  | SET_CUSTOM_RID\n  | FETCH_CUSTOM_ATTRS\n  | SET_CUSTOM_ATTRS\n  | SET_CUSTOM_ATTR_E\n  | SET_CUSTOM_ATTR_R\n  | PATCH_CUSTOM_VALUE\n  | SET_BIZ_DAYS\n  | SET_BIZ_DAYS\n  | ADD_BIZ_DAY\n  | REMOVE_BIZ_DAY\n  | FETCH_TASKS\n  | SET_TASKS\n  | SET_TASK_ID\n  | RESET_TASK_ID\n  | SET_TASK\n  | SET_USER_TASKS\n  | PATCH_TASK\n  | FETCH_CUSTOM_VALUE_MAP\n  | SET_CUSTOM_VALUE_MAP\n  | FETCH_TASK_STATUSES\n  | SET_TASK_STATUSES\n  | SET_ACTIVE_TASK_STATUSES\n  | FETCH_USER\n  | SET_USER\n  | RESET_USER\n  | SET_REJECT_TASK_STATUS_IDS\n  | ADD_REJECT_TASK_STATUS_ID\n  | REMOVE_REJECT_TASK_STATUS_ID\n  | OPEN_CONTROLLER\n  | CLOSE_CONTROLLER\n  | UPDATE_DATA\n  | ADD_POMODORO\n  | USE_POMODORO\n  | RESET_POMODORO\n  | RESTORE_POMODORO\n  | CALC_POMODORO_TOTAL\n  | LOAD_POMODORO_TOTALS\n  | SET_POMODORO_TOTALS\n  | LOADED\n  | SET_POMODORO_STATE\n  | SET_POMODORO_MODE\n  | SET_TIMELIMIT_CLOSE_TASK\n  | SET_IN_PROGRESS_TASK_STATUS_ID\n  | SET_POMODORO_LIVE_COUNT;\n","import { EventEmitter } from \"events\";\nimport _ from \"lodash\";\nexport enum TimerState {\n  STOPPED = \"stopped\",\n  RUNNING = \"running\",\n  PAUSED = \"paused\"\n}\nexport enum TimerMode {\n  FOCUS = \"Focusing\",\n  SHORT = \"Short break\",\n  LONG = \"Long break\"\n}\nexport const TimerDurationMin = {\n  [TimerMode.FOCUS]: 25,\n  [TimerMode.SHORT]: 5,\n  [TimerMode.LONG]: 15\n};\nenum StorageKey {\n  STATE = \"pomodoro_state\",\n  MODE = \"pomodoro_mode\",\n  CHECKPOINT_START_AT = \"pomodoro_checkpoint_start_at\",\n  CHECKPOINT_ELAPSED = \"pomodoro_checkpoint_elapsed\"\n}\nconst isValidState = (val: string | null) =>\n  _.includes(_.values(TimerState), val);\n\nconst isValidMode = (val: string | null) =>\n  _.includes(_.values(TimerMode), val);\n\ntype TimerEvents =\n  | \"start\"\n  | \"stop\"\n  | \"pause\"\n  | \"resume\"\n  | \"expire\"\n  | \"tick\"\n  | \"change_mode\";\ninterface ITimerStatus {\n  state: TimerState;\n  duration: number;\n  elapsed: number;\n  remaining: number;\n  checkpointElapsed: number;\n  checkpointStartAt: number;\n  mode: TimerMode;\n}\nexport type TimerEventListener = (status: ITimerStatus) => void;\nclass Timer extends EventEmitter {\n  state: TimerState = TimerState.STOPPED;\n  mode: TimerMode = TimerMode.FOCUS;\n  duration: number = TimerDurationMin[TimerMode.FOCUS] * 60;\n  tick: number = 60;\n  checkpointStartAt: number = NaN;\n  checkpointElapsed: number = 0;\n  expireTimeout: NodeJS.Timeout | null = null;\n  tickInterval: NodeJS.Timeout | null = null;\n  tickOffsetTimeout: NodeJS.Timeout | null = null;\n  restoreExpired = false;\n  estimateCompletedAt: Date = new Date();\n  constructor(tick: number) {\n    super();\n    this.tick = tick;\n    this.restoreStorage();\n  }\n  get isStopped() {\n    return this.state === TimerState.STOPPED;\n  }\n  get isRunning() {\n    return this.state === TimerState.RUNNING;\n  }\n  get isPaused() {\n    return this.state === TimerState.PAUSED;\n  }\n  get remaining() {\n    return Math.max(this.duration - this.elapsed, 0);\n  }\n\n  get elapsed() {\n    let periodElapsed = 0;\n    if (this.checkpointStartAt && this.isRunning) {\n      periodElapsed = (Date.now() - this.checkpointStartAt) / 1000;\n    }\n    return this.checkpointElapsed + periodElapsed;\n  }\n  get status(): ITimerStatus {\n    return {\n      state: this.state,\n      duration: this.duration,\n      elapsed: this.elapsed,\n      remaining: this.remaining,\n      checkpointElapsed: this.checkpointElapsed,\n      checkpointStartAt: this.checkpointStartAt,\n      mode: this.mode\n    };\n  }\n  on(event: TimerEvents, listener: TimerEventListener) {\n    return super.on(event, listener);\n  }\n  once(event: TimerEvents, listener: TimerEventListener) {\n    return super.once(event, listener);\n  }\n  start() {\n    if (!this.isStopped) {\n      return;\n    }\n    this.setExpireTimeout(this.duration);\n    this.setTickInterval(this.tick);\n\n    this.state = TimerState.RUNNING;\n    this.checkpointStartAt = Date.now();\n    this.checkpointElapsed = 0;\n\n    this.emit(\"start\", this.status);\n\n    this.saveStorage();\n  }\n  stop() {\n    if (this.isStopped) {\n      return;\n    }\n    this.clearExpireTimeout();\n    this.clearTickInterval();\n\n    this.checkpointStartAt = NaN;\n    this.checkpointElapsed = 0;\n\n    this.state = TimerState.STOPPED;\n\n    this.emit(\"stop\", this.status);\n\n    this.saveStorage();\n  }\n  pause() {\n    if (!this.isRunning) {\n      return;\n    }\n\n    this.clearExpireTimeout();\n    this.clearTickInterval();\n\n    let periodElapsed = (Date.now() - this.checkpointStartAt) / 1000;\n    this.checkpointElapsed += periodElapsed;\n\n    this.state = TimerState.PAUSED;\n\n    this.emit(\"pause\", this.status);\n\n    this.saveStorage();\n  }\n  resume() {\n    if (!this.isPaused) {\n      return;\n    }\n    this.setExpireTimeout(this.remaining);\n    this.setTickInterval(this.tick);\n\n    this.state = TimerState.RUNNING;\n    this.checkpointStartAt = Date.now();\n\n    this.emit(\"resume\", this.status);\n\n    this.saveStorage();\n  }\n  restart() {\n    this.stop();\n    this.start();\n  }\n  changeMode(mode: TimerMode, start?: boolean) {\n    this.stop();\n    this.mode = mode;\n    this.duration = TimerDurationMin[mode] * 60;\n\n    this.emit(\"change_mode\", this.status);\n\n    this.saveStorage();\n    if (start) {\n      _.defer(() => {\n        this.start();\n      });\n    }\n  }\n  setExpireTimeout(seconds: number) {\n    this.expireTimeout = setTimeout(() => {\n      this.emit(\"expire\", this.status);\n      this.stop();\n    }, seconds * 1000);\n  }\n  clearExpireTimeout() {\n    if (this.expireTimeout) {\n      clearTimeout(this.expireTimeout);\n    }\n    this.expireTimeout = null;\n  }\n  setTickInterval(seconds: number, adjusted = false, limit = 60) {\n    const { remaining } = this.status;\n    if (remaining <= limit) {\n      this.setSecTickInterval();\n    } else {\n      const offset = remaining % seconds;\n      if (offset > 1 && !adjusted) {\n        this.tickOffsetTimeout = setTimeout(() => {\n          this.emit(\"tick\", this.status);\n          this.setTickInterval(seconds, true);\n        }, offset * 1000);\n      } else {\n        this.tickInterval = setInterval(() => {\n          const status = this.status;\n          this.emit(\"tick\", status);\n          if (status.remaining < limit) {\n            this.clearTickInterval();\n            this.setSecTickInterval();\n          }\n        }, seconds * 1000);\n      }\n    }\n  }\n  setSecTickInterval() {\n    this.tickInterval = setInterval(() => {\n      this.emit(\"tick\", this.status);\n    }, 1000);\n  }\n  clearTickInterval() {\n    if (this.tickInterval) {\n      clearInterval(this.tickInterval);\n    }\n    this.tickInterval = null;\n    if (this.tickOffsetTimeout) {\n      clearTimeout(this.tickOffsetTimeout);\n    }\n    this.tickOffsetTimeout = null;\n  }\n  saveStorage() {\n    localStorage.setItem(StorageKey.STATE, this.state);\n    localStorage.setItem(StorageKey.MODE, this.mode);\n    localStorage.setItem(\n      StorageKey.CHECKPOINT_START_AT,\n      Number.isNaN(this.checkpointStartAt) ? \"\" : String(this.checkpointStartAt)\n    );\n    localStorage.setItem(\n      StorageKey.CHECKPOINT_ELAPSED,\n      String(this.checkpointElapsed)\n    );\n  }\n  restoreStorage() {\n    const lsState = localStorage.getItem(StorageKey.STATE);\n    const lsMode = localStorage.getItem(StorageKey.MODE);\n    const lsCpStartAt = localStorage.getItem(StorageKey.CHECKPOINT_START_AT);\n    const lsCpElapsed = localStorage.getItem(StorageKey.CHECKPOINT_ELAPSED);\n    if (isValidState(lsState) && isValidMode(lsMode)) {\n      const state = lsState as TimerState;\n      const mode = lsMode as TimerMode;\n      const duration = TimerDurationMin[mode] * 60;\n      switch (state) {\n        case TimerState.STOPPED: {\n          this.changeMode(mode);\n          break;\n        }\n        case TimerState.PAUSED: {\n          const cpElapsed = Number(lsCpElapsed);\n          if (cpElapsed < duration * 1000) {\n            this.state = state;\n            this.mode = mode;\n            this.duration = duration;\n            this.checkpointElapsed = cpElapsed;\n          }\n          break;\n        }\n        case TimerState.RUNNING: {\n          const cpStartAt = Number(lsCpStartAt);\n          const cpElapsed = Number(lsCpElapsed);\n          if (cpStartAt > 0) {\n            this.mode = mode;\n            this.duration = duration;\n            const elapsedMsec = Date.now() - cpStartAt + cpElapsed * 1000;\n            if (elapsedMsec < duration * 1000) {\n              this.state = TimerState.RUNNING;\n\n              this.checkpointStartAt = cpStartAt;\n              this.checkpointElapsed = cpElapsed;\n\n              this.setExpireTimeout(this.remaining);\n              this.setTickInterval(this.tick);\n            } else {\n              this.stop();\n\n              this.estimateCompletedAt = new Date(\n                cpStartAt + (duration - cpElapsed) * 1000\n              );\n              this.restoreExpired = true;\n            }\n          }\n          break;\n        }\n      }\n    }\n  }\n}\n\nexport const timer = new Timer(60);\n","import { IDailyTotal } from \"./AppDb\";\nimport { TimerMode, TimerState } from \"./util/timer\";\nexport interface ICustomAttr {\n  id: number;\n  name: string;\n}\ninterface IPomodoroCounts {\n  [TimerMode.FOCUS]: number;\n  [TimerMode.SHORT]: number;\n  [TimerMode.LONG]: number;\n}\nexport interface IAuthToken {\n  auth_token: string;\n}\nexport interface IMilestone {\n  id: number;\n  name: string;\n  estimated_start: string;\n  estimated_finish: string;\n  slug: string;\n  project: number;\n  project_extra_info: IProjectExtraInfo;\n}\nexport interface IProjectExtraInfo {\n  id: number;\n  name: string;\n  slug: string;\n}\ninterface IStatusExtraInfo {\n  name: string;\n  is_closed: boolean;\n}\nexport interface IUserStoryExtraInfo {\n  id: number;\n  subject: string;\n  epics: any;\n  ref: number;\n}\nexport interface ITask {\n  id: number;\n  assigned_to: number | null;\n  created_date: string;\n  finished_date: string;\n  is_closed: boolean;\n  subject: string;\n  ref: number;\n  project: number;\n  project_extra_info: IProjectExtraInfo;\n  status: number;\n  status_extra_info: IStatusExtraInfo;\n  user_story: number;\n  user_story_extra_info: IUserStoryExtraInfo;\n  version: number;\n}\nexport interface ITasksByUserStory {\n  user_story: number;\n  user_story_extra_info: IUserStoryExtraInfo;\n  project_extra_info: IProjectExtraInfo;\n  tasks: ITask[];\n  is_closed: boolean;\n}\nexport interface ITaskStatus {\n  id: number;\n  color: string;\n  name: string;\n  order: number;\n  project: number;\n  is_closed: boolean;\n  slug: string;\n}\nexport interface IAttrValue {}\nexport interface ICustomValue {\n  attributes_values: {\n    [key: number]: string;\n  };\n  version: number;\n}\nexport interface IUser {\n  id: number;\n  username: string;\n  full_name: string;\n  full_name_display: string;\n  photo: string;\n}\nexport interface IProject {\n  id: number;\n  name: string;\n  members: IUser[];\n}\nexport type ICustomValueMap = WeakMap<ITask, ICustomValue>;\nexport interface IState {\n  token: string | null;\n  timer_id: string | null;\n  url: string;\n  auth_token: string;\n  auth_error: boolean;\n  username: string;\n  password: string;\n  user: IUser | null;\n  projects: IProject[];\n  pid: string; // url\n  project: IProject;\n  mid: string; // url\n  custom_eid: string; //  pid\n  custom_rid: string; // pid\n  custom_attrs: ICustomAttr[]; // pid\n  custom_attr_e: ICustomAttr;\n  custom_attr_r: ICustomAttr;\n  biz_days: string[]; //mid\n  milestones: IMilestone[]; // pid\n  milestone: IMilestone;\n  tasks: ITask[]; //mid\n  task_id: string;\n  task: ITask | null;\n  user_tasks: ITask[];\n  task_statuses: ITaskStatus[];\n  active_task_statuses: ITaskStatus[];\n  custom_value_map: ICustomValueMap; // pid\n  reject_task_status_ids: string[]; // pid\n  updated_time: number;\n  isOpen: boolean;\n  pomodoro_number: number;\n  pomodoro_date: string;\n  pomodoro_used_number: number;\n  loaded: boolean;\n  pomodoro_daily_totals: IDailyTotal[];\n  pomodoro_state: TimerState;\n  pomodoro_mode: TimerMode;\n  timelimit_close_task: string;\n  in_progress_task_status_id: string;\n  pomodoro_live_counts: IPomodoroCounts;\n}\n\nexport enum StorageKey {\n  URL = \"taiga_url\",\n  TIMER_ID = \"taiga_timer_id\",\n  PID = \"taiga_pid\",\n  MID = \"taiga_mid\",\n  TASK_ID = \"taiga_task_id\",\n  CUSTOM_EID = \"taiga_custom_eid\",\n  CUSTOM_RID = \"taiga_custom_rid\",\n  BIZ_DAYS = \"taiga_biz_days\",\n  REJECT_TASK_STATUS_IDS = \"reject_task_status_ids\",\n  USERNAME = \"taiga_username\",\n  PASSWORD = \"taiga_password\",\n  POMODORO_DATE = \"taiga_pomodoro_date\",\n  POMODORO_NUMBER = \"taiga_pomodoro_number\",\n  POMODORO_USED_NUMBER = \"taiga_pomodoro_used_number\",\n  TIMELIMIT_CLOSE_TASK = \"taiga_timelimit_close_task\"\n}\n\nconst _getFromStorage = (key: string) => localStorage.getItem(key) || \"\";\nexport const getFromStorage = (key: StorageKey) => _getFromStorage(key);\nexport const getFromStorageWithSubkey = (key: StorageKey, subkey: string) =>\n  subkey ? _getFromStorage(`${subkey}/${key}`) : \"\";\n\nexport const setToStorage = (key: string, item: string) => {\n  localStorage.setItem(key, item);\n};\nexport const setToStorageWithSubkey = (\n  key: StorageKey,\n  subkey: string,\n  item: string\n) => (subkey ? setToStorage(`${subkey}/${key}`, item) : null);\n\nexport const initialState: IState = {\n  token: null,\n  timer_id: null,\n  url: \"\",\n  auth_token: \"\",\n  auth_error: false,\n  username: \"\",\n  password: \"\",\n  user: null,\n  projects: [],\n  pid: \"\",\n  project: {} as IProject,\n  mid: \"\",\n  custom_eid: \"\",\n  custom_rid: \"\",\n  custom_attrs: [],\n  custom_attr_e: {} as ICustomAttr,\n  custom_attr_r: {} as ICustomAttr,\n  biz_days: [],\n  milestones: [],\n  milestone: {} as IMilestone,\n  tasks: [],\n  task_id: \"\",\n  task: null,\n  user_tasks: [],\n  task_statuses: [],\n  active_task_statuses: [],\n  custom_value_map: new WeakMap(),\n  reject_task_status_ids: [],\n  updated_time: 0,\n  isOpen: false,\n  pomodoro_date: \"\",\n  pomodoro_number: 0,\n  pomodoro_used_number: 0,\n  loaded: false,\n  pomodoro_daily_totals: [],\n  pomodoro_state: TimerState.STOPPED,\n  pomodoro_mode: TimerMode.FOCUS,\n  timelimit_close_task: \"\",\n  in_progress_task_status_id: \"\",\n  pomodoro_live_counts: {\n    [TimerMode.FOCUS]: 0,\n    [TimerMode.SHORT]: 0,\n    [TimerMode.LONG]: 0\n  }\n};\n","import _ from \"lodash\";\nimport { initialState, IProject, ICustomValueMap, IMilestone } from \"./store\";\nimport { ActionTypes, Actions } from \"./actions\";\nexport const reducer = (state = initialState, action: Actions) => {\n  switch (action.type) {\n    case ActionTypes.SET_TOKEN: {\n      const { token } = action.payload;\n      return { ...state, token };\n    }\n    case ActionTypes.SET_TIMER_ID: {\n      const { timer_id } = action.payload;\n      return { ...state, timer_id };\n    }\n    case ActionTypes.SET_URL: {\n      const { url } = action.payload;\n      return { ...state, url };\n    }\n    case ActionTypes.SET_PROJECTS: {\n      const { projects } = action.payload;\n      return {\n        ...state,\n        projects\n      };\n    }\n    case ActionTypes.SET_PID: {\n      const { pid } = action.payload;\n      return {\n        ...state,\n        pid,\n        project: {} as IProject,\n        mid: \"\",\n        biz_days: [],\n        custom_attrs: [],\n        milestones: [],\n        custom_value_map: new WeakMap() as ICustomValueMap\n      };\n    }\n    case ActionTypes.SET_PROJECT: {\n      const { project } = action.payload;\n      return {\n        ...state,\n        project\n      };\n    }\n    case ActionTypes.SET_MID: {\n      const { mid } = action.payload;\n      return {\n        ...state,\n        mid,\n        milestone: {} as IMilestone,\n        tasks: []\n      };\n    }\n    case ActionTypes.SET_MILESTONES: {\n      const { milestones } = action.payload;\n      return { ...state, milestones };\n    }\n    case ActionTypes.SET_MILESTONE: {\n      const { milestone } = action.payload;\n      return { ...state, milestone };\n    }\n    case ActionTypes.SET_CUSTOM_EID: {\n      const { custom_eid } = action.payload;\n      return { ...state, custom_eid };\n    }\n    case ActionTypes.SET_CUSTOM_ATTRS: {\n      const { custom_attrs } = action.payload;\n      return { ...state, custom_attrs };\n    }\n    case ActionTypes.SET_CUSTOM_ATTR_E: {\n      const { custom_attr_e } = action.payload;\n      return { ...state, custom_attr_e };\n    }\n    case ActionTypes.SET_CUSTOM_ATTR_R: {\n      const { custom_attr_r } = action.payload;\n      return { ...state, custom_attr_r };\n    }\n    case ActionTypes.SET_CUSTOM_RID: {\n      const { custom_rid } = action.payload;\n      return { ...state, custom_rid };\n    }\n    case ActionTypes.SET_BIZ_DAYS: {\n      const { biz_days } = action.payload;\n      return { ...state, biz_days };\n    }\n    case ActionTypes.ADD_BIZ_DAY: {\n      const { biz_day } = action.payload;\n      const biz_days = _.chain([...state.biz_days, biz_day])\n        .uniq()\n        .sort()\n        .value();\n      return { ...state, biz_days };\n    }\n    case ActionTypes.REMOVE_BIZ_DAY: {\n      const { biz_day } = action.payload;\n      const biz_days = _.reject([...state.biz_days], item => item === biz_day);\n      return { ...state, biz_days };\n    }\n    case ActionTypes.SET_TASKS: {\n      const { tasks } = action.payload;\n      return { ...state, tasks };\n    }\n    case ActionTypes.SET_TASK_ID: {\n      const { task_id } = action.payload;\n      return { ...state, task_id, task: null };\n    }\n    case ActionTypes.RESET_TASK_ID: {\n      return { ...state, task_id: \"\", task: null };\n    }\n    case ActionTypes.SET_TASK: {\n      const { task } = action.payload;\n      return { ...state, task };\n    }\n    case ActionTypes.SET_USER_TASKS: {\n      const { user_tasks } = action.payload;\n      return { ...state, user_tasks };\n    }\n    case ActionTypes.SET_TASK_STATUSES: {\n      const { task_statuses } = action.payload;\n      return { ...state, task_statuses };\n    }\n    case ActionTypes.SET_ACTIVE_TASK_STATUSES: {\n      const { active_task_statuses } = action.payload;\n      return { ...state, active_task_statuses };\n    }\n    case ActionTypes.SET_CUSTOM_VALUE_MAP: {\n      const { custom_value_map } = action.payload;\n      return { ...state, custom_value_map };\n    }\n    case ActionTypes.SET_USER: {\n      const { user } = action.payload;\n      return { ...state, user };\n    }\n    case ActionTypes.RESET_USER: {\n      return { ...state, user: null, user_tasks: [] };\n    }\n    case ActionTypes.SET_REJECT_TASK_STATUS_IDS: {\n      const { reject_task_status_ids } = action.payload;\n      return { ...state, reject_task_status_ids };\n    }\n    case ActionTypes.ADD_REJECT_TASK_STATUS_ID: {\n      const { reject_task_status_id } = action.payload;\n      const reject_task_status_ids = _.chain([\n        ...state.reject_task_status_ids,\n        reject_task_status_id\n      ])\n        .compact()\n        .uniq()\n        .value();\n      return { ...state, reject_task_status_ids };\n    }\n    case ActionTypes.REMOVE_REJECT_TASK_STATUS_ID: {\n      const { reject_task_status_id } = action.payload;\n      const reject_task_status_ids = _.reject(\n        [...state.reject_task_status_ids],\n        item => item === reject_task_status_id\n      );\n      return { ...state, reject_task_status_ids };\n    }\n    case ActionTypes.OPEN_CONTROLLER: {\n      return { ...state, isOpen: true };\n    }\n    case ActionTypes.CLOSE_CONTROLLER: {\n      return { ...state, isOpen: false };\n    }\n    case ActionTypes.UPDATE_DATA: {\n      return { ...state, updated_time: Date.now() };\n    }\n    case ActionTypes.SIGN_IN: {\n      const { username, password } = action.payload;\n      return { ...state, username, password, auth_error: false };\n    }\n    case ActionTypes.SET_AUTH_TOKEN: {\n      const { auth_token } = action.payload;\n      return { ...state, auth_token };\n    }\n    case ActionTypes.SET_AUTH_ERROR: {\n      return { ...state, auth_error: true };\n    }\n    case ActionTypes.SIGN_OUT: {\n      return { ...state, auth_token: \"\", username: \"\", password: \"\" };\n    }\n    case ActionTypes.ADD_POMODORO: {\n      const pomodoro_number = state.pomodoro_number + 1;\n      return {\n        ...state,\n        pomodoro_number\n      };\n    }\n    case ActionTypes.USE_POMODORO: {\n      const { used_number } = action.payload;\n      const pomodoro_used_number = Math.max(\n        0,\n        state.pomodoro_used_number + used_number\n      );\n      return {\n        ...state,\n        pomodoro_used_number\n      };\n    }\n    case ActionTypes.RESET_POMODORO: {\n      const { pomodoro_date } = action.payload;\n      return {\n        ...state,\n        pomodoro_number: 0,\n        pomodoro_used_number: 0,\n        pomodoro_date\n      };\n    }\n    case ActionTypes.RESTORE_POMODORO: {\n      const {\n        pomodoro_date,\n        pomodoro_number,\n        pomodoro_used_number\n      } = action.payload;\n      return {\n        ...state,\n        pomodoro_date,\n        pomodoro_number,\n        pomodoro_used_number\n      };\n    }\n    case ActionTypes.SET_POMODORO_TOTALS: {\n      const { pomodoro_daily_totals } = action.payload;\n      return {\n        ...state,\n        pomodoro_daily_totals\n      };\n    }\n    case ActionTypes.LOADED: {\n      return {\n        ...state,\n        loaded: true\n      };\n    }\n    case ActionTypes.SET_POMODORO_STATE: {\n      const { pomodoro_state } = action.payload;\n      return {\n        ...state,\n        pomodoro_state\n      };\n    }\n\n    case ActionTypes.SET_POMODORO_MODE: {\n      const { pomodoro_mode } = action.payload;\n      return {\n        ...state,\n        pomodoro_mode\n      };\n    }\n    case ActionTypes.SET_TIMELIMIT_CLOSE_TASK: {\n      const { timelimit_close_task } = action.payload;\n      return {\n        ...state,\n        timelimit_close_task\n      };\n    }\n    case ActionTypes.SET_IN_PROGRESS_TASK_STATUS_ID: {\n      const { task_status_id } = action.payload;\n      return {\n        ...state,\n        in_progress_task_status_id: task_status_id\n      };\n    }\n    case ActionTypes.SET_POMODORO_LIVE_COUNT: {\n      const { mode, value } = action.payload;\n      return {\n        ...state,\n        pomodoro_live_counts: {\n          ...state.pomodoro_live_counts,\n          [mode]: value\n        }\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n","import { Dispatch, useCallback, useMemo } from \"react\";\n\nexport type SideEffector<S, A> = (\n  action: A,\n  dispatch: Dispatch<A>,\n  state: () => S\n) => void;\nconst stateStoreFactory = <S>() => {\n  let state: S;\n  return {\n    getter: () => state,\n    setter: (newState: S) => {\n      state = newState;\n    }\n  };\n};\nexport const useSideEffector = <S, A>(\n  [state, dispatch]: [S, Dispatch<A>],\n  sideEffector: SideEffector<S, A>\n): [S, Dispatch<A>] => {\n  let dispatchSE: Dispatch<A> | null = null;\n\n  const dispatchSECaller = useCallback(\n    (action: A) => {\n      dispatchSE && dispatchSE(action);\n    },\n    [dispatchSE]\n  );\n  const stateStore = useMemo(() => stateStoreFactory<S>(), []);\n\n  stateStore.setter(state);\n  dispatchSE = useCallback(\n    dispatchSideEffector<S, A>(\n      stateStore.getter,\n      dispatch,\n      sideEffector,\n      dispatchSECaller\n    ),\n    []\n  );\n  return [state, dispatchSE];\n};\n\nconst dispatchSideEffector = <S, A>(\n  state: () => S,\n  dispatch: Dispatch<A>,\n  sideEffector: SideEffector<S, A>,\n  dispatchSECaller: Dispatch<A>\n) => (action: A) => {\n  dispatch(action);\n  sideEffector(action, dispatchSECaller, state);\n};\n","import { IProject } from \"../store\";\nimport { ISideEffector, fetchData, ActionTypes, errToastr } from \".\";\nexport const fetchProjecs: ISideEffector = async (action, dispatch, state) => {\n  try {\n    const { url } = state();\n    if (url) {\n      const { data: projects } = await fetchData<IProject[]>(url, \"projects\");\n      dispatch({ type: ActionTypes.SET_PROJECTS, payload: { projects } });\n    }\n  } catch (e) {\n    errToastr(e);\n  }\n};\n","import { IProject } from \"../store\";\nimport { ISideEffector, fetchData, ActionTypes, errToastr } from \".\";\nexport const fetchProject: ISideEffector = async (action, dispatch, state) => {\n  if (action.type === ActionTypes.FETCH_PROJECT) {\n    try {\n      const { url } = state();\n      const { pid } = action.payload;\n      if (url && pid) {\n        const { data: project } = await fetchData<IProject>(\n          url,\n          `projects/${pid}`\n        );\n        dispatch({\n          type: ActionTypes.SET_PROJECT,\n          payload: { project }\n        });\n      }\n    } catch (e) {\n      errToastr(e);\n    }\n  }\n};\n","import { IMilestone } from \"../store\";\nimport { ISideEffector, fetchData, ActionTypes, errToastr } from \".\";\nexport const fetchMilestones: ISideEffector = async (\n  action,\n  dispatch,\n  state\n) => {\n  if (action.type === ActionTypes.FETCH_MILESTONES) {\n    try {\n      const { url } = state();\n      const { project } = action.payload;\n      if (url && project) {\n        const { data: milestones } = await fetchData<IMilestone[]>(\n          url,\n          \"milestones\",\n          { params: { project } }\n        );\n        dispatch({ type: ActionTypes.SET_MILESTONES, payload: { milestones } });\n      }\n    } catch (e) {\n      errToastr(e);\n    }\n  }\n};\n","import { ITask } from \"../store\";\nimport { ISideEffector, fetchData, ActionTypes, errToastr } from \".\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nexport const fetchTasks: ISideEffector = async (action, dispatch, state) => {\n  if (action.type === ActionTypes.FETCH_TASKS) {\n    try {\n      const { url } = state();\n      const {\n        milestone,\n        reject_task_status_ids,\n        timelimit_close_task\n      } = action.payload;\n      if (url && milestone && timelimit_close_task) {\n        const startM = moment(timelimit_close_task);\n        const { data } = await fetchData<ITask[]>(url, \"tasks\", {\n          headers: { \"x-disable-pagination\": true },\n          params: { milestone }\n        });\n        const tasks = _.chain(data)\n          .reject(item =>\n            _.includes(reject_task_status_ids, String(item.status))\n          )\n          .reject(\n            item =>\n              item.is_closed && moment(item.finished_date).diff(startM) < 0\n          )\n          .value();\n\n        dispatch({ type: ActionTypes.SET_TASKS, payload: { tasks } });\n      }\n    } catch (e) {\n      errToastr(e);\n    }\n  }\n};\n","import { ITaskStatus } from \"../store\";\nimport { ISideEffector, fetchData, ActionTypes, errToastr } from \".\";\nexport const fetchTaskStatuses: ISideEffector = async (\n  action,\n  dispatch,\n  state\n) => {\n  if (action.type === ActionTypes.FETCH_TASK_STATUSES) {\n    try {\n      const { url } = state();\n      const { project } = action.payload;\n      if (url && project) {\n        const { data: task_statuses } = await fetchData<ITaskStatus[]>(\n          url,\n          \"task-statuses\",\n          { params: { project } }\n        );\n        dispatch({\n          type: ActionTypes.SET_TASK_STATUSES,\n          payload: { task_statuses }\n        });\n      }\n    } catch (e) {\n      errToastr(e);\n    }\n  }\n};\n","import { ICustomAttr } from \"../store\";\nimport { ISideEffector, fetchData, ActionTypes, errToastr } from \".\";\nexport const fetchCustomAttrs: ISideEffector = async (\n  action,\n  dispatch,\n  state\n) => {\n  if (action.type === ActionTypes.FETCH_CUSTOM_ATTRS) {\n    try {\n      const { url } = state();\n      const { project } = action.payload;\n      if (url && project) {\n        const { data: custom_attrs } = await fetchData<ICustomAttr[]>(\n          url,\n          \"task-custom-attributes\",\n          { params: { project } }\n        );\n        dispatch({\n          type: ActionTypes.SET_CUSTOM_ATTRS,\n          payload: { custom_attrs }\n        });\n      }\n    } catch (e) {\n      errToastr(e);\n    }\n  }\n};\n","import { ITask, ICustomValue } from \"../store\";\nimport { ISideEffector, fetchData, ActionTypes, errToastr } from \".\";\nexport const fetchCustomValueMap: ISideEffector = async (\n  action,\n  dispatch,\n  state\n) => {\n  if (action.type === ActionTypes.FETCH_CUSTOM_VALUE_MAP) {\n    try {\n      const { url, custom_eid, custom_rid } = state();\n      const { tasks } = action.payload;\n      if (url && tasks.length && custom_eid && custom_rid) {\n        const custom_value_map = new WeakMap(\n          await Promise.all(\n            tasks.map(async item => {\n              const { data: custom_attr_val } = await fetchData<ICustomValue>(\n                url,\n                `tasks/custom-attributes-values/${item.id}`\n              );\n              return [item, custom_attr_val] as [ITask, ICustomValue];\n            })\n          )\n        );\n        dispatch({\n          type: ActionTypes.SET_CUSTOM_VALUE_MAP,\n          payload: { custom_value_map }\n        });\n      }\n    } catch (e) {\n      errToastr(e);\n    }\n  }\n};\n","import { IUser } from \"../store\";\nimport { ISideEffector, fetchData, ActionTypes, errToastr } from \".\";\nexport const fetchUser: ISideEffector = async (action, dispatch, state) => {\n  if (action.type === ActionTypes.FETCH_USER) {\n    try {\n      const { url } = state();\n      const { uid } = action.payload;\n      if (url && uid) {\n        const { data: user } = await fetchData<IUser>(url, `users/${uid}`);\n        dispatch({\n          type: ActionTypes.SET_USER,\n          payload: { user }\n        });\n      }\n    } catch (e) {\n      errToastr(e);\n    }\n  }\n};\n","import React from \"react\";\nimport { toast } from \"react-toastify\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faInfoCircle,\n  faCheck,\n  faCheckCircle,\n  faExclamationTriangle\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { IconProp } from \"@fortawesome/fontawesome-svg-core\";\ninterface MessageWithIconProps {\n  icon: IconProp;\n  message: string;\n}\nconst MessageWithIcon: React.FC<MessageWithIconProps> = ({ icon, message }) => {\n  return (\n    <div className=\"d-flex\">\n      <h2 className=\"mr-2\">\n        <FontAwesomeIcon icon={icon} />\n      </h2>\n      <div>{message}</div>\n    </div>\n  );\n};\ninterface NotifyProps {\n  title: string;\n  body: string;\n  icon: string;\n}\nconst Notify: React.FC<NotifyProps> = ({ title, body, icon }) => {\n  return (\n    <div className=\"d-flex\">\n      <img src={icon} style={{ width: \"48px\", height: \"48px\" }} alt=\"\" />\n      <div className=\"ml-2\">\n        <h5>{title}</h5>\n        <p>{body}</p>\n      </div>\n    </div>\n  );\n};\nexport const toastr = {\n  info: (message: string) => {\n    toast.info(<MessageWithIcon icon={faInfoCircle} message={message} />);\n  },\n  success: (message: string) => {\n    toast.success(<MessageWithIcon icon={faCheck} message={message} />);\n  },\n  warn: (message: string) => {\n    toast.warn(\n      <MessageWithIcon icon={faExclamationTriangle} message={message} />\n    );\n  },\n  error: (message: string) => {\n    toast.error(<MessageWithIcon icon={faCheckCircle} message={message} />);\n  },\n  notify: ({ title, body, icon }: NotifyProps) => {\n    toast(<Notify title={title} body={body} icon={icon} />);\n  }\n};\n","import { ISideEffector, patchData, ActionTypes, errToastr } from \".\";\nimport { toastr } from \"../util/toastr\";\nexport const patchCustomValue: ISideEffector = async (\n  action,\n  dispatch,\n  state\n) => {\n  if (action.type === ActionTypes.PATCH_CUSTOM_VALUE) {\n    try {\n      const {\n        url,\n        custom_value_map,\n        tasks,\n        in_progress_task_status_id\n      } = state();\n      const { id, key, value, version } = action.payload;\n      const task = tasks.find(task => task.id === id);\n      if (url && id && key && task && custom_value_map.has(task)) {\n        const custom_value = custom_value_map.get(task);\n        if (custom_value) {\n          const { attributes_values } = custom_value;\n          await patchData(url, `tasks/custom-attributes-values/${id}`, {\n            attributes_values: {\n              ...attributes_values,\n              [key]: String(value)\n            },\n            version\n          });\n          if (\n            action.meta &&\n            action.meta.update_status &&\n            value > 0 &&\n            in_progress_task_status_id &&\n            !task.is_closed &&\n            task.status !== Number(in_progress_task_status_id)\n          ) {\n            dispatch({\n              type: ActionTypes.PATCH_TASK,\n              payload: {\n                key: \"status\",\n                value: in_progress_task_status_id,\n                id: task.id\n              }\n            });\n          }\n          if (action.meta && action.meta.use_pomodoro) {\n            const { used_number } = action.meta.use_pomodoro;\n            dispatch({\n              type: ActionTypes.USE_POMODORO,\n              payload: { used_number }\n            });\n          }\n          dispatch({ type: ActionTypes.UPDATE_DATA });\n          toastr.success(`Custom value updated. [${value}]`);\n        }\n      }\n    } catch (e) {\n      errToastr(e);\n    }\n  }\n};\n","import { ActionTypes, ISideEffector, patchData, errToastr } from \".\";\nimport { toastr } from \"../util/toastr\";\nexport const patchTask: ISideEffector = async (action, dispatch, state) => {\n  if (action.type === ActionTypes.PATCH_TASK) {\n    try {\n      const { url, tasks } = state();\n      const { id, key, value } = action.payload;\n      const task = tasks.find(task => task.id === id);\n      if (url && id && key && task) {\n        await patchData(url, `tasks/${id}`, {\n          [key]: value,\n          version: task.version\n        });\n        dispatch({ type: ActionTypes.UPDATE_DATA });\n        toastr.success(`Task updated. [${key}=${value}]`);\n      }\n    } catch (e) {\n      errToastr(e);\n    }\n  }\n};\n","import { IAuthToken, StorageKey, setToStorage } from \"../store\";\nimport { ISideEffector, postData, ActionTypes, errToastr } from \".\";\nimport { toastr } from \"../util/toastr\";\nimport _ from \"lodash\";\nexport const signIn: ISideEffector = async (action, dispatch, state) => {\n  if (action.type === ActionTypes.SIGN_IN) {\n    try {\n      const { url } = state();\n      const { username, password } = action.payload;\n      if (url && username && password) {\n        const {\n          data: { auth_token }\n        } = await postData<IAuthToken>(url, \"auth\", {\n          username,\n          password,\n          type: \"normal\"\n        });\n        dispatch({ type: ActionTypes.SET_AUTH_TOKEN, payload: { auth_token } });\n        setToStorage(StorageKey.USERNAME, username);\n        setToStorage(StorageKey.PASSWORD, password);\n        toastr.success(`${username} signed in.`);\n      }\n    } catch (e) {\n      dispatch({ type: ActionTypes.SET_AUTH_ERROR });\n      if (_.get(e, \"response.data._err_message\")) {\n        dispatch({ type: ActionTypes.SIGN_OUT });\n      }\n      errToastr(e);\n    }\n  }\n};\n","import { StorageKey, setToStorage } from \"../store\";\nimport { ISideEffector } from \".\";\nimport _ from \"lodash\";\nexport const syncPomodoro: ISideEffector = (action, dispatchm, state) => {\n  _.defer(() => {\n    const { pomodoro_date, pomodoro_number, pomodoro_used_number } = state();\n    setToStorage(StorageKey.POMODORO_DATE, pomodoro_date);\n    setToStorage(StorageKey.POMODORO_NUMBER, String(pomodoro_number));\n    setToStorage(StorageKey.POMODORO_USED_NUMBER, String(pomodoro_used_number));\n  });\n};\n","import Dexie from \"dexie\";\nexport interface IPomodoroHistory {\n  id?: number;\n  completedAt: Date;\n  duration: number;\n  pure: boolean;\n  dateKey: string;\n}\nexport interface IDailyTotal {\n  id?: number;\n  date: Date;\n  value: number;\n  pureValue: number;\n  dateKey: string;\n  dayOfWeek: number;\n}\nexport class AppDatabase extends Dexie {\n  items: Dexie.Table<IPomodoroHistory, number>;\n  totals: Dexie.Table<IDailyTotal, number>;\n  constructor() {\n    super(\"TaigaPomodoroDatabase\");\n    this.version(1).stores({\n      items: \"++id, completedAt, duration, pure, dateKey\",\n      totals: \"++id, date, value, pureValue, &dateKey, dayOfWeek\"\n    });\n    this.items = this.table(\"items\");\n    this.totals = this.table(\"totals\");\n  }\n}\nexport const db = new AppDatabase();\n","import moment from \"moment\";\nimport _ from \"lodash\";\nimport { db } from \"../AppDb\";\nimport { ISideEffector, ActionTypes, fetchData } from \".\";\nimport { ICustomValue } from \"../store\";\nexport const addPomodoro: ISideEffector = async (action, dispatch, state) => {\n  if (action.type === ActionTypes.ADD_POMODORO && action.meta) {\n    const { url, task_id, custom_rid } = state();\n    const { completedAt, duration, pure } = action.meta;\n    const dateKey = moment(completedAt).format(\"YYYY-MM-DD\");\n    await db.items.put({ completedAt, duration, pure, dateKey });\n    dispatch({ type: ActionTypes.CALC_POMODORO_TOTAL, payload: { dateKey } });\n    if (task_id && custom_rid) {\n      const { data: custom_attr_val } = await fetchData<ICustomValue>(\n        url,\n        `tasks/custom-attributes-values/${task_id}`\n      );\n      const value =\n        Number(_.get(custom_attr_val, `attributes_values.${custom_rid}`, \"0\")) +\n        0.5;\n      const { version } = custom_attr_val;\n      if (custom_attr_val && version) {\n        dispatch({\n          type: ActionTypes.PATCH_CUSTOM_VALUE,\n          payload: {\n            id: Number(task_id),\n            key: custom_rid,\n            value,\n            version\n          },\n          meta: { use_pomodoro: { used_number: 1 }, update_status: true }\n        });\n      }\n    }\n  }\n};\n","import moment from \"moment\";\nimport _ from \"lodash\";\nimport { db } from \"../AppDb\";\nimport { ISideEffector, ActionTypes } from \".\";\nexport const calcPomodoroTotal: ISideEffector = async (\n  action,\n  dispatch,\n  state\n) => {\n  if (action.type === ActionTypes.CALC_POMODORO_TOTAL) {\n    const query = action.payload;\n    const totalDoc = await db.totals.get(query);\n    const values = await db.items.where(query).toArray();\n    const value = values.length;\n    const pureValue = _.filter(values, { pure: true }).length;\n    const dayOfWeek = moment(query.dateKey, \"YYYY-MM-DD\").day();\n    const date = moment(query.dateKey, \"YYYY-MM-DD\").toDate();\n    db.totals.put({ ...totalDoc, ...query, date, value, pureValue, dayOfWeek });\n    dispatch({ type: ActionTypes.LOAD_POMODORO_TOTALS });\n  }\n};\n","import { db } from \"../AppDb\";\nimport { ISideEffector, ActionTypes } from \".\";\nexport const loadPomodoroTotals: ISideEffector = async (\n  action,\n  dispatch,\n  state\n) => {\n  const pomodoro_daily_totals = await db.totals.toArray();\n  dispatch({\n    type: ActionTypes.SET_POMODORO_TOTALS,\n    payload: { pomodoro_daily_totals }\n  });\n};\n","import dotenv from \"dotenv\";\nimport _ from \"lodash\";\nimport firebase from \"firebase/app\";\nimport \"firebase/messaging\";\nimport \"firebase/firestore\";\nimport { TimerMode } from \"./timer\";\ndotenv.config();\nconst {\n  REACT_APP_apiKey: apiKey,\n  REACT_APP_VapidKey: VapidKey,\n  REACT_APP_authDomain: authDomain,\n  REACT_APP_databaseURL: databaseURL,\n  REACT_APP_projectId: projectId,\n  REACT_APP_storageBucket: storageBucket,\n  REACT_APP_messagingSenderId: messagingSenderId,\n  REACT_APP_appId: appId\n} = process.env;\nconst firebaseConfig = {\n  apiKey,\n  authDomain,\n  databaseURL,\n  projectId,\n  storageBucket,\n  messagingSenderId,\n  appId\n};\nfirebase.initializeApp(firebaseConfig);\nexport const messaging = firebase.messaging();\nlet token: string | null = null;\nnavigator.serviceWorker\n  .register(\"./firebase-messaging-sw.js\")\n  .then(registration => {\n    if (!_.get(messaging, \"registrationToUse\")) {\n      messaging.useServiceWorker(registration);\n    }\n    messaging.usePublicVapidKey(VapidKey || \"\");\n    messaging.onTokenRefresh(async () => {\n      token = await messaging.getToken();\n    });\n    messaging.getToken().then(val => {\n      token = val;\n    });\n  });\nconst db = firebase.firestore();\nexport const Timers = db.collection(\"timers\");\nexport const getToken = () => token;\n\nmessaging\n  .requestPermission()\n  .then(function() {\n    console.log(\"Notification permission granted.\");\n  })\n  .catch(function(err) {\n    console.log(\"Unable to get permission to notify.\", err);\n  });\n\nexport const addTimer = async (\n  title: string,\n  body: string,\n  remaining: number,\n  token: string,\n  mode: TimerMode\n) => {\n  const { id } = await Timers.add({\n    title,\n    body,\n    remaining,\n    token,\n    icon: \"./tomato.png\",\n    click_action: window.location.href,\n    mode\n  });\n  return id;\n};\nexport const delTimer = (id: string) => {\n  Timers.doc(id).delete();\n};\n","import { addTimer } from \"../util/firebase\";\nimport { ISideEffector, ActionTypes } from \".\";\nexport const addFBTimer: ISideEffector = async (action, dispatch, state) => {\n  if (action.type === ActionTypes.ADD_FB_TIMER) {\n    const { token, pomodoro_mode } = state();\n    const { title, body, remaining } = action.payload;\n    if (token) {\n      const timer_id = await addTimer(\n        title,\n        body,\n        remaining,\n        token,\n        pomodoro_mode\n      );\n      dispatch({ type: ActionTypes.SET_TIMER_ID, payload: { timer_id } });\n    }\n  }\n};\n","import { delTimer } from \"../util/firebase\";\nimport { ISideEffector, ActionTypes } from \".\";\nexport const delFBTimer: ISideEffector = (action, dispatch, state) => {\n  if (action.type === ActionTypes.DEL_FB_TIMER) {\n    const { timer_id } = state();\n    if (timer_id) {\n      delTimer(timer_id);\n      dispatch({ type: ActionTypes.SET_TIMER_ID, payload: { timer_id: null } });\n    }\n  }\n};\n","import { Dispatch } from \"react\";\nimport { Actions, ActionTypes } from \"../actions\";\nimport { IState } from \"../store\";\nimport { baseUrl } from \"../Provider\";\nimport { fetchProjecs } from \"./fetchProjects\";\nimport { fetchProject } from \"./fetchProject\";\nimport { fetchMilestones } from \"./fetchMilestones\";\nimport { fetchTasks } from \"./fetchTasks\";\nimport { fetchTaskStatuses } from \"./fetchTaskStatuses\";\nimport { fetchCustomAttrs } from \"./fetchCustomAttrs\";\nimport { fetchCustomValueMap } from \"./fetchCustomValueMap\";\nimport { fetchUser } from \"./fetchUser\";\nimport { patchCustomValue } from \"./patchCustomValue\";\nimport { patchTask } from \"./patchTask\";\nimport { signIn } from \"./signIn\";\nimport { signOut } from \"./signOut\";\nimport { setAuthToken } from \"./setAuthToken\";\nimport { setUrl } from \"./setUrl\";\nimport { setPid } from \"./setPid\";\nimport { setMid } from \"./setMid\";\nimport { setCustomEid } from \"./setCustomEid\";\nimport { setCustomRid } from \"./setCustomRid\";\nimport { syncBizDays } from \"./syncBizDays\";\nimport { syncRejectTaskStatusIds } from \"./syncRejectTaskStatusIds\";\nimport { syncPomodoro } from \"./syncPomodoro\";\nimport { addPomodoro } from \"./addPomodoro\";\nimport { calcPomodoroTotal } from \"./calcPomodoroTotal\";\nimport { loadPomodoroTotals } from \"./loadPomodoroTotals\";\nimport { syncTaskId } from \"./syncTaskId\";\nimport { setTimelineCloseTask } from \"./setTimelineCloseTask\";\nimport { addFBTimer } from \"./addFBTimer\";\nimport { delFBTimer } from \"./dellFBTimer\";\nimport { setTimerId } from \"./setTimerId\";\nimport axios, { AxiosRequestConfig, AxiosError } from \"axios\";\nimport { toastr } from \"../util/toastr\";\nexport { ActionTypes };\nexport type ISideEffector = (\n  action: Actions,\n  dispatch: Dispatch<Actions>,\n  state: () => IState\n) => void;\nexport const fetchData = <T>(\n  url: string,\n  path: string,\n  config?: AxiosRequestConfig\n) => axios.get<T>(`${baseUrl(url)}/${path}`, config);\nexport const postData = <T>(\n  url: string,\n  path: string,\n  data: object,\n  config?: AxiosRequestConfig\n) => axios.post<T>(`${baseUrl(url)}/${path}`, data, config);\nexport const patchData = (\n  url: string,\n  path: string,\n  data: object,\n  config?: AxiosRequestConfig\n) => axios.patch(`${baseUrl(url)}/${path}`, data, config);\nexport const errToastr = (err: AxiosError) => {\n  let message: string;\n  try {\n    message = err.response ? err.response.data._error_message : \"error\";\n  } catch (e) {\n    message = e.message || e;\n  }\n  toastr.error(message);\n};\nexport const rootSideEffector = (\n  action: Actions,\n  dispatch: Dispatch<Actions>,\n  state: () => IState\n) => {\n  switch (action.type) {\n    case ActionTypes.FETCH_PROJECTS: {\n      fetchProjecs(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.FETCH_PROJECT: {\n      fetchProject(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.FETCH_MILESTONES: {\n      fetchMilestones(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.FETCH_TASKS: {\n      fetchTasks(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.FETCH_TASK_STATUSES: {\n      fetchTaskStatuses(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.FETCH_CUSTOM_ATTRS: {\n      fetchCustomAttrs(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.FETCH_CUSTOM_VALUE_MAP: {\n      fetchCustomValueMap(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.FETCH_USER: {\n      fetchUser(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.PATCH_CUSTOM_VALUE: {\n      patchCustomValue(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.SIGN_IN: {\n      signIn(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.PATCH_TASK: {\n      patchTask(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.SIGN_OUT: {\n      signOut(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.SET_AUTH_TOKEN: {\n      setAuthToken(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.SET_URL: {\n      setUrl(action, dispatch, state);\n      return;\n    }\n    case ActionTypes.SET_PID: {\n      setPid(action, dispatch, state);\n      break;\n    }\n    case ActionTypes.SET_MID: {\n      setMid(action, dispatch, state);\n      break;\n    }\n    case ActionTypes.SET_CUSTOM_EID: {\n      setCustomEid(action, dispatch, state);\n      break;\n    }\n    case ActionTypes.SET_CUSTOM_RID: {\n      setCustomRid(action, dispatch, state);\n      break;\n    }\n    case ActionTypes.SET_BIZ_DAYS:\n    case ActionTypes.ADD_BIZ_DAY:\n    case ActionTypes.REMOVE_BIZ_DAY: {\n      syncBizDays(action, dispatch, state);\n      break;\n    }\n    case ActionTypes.ADD_REJECT_TASK_STATUS_ID:\n    case ActionTypes.REMOVE_REJECT_TASK_STATUS_ID: {\n      syncRejectTaskStatusIds(action, dispatch, state);\n      break;\n    }\n    case ActionTypes.ADD_POMODORO: {\n      addPomodoro(action, dispatch, state);\n      syncPomodoro(action, dispatch, state);\n      break;\n    }\n    case ActionTypes.USE_POMODORO:\n    case ActionTypes.RESET_POMODORO: {\n      syncPomodoro(action, dispatch, state);\n      break;\n    }\n    case ActionTypes.CALC_POMODORO_TOTAL: {\n      calcPomodoroTotal(action, dispatch, state);\n      break;\n    }\n    case ActionTypes.LOAD_POMODORO_TOTALS: {\n      loadPomodoroTotals(action, dispatch, state);\n      break;\n    }\n    case ActionTypes.SET_TASK_ID:\n    case ActionTypes.RESET_TASK_ID: {\n      syncTaskId(action, dispatch, state);\n      break;\n    }\n    case ActionTypes.SET_TIMELIMIT_CLOSE_TASK: {\n      setTimelineCloseTask(action, dispatch, state);\n      break;\n    }\n    case ActionTypes.ADD_FB_TIMER: {\n      addFBTimer(action, dispatch, state);\n      break;\n    }\n    case ActionTypes.DEL_FB_TIMER: {\n      delFBTimer(action, dispatch, state);\n      break;\n    }\n    case ActionTypes.SET_TIMER_ID: {\n      setTimerId(action, dispatch, state);\n      break;\n    }\n    default: {\n    }\n  }\n};\n","import { StorageKey } from \"../store\";\nimport { ISideEffector } from \".\";\nimport axios from \"axios\";\nexport const signOut: ISideEffector = (action, dispatch, state) => {\n  localStorage.removeItem(StorageKey.USERNAME);\n  localStorage.removeItem(StorageKey.PASSWORD);\n  if (axios.defaults.headers.common[\"Authorization\"]) {\n    delete axios.defaults.headers.common[\"Authorization\"];\n  }\n};\n","import { ISideEffector, ActionTypes } from \".\";\nimport axios from \"axios\";\nexport const setAuthToken: ISideEffector = (action, dispatch, state) => {\n  if (action.type === ActionTypes.SET_AUTH_TOKEN) {\n    const { auth_token } = action.payload;\n    axios.defaults.headers.common[\"Authorization\"] = `Bearer ${auth_token}`;\n  }\n};\n","import { StorageKey, setToStorage } from \"../store\";\nimport { ISideEffector, ActionTypes } from \".\";\nexport const setUrl: ISideEffector = (action, dispatch, state) => {\n  if (action.type === ActionTypes.SET_URL) {\n    const { url } = action.payload;\n    setToStorage(StorageKey.URL, url);\n  }\n};\n","import { StorageKey, setToStorage, getFromStorageWithSubkey } from \"../store\";\nimport { ISideEffector, ActionTypes } from \".\";\nexport const setPid: ISideEffector = (action, dispatch, state) => {\n  if (action.type === ActionTypes.SET_PID) {\n    const { pid } = action.payload;\n    setToStorage(StorageKey.PID, pid);\n    localStorage.removeItem(StorageKey.MID);\n    const custom_eid = getFromStorageWithSubkey(StorageKey.CUSTOM_EID, pid);\n    const custom_rid = getFromStorageWithSubkey(StorageKey.CUSTOM_RID, pid);\n    dispatch({ type: ActionTypes.SET_CUSTOM_EID, payload: { custom_eid } });\n    dispatch({ type: ActionTypes.SET_CUSTOM_RID, payload: { custom_rid } });\n  }\n};\n","import { StorageKey, setToStorage, getFromStorageWithSubkey } from \"../store\";\nimport { ISideEffector, ActionTypes } from \".\";\nimport _ from \"lodash\";\nexport const setMid: ISideEffector = (action, dispatch, state) => {\n  if (action.type === ActionTypes.SET_MID) {\n    const { mid } = action.payload;\n    const beforeMid = state().mid;\n    setToStorage(StorageKey.MID, mid);\n    const biz_days = _.compact(\n      getFromStorageWithSubkey(StorageKey.BIZ_DAYS, mid).split(\",\")\n    ).sort();\n    dispatch({ type: ActionTypes.SET_BIZ_DAYS, payload: { biz_days } });\n    if (beforeMid && mid !== beforeMid) {\n      dispatch({ type: ActionTypes.RESET_TASK_ID });\n    }\n    const timelimit_close_task = getFromStorageWithSubkey(\n      StorageKey.TIMELIMIT_CLOSE_TASK,\n      mid\n    );\n    dispatch({\n      type: ActionTypes.SET_TIMELIMIT_CLOSE_TASK,\n      payload: { timelimit_close_task }\n    });\n  }\n};\n","import { StorageKey, setToStorageWithSubkey, getFromStorage } from \"../store\";\nimport { ISideEffector, ActionTypes } from \".\";\nexport const setCustomEid: ISideEffector = (action, dispatch, state) => {\n  if (action.type === ActionTypes.SET_CUSTOM_EID) {\n    const { custom_eid } = action.payload;\n    const pid = getFromStorage(StorageKey.PID);\n    setToStorageWithSubkey(StorageKey.CUSTOM_EID, pid, custom_eid);\n  }\n};\n","import { StorageKey, setToStorageWithSubkey, getFromStorage } from \"../store\";\nimport { ISideEffector, ActionTypes } from \".\";\nexport const setCustomRid: ISideEffector = (action, dispatch, state) => {\n  if (action.type === ActionTypes.SET_CUSTOM_RID) {\n    const { custom_rid } = action.payload;\n    const pid = getFromStorage(StorageKey.PID);\n    setToStorageWithSubkey(StorageKey.CUSTOM_RID, pid, custom_rid);\n  }\n};\n","import { StorageKey, setToStorageWithSubkey } from \"../store\";\nimport { ISideEffector } from \".\";\nimport _ from \"lodash\";\nexport const syncBizDays: ISideEffector = (action, dispathc, state) => {\n  _.defer(() => {\n    const { mid, biz_days } = state();\n    setToStorageWithSubkey(StorageKey.BIZ_DAYS, mid, biz_days.join(\",\"));\n  });\n};\n","import { StorageKey, setToStorageWithSubkey } from \"../store\";\nimport { ISideEffector } from \".\";\nimport _ from \"lodash\";\nexport const syncRejectTaskStatusIds: ISideEffector = (\n  action,\n  dispatch,\n  state\n) => {\n  _.defer(() => {\n    const { pid, reject_task_status_ids } = state();\n    setToStorageWithSubkey(\n      StorageKey.REJECT_TASK_STATUS_IDS,\n      pid,\n      reject_task_status_ids.join(\",\")\n    );\n  });\n};\n","import { StorageKey, setToStorage } from \"../store\";\nimport { ISideEffector } from \".\";\nimport _ from \"lodash\";\nexport const syncTaskId: ISideEffector = (action, dispatch, state) => {\n  _.defer(() => {\n    const { task_id } = state();\n    if (task_id) {\n      setToStorage(StorageKey.TASK_ID, task_id);\n    } else {\n      localStorage.removeItem(StorageKey.TASK_ID);\n    }\n  });\n};\n","import { StorageKey, setToStorageWithSubkey } from \"../store\";\nimport { ISideEffector, ActionTypes } from \".\";\nexport const setTimelineCloseTask: ISideEffector = (\n  action,\n  dispatch,\n  state\n) => {\n  if (action.type === ActionTypes.SET_TIMELIMIT_CLOSE_TASK) {\n    const { timelimit_close_task } = action.payload;\n    const customize = action.meta ? action.meta.customize : false;\n    const { mid } = state();\n    timelimit_close_task &&\n      customize &&\n      setToStorageWithSubkey(\n        StorageKey.TIMELIMIT_CLOSE_TASK,\n        mid,\n        timelimit_close_task\n      );\n  }\n};\n","import { StorageKey, setToStorage } from \"../store\";\nimport { ISideEffector, ActionTypes } from \".\";\nexport const setTimerId: ISideEffector = (action, dispatch, state) => {\n  if (action.type === ActionTypes.SET_TIMER_ID) {\n    const { timer_id } = action.payload;\n    if (timer_id) {\n      setToStorage(StorageKey.TIMER_ID, timer_id);\n    } else {\n      localStorage.removeItem(StorageKey.TIMER_ID);\n    }\n  }\n};\n","import { Dispatch } from \"react\";\nimport { Actions, ActionTypes } from \"./actions\";\nimport { getFromStorage, getFromStorageWithSubkey, StorageKey } from \"./store\";\nimport _ from \"lodash\";\nconst signIn = (dispatch: Dispatch<Actions>) => {\n  const username = getFromStorage(StorageKey.USERNAME);\n  const password = getFromStorage(StorageKey.PASSWORD);\n  dispatch({ type: ActionTypes.SIGN_IN, payload: { username, password } });\n};\nconst syncStorage = (dispatch: Dispatch<Actions>) => {\n  const url = getFromStorage(StorageKey.URL);\n  const timer_id = getFromStorage(StorageKey.TIMER_ID);\n  const pid = getFromStorage(StorageKey.PID);\n  const mid = getFromStorage(StorageKey.MID);\n  const custom_eid = getFromStorageWithSubkey(StorageKey.CUSTOM_EID, pid);\n  const custom_rid = getFromStorageWithSubkey(StorageKey.CUSTOM_RID, pid);\n  const biz_days = _.compact(\n    getFromStorageWithSubkey(StorageKey.BIZ_DAYS, mid).split(\",\")\n  ).sort();\n  const reject_task_status_ids = _.compact(\n    getFromStorageWithSubkey(StorageKey.REJECT_TASK_STATUS_IDS, pid).split(\",\")\n  );\n\n  const isOpen = !(url && pid && mid && custom_eid && custom_rid);\n\n  const pomodoro_date = getFromStorage(StorageKey.POMODORO_DATE);\n  const pomodoro_number = Number(\n    getFromStorage(StorageKey.POMODORO_NUMBER) || \"0\"\n  );\n  const pomodoro_used_number = Number(\n    getFromStorage(StorageKey.POMODORO_USED_NUMBER) || \"0\"\n  );\n  const task_id = getFromStorage(StorageKey.TASK_ID);\n  timer_id &&\n    dispatch({ type: ActionTypes.SET_TIMER_ID, payload: { timer_id } });\n  url && dispatch({ type: ActionTypes.SET_URL, payload: { url } });\n  pid && dispatch({ type: ActionTypes.SET_PID, payload: { pid } });\n  mid && dispatch({ type: ActionTypes.SET_MID, payload: { mid } });\n  custom_eid &&\n    dispatch({ type: ActionTypes.SET_CUSTOM_EID, payload: { custom_eid } });\n  custom_rid &&\n    dispatch({ type: ActionTypes.SET_CUSTOM_RID, payload: { custom_rid } });\n  biz_days.length &&\n    dispatch({ type: ActionTypes.SET_BIZ_DAYS, payload: { biz_days } });\n  reject_task_status_ids.length &&\n    dispatch({\n      type: ActionTypes.SET_REJECT_TASK_STATUS_IDS,\n      payload: { reject_task_status_ids }\n    });\n\n  task_id && dispatch({ type: ActionTypes.SET_TASK_ID, payload: { task_id } });\n  isOpen && dispatch({ type: ActionTypes.OPEN_CONTROLLER });\n  pomodoro_date &&\n    dispatch({\n      type: ActionTypes.RESTORE_POMODORO,\n      payload: { pomodoro_date, pomodoro_number, pomodoro_used_number }\n    });\n  dispatch({ type: ActionTypes.LOADED });\n  dispatch({ type: ActionTypes.LOAD_POMODORO_TOTALS });\n};\nexport const init = (dispatch: Dispatch<Actions>) => {\n  syncStorage(dispatch);\n  _.defer(() => {\n    signIn(dispatch);\n  });\n};\n","import React, { createContext, useReducer, useEffect } from \"react\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport { ActionTypes } from \"./actions\";\nimport { initialState, ICustomAttr, IMilestone, ITask } from \"./store\";\nimport { reducer } from \"./reducer\";\nimport { Actions } from \"./actions\";\nimport { useSideEffector } from \"./util/useSideEffector\";\nimport { rootSideEffector } from \"./sideEffectors\";\nimport { init } from \"./init\";\nimport { messaging, Timers } from \"./util/firebase\";\nimport { TimerMode } from \"./util/timer\";\nexport const baseUrl = (url: string) => `${url.replace(/[/]$/, \"\")}/api/v1`;\nconst getCustomAttr = (items: ICustomAttr[], id: number) =>\n  _.find(items, { id });\nconst getMilestone = (items: IMilestone[], mid: string) =>\n  items.find(item => String(item.id) === mid);\nconst getUserTasks = (items: ITask[], uid: number) =>\n  _.chain(items)\n    .filter({ assigned_to: uid })\n    .sortBy(\"user_story\")\n    .value();\n\nexport const RootContext = createContext({\n  state: initialState,\n  dispatch: (action: Actions) => {}\n});\nexport const Provider = ({ children }: { children: React.ReactNode }) => {\n  const [state, dispatch] = useSideEffector(\n    useReducer(reducer, initialState),\n    rootSideEffector\n  );\n  const value = {\n    state,\n    dispatch\n  };\n\n  useEffect(() => {\n    if (state.url) {\n      dispatch({ type: ActionTypes.FETCH_PROJECTS });\n    }\n  }, [dispatch, state.url]);\n  useEffect(() => {\n    if (state.url && state.pid) {\n      dispatch({\n        type: ActionTypes.FETCH_MILESTONES,\n        payload: { project: state.pid }\n      });\n      dispatch({\n        type: ActionTypes.FETCH_CUSTOM_ATTRS,\n        payload: { project: state.pid }\n      });\n      dispatch({\n        type: ActionTypes.FETCH_TASK_STATUSES,\n        payload: { project: state.pid }\n      });\n      dispatch({\n        type: ActionTypes.FETCH_PROJECT,\n        payload: { pid: state.pid }\n      });\n    }\n  }, [state.url, state.pid, dispatch]);\n  useEffect(() => {\n    if (\n      state.url &&\n      state.mid &&\n      state.milestone.id &&\n      state.timelimit_close_task\n    ) {\n      dispatch({\n        type: ActionTypes.FETCH_TASKS,\n        payload: {\n          milestone: state.mid,\n          reject_task_status_ids: state.reject_task_status_ids,\n          timelimit_close_task: state.timelimit_close_task\n        }\n      });\n    }\n  }, [\n    state.url,\n    state.mid,\n    state.updated_time,\n    state.reject_task_status_ids,\n    dispatch,\n    state.milestone.id,\n    state.timelimit_close_task\n  ]);\n  useEffect(() => {\n    dispatch({\n      type: ActionTypes.FETCH_CUSTOM_VALUE_MAP,\n      payload: {\n        tasks: state.tasks\n      }\n    });\n  }, [dispatch, state.tasks, state.custom_eid, state.custom_rid]);\n  useEffect(() => {\n    const active_task_statuses = _.chain(state.task_statuses)\n      .reject(item => _.includes(state.reject_task_status_ids, String(item.id)))\n      .orderBy(item => item.order)\n      .value();\n    dispatch({\n      type: ActionTypes.SET_ACTIVE_TASK_STATUSES,\n      payload: { active_task_statuses }\n    });\n  }, [state.task_statuses, state.reject_task_status_ids, dispatch]);\n  useEffect(() => {\n    const custom_attr_e = getCustomAttr(\n      state.custom_attrs,\n      Number(state.custom_eid)\n    );\n    if (custom_attr_e) {\n      dispatch({\n        type: ActionTypes.SET_CUSTOM_ATTR_E,\n        payload: { custom_attr_e }\n      });\n    }\n  }, [dispatch, state.custom_attrs, state.custom_eid]);\n  useEffect(() => {\n    const custom_attr_r = getCustomAttr(\n      state.custom_attrs,\n      Number(state.custom_rid)\n    );\n    if (custom_attr_r) {\n      dispatch({\n        type: ActionTypes.SET_CUSTOM_ATTR_R,\n        payload: { custom_attr_r }\n      });\n    }\n  }, [dispatch, state.custom_attrs, state.custom_rid]);\n  useEffect(() => {\n    const milestone = getMilestone(state.milestones, state.mid);\n    if (milestone) {\n      dispatch({\n        type: ActionTypes.SET_MILESTONE,\n        payload: { milestone }\n      });\n    }\n  }, [dispatch, state.mid, state.milestones]);\n  useEffect(() => {\n    if (state.tasks.length > 0 && state.user) {\n      const user_tasks = getUserTasks(state.tasks, state.user.id);\n      dispatch({ type: ActionTypes.SET_USER_TASKS, payload: { user_tasks } });\n    }\n  }, [dispatch, state.tasks, state.user]);\n\n  useEffect(() => {\n    init(dispatch);\n  }, [dispatch]);\n  useEffect(() => {\n    if (state.task_id) {\n      const task = state.tasks.find(item => item.id === Number(state.task_id));\n      if (task) {\n        dispatch({ type: ActionTypes.SET_TASK, payload: { task } });\n      }\n    }\n  }, [dispatch, state.task_id, state.tasks]);\n  useEffect(() => {\n    const firstDay = state.biz_days[0];\n    if (firstDay && !state.timelimit_close_task) {\n      const timelimit_close_task = `${moment(firstDay)\n        .local()\n        .startOf(\"day\")\n        .format(\"YYYY-MM-DD\")}T12:00`;\n      dispatch({\n        type: ActionTypes.SET_TIMELIMIT_CLOSE_TASK,\n        payload: { timelimit_close_task }\n      });\n    }\n  }, [dispatch, state.biz_days, state.milestone, state.timelimit_close_task]);\n  useEffect(() => {\n    if (state.task_statuses.length > 0) {\n      const task_status = state.task_statuses.find(\n        item => item.slug === \"in-progress\"\n      );\n      task_status &&\n        dispatch({\n          type: ActionTypes.SET_IN_PROGRESS_TASK_STATUS_ID,\n          payload: { task_status_id: String(task_status.id) }\n        });\n    }\n  }, [dispatch, state.task_statuses, state.task_statuses.length]);\n  useEffect(() => {\n    messaging.onTokenRefresh(async () => {\n      const token = await messaging.getToken();\n      dispatch({\n        type: ActionTypes.SET_TOKEN,\n        payload: { token }\n      });\n    });\n    messaging.getToken().then(token => {\n      dispatch({\n        type: ActionTypes.SET_TOKEN,\n        payload: { token }\n      });\n    });\n  }, [dispatch]);\n  useEffect(() => {\n    Object.values(TimerMode).forEach(mode => {\n      Timers.where(\"mode\", \"==\", mode).onSnapshot(docs => {\n        dispatch({\n          type: ActionTypes.SET_POMODORO_LIVE_COUNT,\n          payload: { mode, value: docs.size }\n        });\n      });\n    });\n  }, [dispatch]);\n  return <RootContext.Provider value={value}>{children}</RootContext.Provider>;\n};\n","import React from \"react\";\nexport const preventDefault = (e: React.FormEvent) => {\n  e.preventDefault();\n};\nexport const stopPropagation = (e: React.FormEvent) => {\n  e.stopPropagation();\n};\n","import React, { useCallback, useContext } from \"react\";\nimport { Input, InputGroup, InputGroupAddon } from \"reactstrap\";\nimport { RootContext } from \"../Provider\";\nimport { ActionTypes } from \"../actions\";\nexport const ProjectSelector = () => {\n  const {\n    state: { pid, projects },\n    dispatch\n  } = useContext(RootContext);\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const id = e.target.value;\n      if (id) {\n        dispatch({ type: ActionTypes.SET_PID, payload: { pid: id } });\n      }\n    },\n    [dispatch]\n  );\n  return (\n    <InputGroup className=\"col\">\n      <InputGroupAddon addonType=\"prepend\">Project</InputGroupAddon>\n      <Input value={pid} type=\"select\" onChange={handleChange}>\n        <option value=\"\"> --- </option>\n        {projects.map(item => (\n          <option key={item.id} value={item.id}>\n            {item.name}\n          </option>\n        ))}\n      </Input>\n    </InputGroup>\n  );\n};\n","import React, { useCallback, useContext } from \"react\";\nimport { Input, InputGroup, InputGroupAddon } from \"reactstrap\";\nimport { RootContext } from \"../Provider\";\nimport { ActionTypes } from \"../actions\";\n\nexport const MilestoneSelector = () => {\n  const {\n    state: { milestones, mid },\n    dispatch\n  } = useContext(RootContext);\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const id = e.target.value;\n      if (id) {\n        dispatch({ type: ActionTypes.SET_MID, payload: { mid: id } });\n      }\n    },\n    [dispatch]\n  );\n\n  return (\n    <InputGroup className=\"col\">\n      <InputGroupAddon addonType=\"prepend\">Sprint</InputGroupAddon>\n      <Input type=\"select\" value={mid} onChange={handleChange}>\n        <option value=\"\"> --- </option>\n        {milestones.map(item => (\n          <option key={item.id} value={item.id}>\n            {item.name}\n          </option>\n        ))}\n      </Input>\n    </InputGroup>\n  );\n};\n","import React, { useCallback, useContext } from \"react\";\nimport { Input, InputGroup, InputGroupAddon } from \"reactstrap\";\nimport { RootContext } from \"../Provider\";\nimport { ActionTypes } from \"../actions\";\n\nexport const CustomValuesSelector = () => {\n  const {\n    state: { custom_attrs, custom_eid, custom_rid },\n    dispatch\n  } = useContext(RootContext);\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const id = e.target.value;\n      if (id) {\n        switch (e.target.name) {\n          case \"eid\": {\n            dispatch({\n              type: ActionTypes.SET_CUSTOM_EID,\n              payload: { custom_eid: id }\n            });\n            break;\n          }\n          case \"rid\": {\n            dispatch({\n              type: ActionTypes.SET_CUSTOM_RID,\n              payload: { custom_rid: id }\n            });\n            break;\n          }\n        }\n      }\n    },\n    [dispatch]\n  );\n  return (\n    <div className=\"row\">\n      <InputGroup className=\"col\">\n        <InputGroupAddon addonType=\"prepend\">Estimate</InputGroupAddon>\n        <Input\n          value={custom_eid}\n          name=\"eid\"\n          type=\"select\"\n          onChange={handleChange}\n        >\n          <option value=\"\"> --- </option>\n          {custom_attrs.map(item => (\n            <option key={item.id} value={item.id}>\n              {item.name}\n            </option>\n          ))}\n        </Input>\n      </InputGroup>\n      <InputGroup className=\"col\">\n        <InputGroupAddon addonType=\"prepend\">Result</InputGroupAddon>\n        <Input\n          value={custom_rid}\n          name=\"rid\"\n          type=\"select\"\n          onChange={handleChange}\n        >\n          <option> --- </option>\n          {custom_attrs.map(item => (\n            <option key={item.id} value={item.id}>\n              {item.name}\n            </option>\n          ))}\n        </Input>\n      </InputGroup>\n    </div>\n  );\n};\n","import React, { useEffect, useState, useContext, useCallback } from \"react\";\nimport classNames from \"classnames\";\nimport {\n  UncontrolledTooltip,\n  Table,\n  Card,\n  CardHeader,\n  Input,\n  Label,\n  FormGroup\n} from \"reactstrap\";\nimport { IMilestone } from \"../store\";\nimport { RootContext } from \"../Provider\";\nimport moment, { Moment } from \"moment\";\nimport biz from \"moment-business\";\nimport _ from \"lodash\";\nimport { ActionTypes } from \"../actions\";\nexport const isToday = (date: string) =>\n  moment()\n    .local()\n    .format(\"YYYY-MM-DD\") ===\n  moment(date)\n    .local()\n    .format(\"YYYY-MM-DD\");\n\nexport const dayNameFromIdx = (date: string, idx: number) => {\n  if (idx === -1) {\n    return \"\";\n  }\n  if (idx === 0) {\n    return \"Planning\";\n  }\n  return `Day ${idx}`;\n};\n\nexport const dayName = (date: string, biz_days: string[]) => {\n  const idx = biz_days.indexOf(date);\n  return dayNameFromIdx(date, idx);\n};\nconst getDays = (item: IMilestone) => {\n  const startM = moment(item.estimated_start).local();\n  const finishM = moment(item.estimated_finish).local();\n  const daysInSprint = finishM.diff(startM, \"days\");\n  return _.times(daysInSprint).map(i => startM.clone().add(i, \"days\"));\n};\nconst getDefaultBizDays = (items: Moment[]) =>\n  items\n    .filter(item => biz.isWeekDay(item))\n    .map(item => item.format(\"YYYY-MM-DD\"));\n\nconst weekClassName = (day: number) => ({\n  \"text-danger\": day === 0,\n  \"text-info\": day === 6\n});\n\ninterface DayItemProps {\n  item: Moment | null;\n  idx: number;\n}\nconst DayItem: React.FC<DayItemProps> = ({ item, idx }) => {\n  const {\n    state: { biz_days },\n    dispatch\n  } = useContext(RootContext);\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const biz_day = e.target.value;\n      if (e.target.checked) {\n        dispatch({ type: ActionTypes.ADD_BIZ_DAY, payload: { biz_day } });\n      } else {\n        dispatch({ type: ActionTypes.REMOVE_BIZ_DAY, payload: { biz_day } });\n      }\n    },\n    [dispatch]\n  );\n  if (!item) {\n    return (\n      <td>\n        <br />\n      </td>\n    );\n  }\n  const value = item.format(\"YYYY-MM-DD\");\n  const isPlanning = value === biz_days[0];\n  const eleId = `biz-day-${value}`;\n  const checked = _.includes(biz_days, value);\n  return (\n    <>\n      <td\n        className={classNames(weekClassName(idx), { \"table-info\": isPlanning })}\n        id={eleId}\n      >\n        {biz.isWeekDay(item) ? (\n          <FormGroup check inline>\n            <Label check>\n              <Input\n                onChange={handleChange}\n                disabled={biz.isWeekendDay(item)}\n                value={value}\n                type=\"checkbox\"\n                checked={checked}\n                className=\"form-check-input\"\n              />\n              {value}\n            </Label>\n          </FormGroup>\n        ) : (\n          <span>{value}</span>\n        )}\n      </td>\n      {checked ? (\n        <UncontrolledTooltip target={eleId}>\n          {dayName(value, biz_days)}\n        </UncontrolledTooltip>\n      ) : null}\n    </>\n  );\n};\n\nexport const DaysSelector: React.FC = () => {\n  const {\n    state: { biz_days, milestone },\n    dispatch\n  } = useContext(RootContext);\n  const [items, setItems] = useState<Moment[]>([]);\n  useEffect(() => {\n    if (milestone) {\n      const items = getDays(milestone);\n      setItems(items);\n      if (biz_days.length <= 1) {\n        dispatch({\n          type: ActionTypes.SET_BIZ_DAYS,\n          payload: { biz_days: getDefaultBizDays(items) }\n        });\n      }\n    }\n  }, [milestone, biz_days, dispatch]);\n  if (items.length === 0) {\n    return null;\n  } else {\n    const weekdays = _.chunk(\n      [..._.times(items[0].day(), () => null), ...items],\n      7\n    );\n    return (\n      <Card>\n        <CardHeader>Business Days</CardHeader>\n        <Table bordered>\n          <thead>\n            <tr>\n              {moment.weekdays().map((item, idx) => (\n                <th\n                  key={idx}\n                  className={classNames(\"text-center\", weekClassName(idx))}\n                >\n                  {item}\n                </th>\n              ))}\n            </tr>\n          </thead>\n          <tbody>\n            {weekdays.map((days, i) => (\n              <tr key={i}>\n                {days.map((item, idx) => (\n                  <DayItem idx={idx} key={idx} item={item} />\n                ))}\n              </tr>\n            ))}\n          </tbody>\n        </Table>\n      </Card>\n    );\n  }\n};\n","import React, { useCallback, useContext } from \"react\";\nimport _ from \"lodash\";\nimport { RootContext } from \"../Provider\";\nimport {\n  Card,\n  CardHeader,\n  CardBody,\n  Input,\n  FormGroup,\n  Label\n} from \"reactstrap\";\nimport { ITaskStatus } from \"../store\";\nimport { ActionTypes } from \"../actions\";\nconst StatusItem = ({ item }: { item: ITaskStatus }) => {\n  const {\n    state: { reject_task_status_ids },\n    dispatch\n  } = useContext(RootContext);\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const reject_task_status_id = e.target.value;\n      if (e.target.checked) {\n        dispatch({\n          type: ActionTypes.REMOVE_REJECT_TASK_STATUS_ID,\n          payload: { reject_task_status_id }\n        });\n      } else {\n        dispatch({\n          type: ActionTypes.ADD_REJECT_TASK_STATUS_ID,\n          payload: { reject_task_status_id }\n        });\n      }\n    },\n    [dispatch]\n  );\n  return (\n    <FormGroup check inline>\n      <Label check>\n        <Input\n          onChange={handleChange}\n          type=\"checkbox\"\n          value={item.id}\n          defaultChecked={!_.includes(reject_task_status_ids, String(item.id))}\n        />\n        {item.name}\n      </Label>\n    </FormGroup>\n  );\n};\nexport const TaskStatusSelector = () => {\n  const {\n    state: { task_statuses }\n  } = useContext(RootContext);\n  if (task_statuses.length === 0) {\n    return null;\n  }\n  return (\n    <Card>\n      <CardHeader>Task status</CardHeader>\n      <CardBody>\n        {task_statuses.map(item => (\n          <StatusItem key={item.id} item={item} />\n        ))}\n      </CardBody>\n    </Card>\n  );\n};\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSpinner } from \"@fortawesome/free-solid-svg-icons\";\nimport { InputGroupAddon, InputGroupText } from \"reactstrap\";\nexport const InputGroupSpinner: React.FC = () => {\n  return (\n    <InputGroupAddon addonType=\"append\">\n      <InputGroupText>\n        <FontAwesomeIcon icon={faSpinner} className=\"fa-pulse\" />\n      </InputGroupText>\n    </InputGroupAddon>\n  );\n};\n","import React, { useContext, useCallback, useState, useEffect } from \"react\";\nimport { Button, Form, Input, InputGroup, InputGroupAddon } from \"reactstrap\";\nimport { RootContext } from \"../Provider\";\nimport { InputGroupSpinner } from \"./InputGroupSpinner\";\nimport { ActionTypes } from \"../actions\";\nimport _ from \"lodash\";\nexport const TimelimitCloseTask = () => {\n  const {\n    state: { timelimit_close_task },\n    dispatch\n  } = useContext(RootContext);\n  const [datetime, setDatetime] = useState(\"\");\n  const [isFresh, setIsFresh] = useState(false);\n\n  const handleChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    setDatetime(e.target.value);\n  }, []);\n  const handleSubmit = useCallback(\n    (e: React.FormEvent) => {\n      datetime &&\n        dispatch({\n          type: ActionTypes.SET_TIMELIMIT_CLOSE_TASK,\n          payload: { timelimit_close_task: datetime },\n          meta: { customize: true }\n        });\n      e.preventDefault();\n    },\n    [datetime, dispatch]\n  );\n  useEffect(() => {\n    if (timelimit_close_task) {\n      setIsFresh(true);\n      _.defer(setIsFresh, false);\n    }\n  }, [timelimit_close_task]);\n  return (\n    <Form onSubmit={handleSubmit}>\n      <InputGroup>\n        <InputGroupAddon addonType=\"prepend\">\n          Timelimit for closing old tasks\n        </InputGroupAddon>\n        {isFresh ? (\n          <InputGroupSpinner />\n        ) : (\n          <Input\n            defaultValue={timelimit_close_task}\n            onChange={handleChange}\n            type=\"datetime-local\"\n          />\n        )}\n        <InputGroupAddon addonType=\"append\">\n          <Button>Set</Button>\n        </InputGroupAddon>\n      </InputGroup>\n    </Form>\n  );\n};\n","import React, { useContext, useState, useCallback, useMemo } from \"react\";\nimport _ from \"lodash\";\nimport classNames from \"classnames\";\nimport { RootContext } from \"../Provider\";\nimport {\n  Card,\n  CardHeader,\n  Collapse,\n  Form,\n  Input,\n  InputGroup,\n  InputGroupAddon,\n  Button,\n  Badge\n} from \"reactstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faChevronCircleRight,\n  faExternalLinkAlt\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { stopPropagation } from \"../util/handler\";\nimport { ProjectSelector } from \"./ProjectSelector\";\nimport { MilestoneSelector } from \"./MilestoneSelector\";\nimport { CustomValuesSelector } from \"./CustomValuesSelector\";\nimport { DaysSelector } from \"./DaysSelector\";\nimport { TaskStatusSelector } from \"./TaskStatusSelector\";\nimport { TimelimitCloseTask } from \"./TimelimitCloseTask\";\nimport { IMilestone } from \"../store\";\nimport styles from \"./Controller.module.css\";\nimport { ActionTypes } from \"../actions\";\nconst getTaskboardUrl = (url: string, milestone: IMilestone) => {\n  if (url && milestone.project_extra_info) {\n    return `${url}/project/${milestone.project_extra_info.slug}/taskboard/${\n      milestone.slug\n    }`;\n  } else {\n    return \"\";\n  }\n};\n\nconst getRange = (biz_days: string[]) => {\n  if (biz_days.length > 1) {\n    return `[${_.head(biz_days)} - ${_.last(biz_days)}]`;\n  } else {\n    return \"\";\n  }\n};\nexport const ToggleIcon = ({ isOpen }: { isOpen: boolean }) => {\n  const rotation = isOpen ? 90 : undefined;\n  return (\n    <FontAwesomeIcon\n      className=\"text-muted mr-2\"\n      rotation={rotation}\n      icon={faChevronCircleRight}\n    />\n  );\n};\nexport const Controller = () => {\n  const {\n    state: { url: stateUrl, isOpen, biz_days, milestone },\n    dispatch\n  } = useContext(RootContext);\n  const [url, setUrl] = useState(\"\");\n  const handleUrl = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      setUrl(e.target.value);\n    },\n    [setUrl]\n  );\n  const handleSubmit = useCallback(\n    (e: React.FormEvent) => {\n      if (url) {\n        dispatch({ type: ActionTypes.SET_URL, payload: { url } });\n      }\n      e.preventDefault();\n    },\n    [url, dispatch]\n  );\n  const toggle = useCallback(() => {\n    if (isOpen) {\n      dispatch({ type: ActionTypes.CLOSE_CONTROLLER });\n    } else {\n      dispatch({ type: ActionTypes.OPEN_CONTROLLER });\n    }\n  }, [dispatch, isOpen]);\n  const taskboardUrl = useMemo(() => getTaskboardUrl(stateUrl, milestone), [\n    milestone,\n    stateUrl\n  ]);\n  const spName = milestone.name;\n  const range = useMemo(() => getRange(biz_days), [biz_days]);\n  return (\n    <Card>\n      <CardHeader className={classNames(styles.header)} onClick={toggle}>\n        <ToggleIcon isOpen={isOpen} />\n        {spName && (\n          <Badge color=\"primary\" pill className=\"p-1 m-1\">\n            <span>{spName}</span>\n          </Badge>\n        )}\n        {range && (\n          <Badge className=\"p-1 m-1\">\n            <span>{range}</span>\n          </Badge>\n        )}\n        {taskboardUrl ? (\n          <a\n            target=\"_blank\"\n            onClick={stopPropagation}\n            className=\"float-right\"\n            href={taskboardUrl}\n            rel=\"noopener noreferrer\"\n          >\n            <FontAwesomeIcon className=\"mr-1\" icon={faExternalLinkAlt} />\n            Taskboard\n          </a>\n        ) : null}\n      </CardHeader>\n      <Collapse isOpen={isOpen}>\n        <Form onSubmit={handleSubmit}>\n          <InputGroup>\n            <InputGroupAddon addonType=\"prepend\">URL</InputGroupAddon>\n            <Input\n              defaultValue={stateUrl}\n              onChange={handleUrl}\n              placeholder=\"http://hostname:port\"\n            />\n            <InputGroupAddon addonType=\"append\">\n              <Button>Set</Button>\n            </InputGroupAddon>\n          </InputGroup>\n        </Form>\n        <div className=\"row\">\n          <ProjectSelector />\n          <MilestoneSelector />\n        </div>\n        <CustomValuesSelector />\n        <TimelimitCloseTask />\n        <DaysSelector />\n        <TaskStatusSelector />\n      </Collapse>\n    </Card>\n  );\n};\n","import React, { useContext, useCallback } from \"react\";\nimport { Button } from \"reactstrap\";\nimport { faSyncAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { RootContext } from \"../Provider\";\nimport { ActionTypes } from \"../actions\";\nexport const UpdateButton: React.FC = () => {\n  const { dispatch } = useContext(RootContext);\n  const updateData = useCallback(() => {\n    dispatch({ type: ActionTypes.UPDATE_DATA });\n  }, [dispatch]);\n  return (\n    <Button onClick={updateData}>\n      <FontAwesomeIcon icon={faSyncAlt} />\n    </Button>\n  );\n};\n","import React, { useCallback, useContext, useEffect, useState } from \"react\";\nimport {\n  Button,\n  Form,\n  InputGroup,\n  Input,\n  InputGroupAddon,\n  InputGroupText,\n  Spinner\n} from \"reactstrap\";\nimport { RootContext } from \"../Provider\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faUser,\n  faKey,\n  faSignInAlt,\n  faSignOutAlt\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { ActionTypes } from \"../actions\";\nimport { preventDefault } from \"../util/handler\";\nexport const SignInForm: React.FC = () => {\n  const {\n    state: { auth_token, auth_error, username: sign_in_username },\n    dispatch\n  } = useContext(RootContext);\n\n  const [username, setUsername] = useState<string>(\"\");\n  const [password, setPassword] = useState<string>(\"\");\n  const [loading, setLoading] = useState<boolean>(false);\n\n  const handleSubmit = useCallback(\n    (e: React.FormEvent) => {\n      if (username && password) {\n        setLoading(true);\n        dispatch({\n          type: ActionTypes.SIGN_IN,\n          payload: {\n            username,\n            password\n          }\n        });\n      }\n      e.preventDefault();\n    },\n    [password, username, dispatch, setLoading]\n  );\n  const handleUsername = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      setUsername(e.target.value);\n    },\n    [setUsername]\n  );\n  const handlePassword = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      setPassword(e.target.value);\n    },\n    [setPassword]\n  );\n  const handleSignOut = useCallback(() => {\n    dispatch({ type: ActionTypes.SIGN_OUT });\n  }, [dispatch]);\n  useEffect(() => {\n    if (auth_error || auth_token) {\n      setLoading(false);\n    }\n  }, [auth_error, auth_token, setLoading]);\n  return (\n    <>\n      {auth_token ? (\n        <Form inline onSubmit={preventDefault} className=\"mr-1\">\n          <InputGroup>\n            <InputGroupAddon addonType=\"prepend\">\n              <InputGroupText>\n                <FontAwesomeIcon icon={faUser} />\n              </InputGroupText>\n            </InputGroupAddon>\n            <InputGroupAddon\n              addonType=\"prepend\"\n              className=\"border border-success\"\n            >\n              <InputGroupText>{sign_in_username}</InputGroupText>\n            </InputGroupAddon>\n            <InputGroupAddon addonType=\"append\">\n              <Button title=\"Sign out\" onClick={handleSignOut} color=\"danger\">\n                <FontAwesomeIcon icon={faSignOutAlt} />\n              </Button>\n            </InputGroupAddon>\n          </InputGroup>\n        </Form>\n      ) : (\n        <Form inline onSubmit={handleSubmit} className=\"mr-1\">\n          <InputGroup>\n            <InputGroupAddon addonType=\"prepend\">\n              <InputGroupText>\n                <FontAwesomeIcon icon={faUser} />\n              </InputGroupText>\n            </InputGroupAddon>\n            <Input\n              disabled={loading}\n              onInput={handleUsername}\n              onChange={handleUsername}\n              name=\"username\"\n              placeholder=\"username\"\n              invalid={auth_error}\n            />\n          </InputGroup>\n          <InputGroup>\n            <InputGroupAddon addonType=\"prepend\">\n              <InputGroupText>\n                <FontAwesomeIcon icon={faKey} />\n              </InputGroupText>\n            </InputGroupAddon>\n            <Input\n              disabled={loading}\n              onInput={handlePassword}\n              onChange={handlePassword}\n              name=\"password\"\n              placeholder=\"password\"\n              type=\"password\"\n              invalid={auth_error}\n            />\n          </InputGroup>\n          <Button color=\"info\">\n            {loading ? (\n              <Spinner size=\"sm\" type=\"grow\" />\n            ) : (\n              <FontAwesomeIcon icon={faSignInAlt} />\n            )}\n          </Button>\n        </Form>\n      )}\n    </>\n  );\n};\n","import React, { useCallback, useContext, useState, useMemo } from \"react\";\nimport { Avatar, AvatarProps } from \"@rmwc/avatar\";\nimport { ICustomValueMap, IUser, ITask } from \"../store\";\nimport { RootContext } from \"../Provider\";\nimport classNames from \"classnames\";\nimport {\n  Table,\n  Navbar,\n  Form,\n  Input,\n  InputGroup,\n  InputGroupAddon,\n  InputGroupText,\n  Progress\n} from \"reactstrap\";\nimport _ from \"lodash\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faMedal,\n  faTimes,\n  faEquals,\n  faGrinBeam,\n  faGrinBeamSweat,\n  faDizzy,\n  faGhost,\n  faBurn,\n  faLevelDownAlt\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { UpdateButton } from \"./UpdateButton\";\nimport styles from \"./UserTasks.module.css\";\nimport moment from \"moment\";\nimport { Link } from \"react-router-dom\";\nimport { preventDefault } from \"../util/handler\";\nimport { SignInForm } from \"./SignInForm\";\n\ninterface ISortedUser extends IUser {\n  burn_down: number;\n}\nconst barStyles = [\"success\", \"warning\", \"info\", \"danger\"];\nconst getTasksByUser = (items: ITask[]) => _.groupBy(items, \"assigned_to\");\nexport const AvatarSquare: React.FC<AvatarProps> = props => {\n  const src = props.src || `http://i.pravatar.cc/80?u=${Math.random()}`;\n  return <Avatar {...props} src={src} square className=\"mr-1\" />;\n};\nexport const parseCustomVal = (val: string) =>\n  _.chain(val)\n    .replace(/[^0-9.+,]/g, \"\")\n    .replace(/[+]/g, \",\")\n    .split(\",\")\n    .compact()\n    .map(Number)\n    .sum()\n    .value();\n\nexport const getCustomVal = (\n  custom_value_map: ICustomValueMap,\n  task: ITask,\n  id: number\n) => {\n  if (custom_value_map.has(task)) {\n    return parseCustomVal(\n      _.get(custom_value_map.get(task), `attributes_values.${id}`, \"0\")\n    );\n  } else {\n    return 0;\n  }\n};\nexport const getSumCustomVal = (\n  custom_value_map: ICustomValueMap,\n  tasks: ITask[],\n  id: number\n) =>\n  _.chain(tasks)\n    .map(task => getCustomVal(custom_value_map, task, id))\n    .sum()\n    .value();\n\nconst getSumCustomValClosed = (\n  custom_value_map: ICustomValueMap,\n  tasks: ITask[],\n  id: number\n) =>\n  getSumCustomVal(custom_value_map, tasks.filter(item => item.is_closed), id);\nexport const getCustomValVersion = (\n  custon_value_map: ICustomValueMap,\n  task: ITask\n) => {\n  if (custon_value_map.has(task)) {\n    return _.get(custon_value_map.get(task), \"version\");\n  } else {\n    return undefined;\n  }\n};\nexport const isCustomValValid = (e: number, r: number, is_closed: boolean) =>\n  is_closed && r === e;\nexport const isCustomValInvalid = (e: number, r: number) => r > e;\nconst getGrade = (e: number, r: number): [string | null, number] => {\n  if (_.isNumber(e) && _.isNumber(r) && e > 0) {\n    const diff = Math.abs(e - r) / e;\n    if (diff <= 0.05) {\n      return [\"gold\", 3];\n    }\n    if (diff <= 0.1) {\n      return [\"silver\", 2];\n    }\n    if (diff < 0.2) {\n      return [\"bronze\", 1];\n    }\n  }\n  return [null, 0];\n};\nconst NameAndWorkLoad = ({\n  username,\n  val,\n  total,\n  imgSrc\n}: {\n  username: string;\n  val: number;\n  total: number;\n  imgSrc: string;\n}) => {\n  const [icon, tblCls] = useMemo(() => {\n    const diff = total > 0 ? (val - total) / total : 0;\n    if (diff < -0.1) {\n      return [faGrinBeam, \"\"];\n    } else if (diff <= 0.1) {\n      return [faGrinBeam, \"table-success\"];\n    } else if (diff <= 0.2) {\n      return [faGrinBeamSweat, \"table-warning\"];\n    } else {\n      return [faDizzy, \"table-danger\"];\n    }\n  }, [total, val]);\n\n  if (!val) {\n    return (\n      <>\n        <td>\n          <AvatarSquare src={imgSrc} /> {username}\n        </td>\n        <td />\n      </>\n    );\n  }\n  return (\n    <>\n      <td className={tblCls}>\n        <AvatarSquare src={imgSrc} /> {username}\n        <FontAwesomeIcon className=\"mx-1\" icon={icon} />\n      </td>\n      <td className={classNames(tblCls, \"text-right\")}>{val}</td>\n    </>\n  );\n};\n\nexport const Medal = ({ e, r }: { e: number; r: number }) => {\n  const [grade, num] = useMemo(() => getGrade(e, r), [e, r]);\n  if (grade) {\n    return (\n      <>\n        {_.times(num).map(i => (\n          <FontAwesomeIcon key={i} className={styles[grade]} icon={faMedal} />\n        ))}\n      </>\n    );\n  } else {\n    return null;\n  }\n};\ninterface IProgressTotal {\n  status: number;\n  total: number;\n  style?: string;\n  label: string;\n}\ninterface TaskProgressProps {\n  tasks: ITask[];\n}\n\nexport const TaskProgress: React.FC<TaskProgressProps> = ({ tasks }) => {\n  const {\n    state: { active_task_statuses, custom_eid, custom_value_map }\n  } = useContext(RootContext);\n  const eid = Number(custom_eid);\n  const items = useMemo(\n    () =>\n      _.chain(active_task_statuses)\n        .filter({ is_closed: true })\n        .reverse()\n        .map((item, idx) => ({\n          status: item.id,\n          total: getSumCustomVal(\n            custom_value_map,\n            _.filter(tasks, { status: item.id }),\n            eid\n          ),\n          style: barStyles[idx],\n          label: item.name\n        }))\n        .value(),\n    [active_task_statuses, custom_value_map, eid, tasks]\n  );\n\n  const allSum = useMemo(() => getSumCustomVal(custom_value_map, tasks, eid), [\n    custom_value_map,\n    eid,\n    tasks\n  ]);\n\n  return (\n    <Progress multi>\n      {items.map(item => (\n        <Progress\n          key={item.label}\n          bar\n          max={allSum}\n          value={item.total}\n          color={item.style}\n        >\n          {item.label}\n        </Progress>\n      ))}\n    </Progress>\n  );\n};\nconst UserRow = ({\n  item,\n  sums,\n  isPast,\n  total,\n  hpd,\n  tasks\n}: {\n  item: ISortedUser;\n  sums: { [key: string]: { e: number; r: number } };\n  isPast: boolean;\n  total: number;\n  hpd: number;\n  tasks: ITask[];\n}) => {\n  const [customTotal, setTotal] = useState<number>(0);\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      setTotal(Number(e.target.value) || 0);\n    },\n    [setTotal]\n  );\n  const sumItem = _.get(sums, item.id);\n  const e = _.get(sumItem, \"e\");\n  const r = _.get(sumItem, \"r\");\n  const margedTotal = customTotal || total;\n  const totalStr = String(margedTotal);\n  return (\n    <tr key={item.id}>\n      {total > 0 ? (\n        <>\n          <NameAndWorkLoad\n            username={item.username}\n            val={e}\n            total={margedTotal}\n            imgSrc={item.photo}\n          />\n          <td className=\"text-right\">{total}</td>\n          <td className={styles.custom_input_td}>\n            <Input\n              bsSize=\"sm\"\n              type=\"number\"\n              className=\"text-right\"\n              value={totalStr}\n              step={hpd}\n              onChange={handleChange}\n            />\n          </td>\n        </>\n      ) : (\n        <>\n          <td>\n            <AvatarSquare src={item.photo} />\n            <Link to={`/${item.id}`}>{item.username}</Link>\n          </td>\n          <td className=\"text-right\">{item.burn_down || \"\"}</td>\n          <td className=\"text-right\">{e}</td>\n          <td className=\"text-right\">{r}</td>\n          <td>{_.isNumber(e) && <TaskProgress tasks={tasks} />}</td>\n        </>\n      )}\n\n      {isPast ? (\n        <td>\n          <Medal e={e} r={r} />\n        </td>\n      ) : null}\n    </tr>\n  );\n};\nexport const getTaskSumByUser = (\n  items: ITask[],\n  custom_value_map: ICustomValueMap,\n  custom_eid: string,\n  custom_rid: string\n) => {\n  const eid = Number(custom_eid);\n  const rid = Number(custom_rid);\n  const tasksByUser = _.mapValues(getTasksByUser(items), tasks =>\n    _.chain(tasks)\n      .map(task => ({\n        e: getCustomVal(custom_value_map, task, eid),\n        r: getCustomVal(custom_value_map, task, rid)\n      }))\n      .reduce((result, val) => ({ e: result.e + val.e, r: result.r + val.r }), {\n        e: 0,\n        r: 0\n      })\n      .value()\n  );\n  return tasksByUser;\n};\nexport const UserTasks = () => {\n  const {\n    state: {\n      tasks,\n      custom_value_map,\n      custom_eid,\n      custom_rid,\n      biz_days,\n      custom_attr_e,\n      custom_attr_r,\n      project: { members }\n    }\n  } = useContext(RootContext);\n  const [hpd, setHpd] = useState<number>(0);\n  const activeLen = biz_days.length - 1;\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      setHpd(Number(e.target.value) || 0);\n    },\n    [setHpd]\n  );\n  const total = hpd * activeLen;\n  const taskSumByUser = useMemo(\n    () => getTaskSumByUser(tasks, custom_value_map, custom_eid, custom_rid),\n    [custom_eid, custom_rid, custom_value_map, tasks]\n  );\n  const notAssignedSum = _.get(taskSumByUser, \"null.e\", 0);\n  const isPlanning = total > 0;\n  const isPast = useMemo(\n    () =>\n      !isPlanning &&\n      moment().diff(\n        moment(_.last(biz_days))\n          .local()\n          .endOf(\"days\")\n      ) > 0,\n    [biz_days, isPlanning]\n  );\n  const tasksByUser = useMemo(() => getTasksByUser(tasks), [tasks]);\n  const sortedMembers = useMemo(\n    () =>\n      _.chain(members)\n        .map(member => ({\n          ...member,\n          burn_down: getSumCustomValClosed(\n            custom_value_map,\n            tasksByUser[member.id] || [],\n            Number(custom_eid)\n          )\n        }))\n        .sortBy(\"burn_down\")\n        .reverse()\n        .value(),\n    [custom_eid, custom_value_map, members, tasksByUser]\n  );\n  if (!custom_attr_e.id || !custom_attr_r.id || biz_days.length <= 1) {\n    return null;\n  }\n  return (\n    <>\n      <Navbar color=\"light\" light>\n        <Form inline={true} className=\"mr-auto\" onSubmit={preventDefault}>\n          <InputGroup>\n            <Input\n              type=\"number\"\n              step=\"0.5\"\n              placeholder=\"hours / day\"\n              className=\"text-right\"\n              onChange={handleChange}\n            />\n            <InputGroupAddon addonType=\"append\">\n              <InputGroupText>\n                <FontAwesomeIcon className=\"mx-2\" icon={faTimes} />\n                {activeLen} [days]\n                <FontAwesomeIcon className=\"mx-2\" icon={faEquals} />\n              </InputGroupText>\n              {total > 0 ? (\n                <>\n                  <InputGroupText className=\"bg-white\">\n                    <strong>{total}</strong>\n                  </InputGroupText>\n                  <InputGroupText>hours / sprint</InputGroupText>\n                </>\n              ) : null}\n            </InputGroupAddon>\n          </InputGroup>\n        </Form>\n        <SignInForm />\n        <UpdateButton />\n      </Navbar>\n      <Table bordered>\n        <thead>\n          <tr>\n            <th>Name</th>\n            {!isPlanning && (\n              <th className=\"text-danger\">\n                <FontAwesomeIcon icon={faLevelDownAlt} />\n                <FontAwesomeIcon icon={faBurn} />\n              </th>\n            )}\n            <th>{custom_attr_e.name}</th>\n            {isPlanning ? (\n              <>\n                <th>Total</th> <th>Custom</th>\n              </>\n            ) : (\n              <>\n                <th>{custom_attr_r.name}</th>\n                <th>Progress</th>\n              </>\n            )}\n            {isPast ? <th>Grade</th> : null}\n          </tr>\n        </thead>\n        <tbody>\n          {(sortedMembers || []).map(item => (\n            <UserRow\n              key={item.id}\n              isPast={isPast}\n              item={item}\n              sums={taskSumByUser}\n              total={total}\n              hpd={hpd}\n              tasks={tasksByUser[item.id] || []}\n            />\n          ))}\n          <tr key=\"null\">\n            <td className=\"text-danger\">\n              <FontAwesomeIcon icon={faGhost} className=\"ml-1 mr-2 fa-lg\" />\n              Not assigned\n            </td>\n            {!isPlanning && <td />}\n            <td className=\"text-right text-danger\">{notAssignedSum}</td>\n            <td />\n            <td />\n            {isPast ? <td /> : null}\n          </tr>\n        </tbody>\n      </Table>\n    </>\n  );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", null, React.createElement(\"path\", {\n  fill: \"currentColor\",\n  className: \"leaf\",\n  d: \"M115.343,123.839c0.814,1.256,3.343,2.605,7.23,4.014c7.586-1.069,14.943-1.586,21.885-1.586 c15.579,0,30.166,2.469,42.438,7.145c17.87-5.567,43.412-11.694,69.108-11.694c25.694,0,51.228,6.126,69.108,11.694 c12.262-4.676,26.848-7.145,42.42-7.145c7.001,0,14.418,0.518,22.063,1.604c3.471-1.341,6.296-2.699,8.325-4.031 c42.2-28.139,53.036-81.183,47.41-69.931c-4.218,8.418-60.309,35.581-100.004,52.222c14.68-17.769,31.677-44.134,43.438-80.309 c0,0-60.978,52.382-98.867,74.887c-11.974-20.816-33.892-86.589-33.892-86.589s-18.567,49.515-20.358,81.412 c-30.21-16.929-63.354-51.474-72.485-74.538c-10.752-27.189-13.78,53.545,15.436,89.396c-1.095,0.162-2.206,0.315-3.344,0.476 c-39.111-16.072-100.454-47.91-104.926-54.86C64.708,47.255,73.143,101.954,115.343,123.839z M290.531,107.181l0.747,0.857 l-3.098-0.746L290.531,107.181z\"\n}), React.createElement(\"path\", {\n  fill: \"currentColor\",\n  className: \"tomato\",\n  d: \"M485.83,198.564c-38.169-57.253-117.544-70.584-160.338-52.195c-18.27-5.906-43.872-12.27-69.49-12.27 c-25.619,0-51.228,6.364-69.499,12.27c-42.794-18.388-122.168-5.058-160.338,52.195c-64.136,96.203-18.711,299.318,229.836,299.318 C504.541,497.882,549.974,294.767,485.83,198.564z M101.172,262.929c-17.099,0-30.947-13.857-30.947-30.948 c0-17.09,13.848-30.947,30.947-30.947c17.082,0,30.947,13.857,30.947,30.947C132.119,249.071,118.253,262.929,101.172,262.929z\"\n}));\n\nvar SvgTomato = function SvgTomato(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"_x32_\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512 512\",\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgTomato, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/tomato.998f40c5.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport { ReactComponent as TomatoIcon } from \"../tomato.svg\";\nimport classNames from \"classnames\";\nimport styles from \"./Tomato.module.css\";\nexport enum TomatoState {\n  FRESH = \"fresh\",\n  STALE = \"stale\"\n}\ninterface TomatoProps {\n  state?: TomatoState;\n  bl?: boolean;\n  br?: boolean;\n}\nexport const Tomato: React.FC<TomatoProps> = ({ state, bl,br }) => {\n  return (\n    <TomatoIcon\n      className={classNames(\"fa-fw\", \"svg-inline--fa\", {\n        [styles.fresh]: state === TomatoState.FRESH,\n        [styles.stale]: state === TomatoState.STALE,\n        [styles.bl]: bl,\n        [styles.br]: br,\n      })}\n    />\n  );\n};\n","import React, {\n  useContext,\n  useState,\n  useCallback,\n  useEffect,\n  useMemo\n} from \"react\";\nimport {\n  Button,\n  ButtonGroup,\n  Card,\n  CardHeader,\n  Collapse,\n  Row,\n  Col,\n  Input,\n  InputGroup,\n  InputGroupAddon,\n  UncontrolledDropdown,\n  DropdownToggle,\n  DropdownItem,\n  DropdownMenu,\n  Spinner,\n  Form,\n  Popover,\n  PopoverHeader,\n  PopoverBody\n} from \"reactstrap\";\nimport classNames from \"classnames\";\nimport {\n  ITasksByUserStory,\n  ITask,\n  ITaskStatus,\n  IUserStoryExtraInfo,\n  IProjectExtraInfo,\n  IUser\n} from \"../store\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faExternalLinkAlt,\n  faCloudUploadAlt,\n  faEdit,\n  faHandPointRight,\n  faUserTimes,\n  faPlus,\n  faMinus,\n  faEraser,\n  faPause,\n  faPlay\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { InputGroupSpinner } from \"./InputGroupSpinner\";\nimport { RootContext } from \"../Provider\";\nimport { Tomato, TomatoState } from \"./Tomato\";\nimport {\n  getCustomVal,\n  getCustomValVersion,\n  isCustomValInvalid,\n  isCustomValValid,\n  Medal,\n  AvatarSquare,\n  getSumCustomVal\n} from \"./UserTasks\";\nimport { ToggleIcon } from \"./Controller\";\nimport ListGroup from \"reactstrap/lib/ListGroup\";\nimport ListGroupItem from \"reactstrap/lib/ListGroupItem\";\nimport styles from \"./UserStory.module.css\";\nimport { Switch } from \"@rmwc/switch\";\nimport InputGroupText from \"reactstrap/lib/InputGroupText\";\nimport { ActionTypes } from \"../actions\";\nimport _ from \"lodash\";\nimport { stopPropagation } from \"../util/handler\";\nimport { timer, TimerMode, TimerState } from \"../util/timer\";\nexport const convToTasksByUserStory = (tasks: ITask[]) =>\n  _.chain(tasks)\n    .groupBy(\"user_story\")\n    .map((items, key) => ({\n      user_story: Number(key),\n      user_story_extra_info: items[0].user_story_extra_info,\n      project_extra_info: items[0].project_extra_info,\n      tasks: items,\n      is_closed: items.every(task => task.is_closed)\n    }))\n    .value();\nconst needAuthMsg = (disabled: boolean | undefined) =>\n  disabled ? \"Need sign in!\" : \"\";\nconst UserStoryLink = ({\n  user_story_extra_info,\n  project_extra_info\n}: {\n  user_story_extra_info: IUserStoryExtraInfo;\n  project_extra_info: IProjectExtraInfo;\n}) => {\n  const {\n    state: { url }\n  } = useContext(RootContext);\n  const { slug } = project_extra_info;\n  const usName = user_story_extra_info\n    ? `#${user_story_extra_info.ref} ${user_story_extra_info.subject}`\n    : undefined;\n  const href = user_story_extra_info\n    ? `${url}/project/${slug}/us/${user_story_extra_info.ref}`\n    : \"#\";\n\n  if (usName) {\n    return (\n      <a\n        href={href}\n        onClick={stopPropagation}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        title={usName}\n      >\n        <FontAwesomeIcon icon={faExternalLinkAlt} /> {usName}\n      </a>\n    );\n  } else {\n    return <>(Unassigned tasks)</>;\n  }\n};\n\nconst TaskLink = ({ item }: { item: ITask }) => {\n  const {\n    state: { url }\n  } = useContext(RootContext);\n  const taskName = `#${item.ref} ${item.subject}`;\n  const href = `${url}/project/${item.project_extra_info.slug}/task/${item.ref}`;\n  return (\n    <a href={href} target=\"_blank\" rel=\"noopener noreferrer\" title={taskName}>\n      <FontAwesomeIcon icon={faExternalLinkAlt} /> {taskName}\n    </a>\n  );\n};\n\ninterface ToggleNumberInputProps {\n  label: string;\n  value: number;\n  onSubmit?: (value: number) => void;\n  onEditable?: (value: boolean) => void;\n  onValueChange?: (value: number) => void;\n  valid?: boolean;\n  invalid?: boolean;\n  disabled?: boolean;\n  loading?: boolean;\n  id?: string;\n  submitting?: boolean;\n}\nconst ToggleNumberInput: React.FC<ToggleNumberInputProps> = ({\n  label,\n  value,\n  onSubmit,\n  onEditable,\n  onValueChange,\n  valid,\n  invalid,\n  disabled,\n  loading,\n  id,\n  submitting\n}) => {\n  const [checked, setChecked] = useState(false);\n  const [val, setVal] = useState(\"\");\n  const [running, setRunning] = useState(false);\n  const onChange = useCallback(\n    (evt: React.FormEvent<any>) => {\n      setChecked(evt.currentTarget.checked);\n    },\n    [setChecked]\n  );\n  const handleVal = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const { value } = e.target;\n      setVal(value);\n      onValueChange && onValueChange(Number(value));\n    },\n    [onValueChange]\n  );\n  const handleSubmit = useCallback(\n    (e: React.FormEvent) => {\n      const num = Number(val);\n      if (checked && val !== \"\" && num >= 0 && onSubmit) {\n        onSubmit(num);\n        setChecked(false);\n        setRunning(true);\n      }\n      e.preventDefault();\n    },\n    [checked, val, onSubmit, setChecked]\n  );\n  useEffect(() => {\n    if (disabled) {\n      setChecked(false);\n    }\n  }, [setChecked, disabled]);\n  useEffect(() => {\n    setRunning(false);\n  }, [value]);\n  useEffect(() => {\n    onEditable && onEditable(checked);\n  }, [checked, onEditable]);\n  useEffect(() => {\n    if (submitting) {\n      setChecked(false);\n      setRunning(true);\n    }\n  }, [submitting]);\n  useEffect(() => {\n    if (loading) {\n      setChecked(false);\n    }\n  }, [loading]);\n  const title = needAuthMsg(disabled);\n  return (\n    <Form inline onSubmit={handleSubmit}>\n      <InputGroup className={styles.toggle_input}>\n        <InputGroupAddon addonType=\"prepend\">{label}</InputGroupAddon>\n        {loading ? (\n          <InputGroupSpinner />\n        ) : (\n          <>\n            {checked ? (\n              <>\n                <InputGroupAddon addonType=\"prepend\">\n                  <InputGroupText>{value}</InputGroupText>\n                </InputGroupAddon>\n                <InputGroupAddon addonType=\"prepend\">\n                  <InputGroupText>\n                    <FontAwesomeIcon\n                      className=\"text-info\"\n                      icon={faHandPointRight}\n                    />\n                  </InputGroupText>\n                </InputGroupAddon>\n                <Input\n                  onInput={handleVal}\n                  onChange={handleVal}\n                  defaultValue={String(value)}\n                  type=\"number\"\n                  step=\"0.5\"\n                  min=\"0\"\n                  id={id}\n                />\n                <InputGroupAddon addonType=\"append\">\n                  <Button color=\"info\">\n                    <FontAwesomeIcon icon={faCloudUploadAlt} />\n                  </Button>\n                </InputGroupAddon>\n              </>\n            ) : (\n              <>\n                {running ? (\n                  <InputGroupSpinner />\n                ) : (\n                  <Input\n                    valid={valid}\n                    invalid={invalid}\n                    readOnly\n                    value={value}\n                  />\n                )}\n              </>\n            )}\n            <InputGroupAddon addonType=\"append\" title={title}>\n              <Switch disabled={disabled} checked={checked} onChange={onChange}>\n                <FontAwesomeIcon className=\"text-info\" icon={faEdit} />\n              </Switch>\n            </InputGroupAddon>\n          </>\n        )}\n      </InputGroup>\n    </Form>\n  );\n};\ninterface GradeProps {\n  e: number;\n  r: number;\n}\nexport const Grade: React.FC<GradeProps> = ({ e, r }) => {\n  return (\n    <InputGroup className={styles.display_medal}>\n      <InputGroupAddon addonType=\"prepend\">Grade</InputGroupAddon>\n      <InputGroupText className={styles.medal}>\n        <Medal e={e} r={r} />\n      </InputGroupText>\n    </InputGroup>\n  );\n};\n\ninterface TaskStatusItemProps {\n  item: ITaskStatus;\n  task: ITask;\n  onSelect?: (id: number) => void;\n}\nconst TaskStatusItem: React.FC<TaskStatusItemProps> = ({\n  item,\n  task,\n  onSelect\n}) => {\n  const { dispatch } = useContext(RootContext);\n  const handleClick = useCallback(() => {\n    dispatch({\n      type: ActionTypes.PATCH_TASK,\n      payload: {\n        key: \"status\",\n        value: item.id,\n        id: task.id\n      }\n    });\n    onSelect && onSelect(item.id);\n  }, [dispatch, item.id, task.id, onSelect]);\n  return <DropdownItem onClick={handleClick}>{item.name}</DropdownItem>;\n};\ninterface TaskStatusSelectorProps {\n  task: ITask;\n  disabled?: boolean;\n}\nconst TaskStatusSelector: React.FC<TaskStatusSelectorProps> = ({\n  task,\n  disabled\n}) => {\n  const [loading, setLoading] = useState<boolean>(false);\n  const {\n    state: { active_task_statuses }\n  } = useContext(RootContext);\n  const handleSelect = useCallback(() => {\n    setLoading(true);\n  }, [setLoading]);\n  useEffect(() => {\n    setLoading(false);\n  }, [task.version, setLoading]);\n  return (\n    <>\n      {loading ? (\n        <Spinner type=\"grow\" color=\"info\" />\n      ) : (\n        <UncontrolledDropdown>\n          <DropdownToggle\n            title={needAuthMsg(disabled)}\n            disabled={disabled}\n            caret={!disabled}\n          >\n            {task.status_extra_info.name}\n          </DropdownToggle>\n          <DropdownMenu>\n            {active_task_statuses.map(item => (\n              <TaskStatusItem\n                item={item}\n                key={item.id}\n                task={task}\n                onSelect={handleSelect}\n              />\n            ))}\n          </DropdownMenu>\n        </UncontrolledDropdown>\n      )}\n    </>\n  );\n};\ninterface UserItemProps {\n  item: IUser;\n  onSelect?: (id: number) => void;\n}\nconst UserItem: React.FC<UserItemProps> = ({ item, onSelect }) => {\n  const handleClick = useCallback(() => {\n    onSelect && onSelect(item.id);\n  }, [item.id, onSelect]);\n  return (\n    <DropdownItem onClick={handleClick}>\n      <AvatarSquare src={item.photo} />\n      {item.username}\n    </DropdownItem>\n  );\n};\ninterface TaskUserSelectorProps {\n  task: ITask;\n  disabled?: boolean;\n}\nexport const TaskUserSelector: React.FC<TaskUserSelectorProps> = ({\n  task,\n  disabled\n}) => {\n  const [loading, setLoading] = useState<boolean>(false);\n  const {\n    state: {\n      project: { members }\n    },\n    dispatch\n  } = useContext(RootContext);\n  const handleSelect = useCallback(\n    (id: number) => {\n      setLoading(true);\n      dispatch({\n        type: ActionTypes.PATCH_TASK,\n        payload: {\n          key: \"assigned_to\",\n          value: id,\n          id: task.id\n        }\n      });\n    },\n    [dispatch, task.id]\n  );\n  useEffect(() => {\n    setLoading(false);\n  }, [task.version, setLoading]);\n  return (\n    <>\n      {loading ? (\n        <Spinner type=\"grow\" color=\"info\" />\n      ) : (\n        <UncontrolledDropdown>\n          <DropdownToggle\n            title={needAuthMsg(disabled)}\n            size=\"sm\"\n            disabled={disabled}\n            caret={!disabled}\n          >\n            Assign To\n          </DropdownToggle>\n          <DropdownMenu>\n            {(members || []).map(item => (\n              <UserItem item={item} onSelect={handleSelect} key={item.id} />\n            ))}\n          </DropdownMenu>\n        </UncontrolledDropdown>\n      )}\n    </>\n  );\n};\ninterface NotAssignedButtonProps {\n  task: ITask;\n}\nconst NotAssignedButton: React.FC<NotAssignedButtonProps> = ({ task }) => {\n  const [loading, setLoading] = useState<boolean>(false);\n  const { dispatch } = useContext(RootContext);\n  const handleClick = useCallback(() => {\n    setLoading(true);\n    dispatch({\n      type: ActionTypes.PATCH_TASK,\n      payload: {\n        key: \"assigned_to\",\n        value: null,\n        id: task.id\n      }\n    });\n  }, [dispatch, task.id]);\n  useEffect(() => {\n    setLoading(false);\n  }, [task.version, setLoading]);\n  return (\n    <>\n      {loading ? (\n        <Spinner type=\"grow\" color=\"danger\" />\n      ) : (\n        <Button\n          className=\"mr-2\"\n          title=\"Not assigned\"\n          color=\"danger\"\n          onClick={handleClick}\n        >\n          <FontAwesomeIcon icon={faUserTimes} />\n        </Button>\n      )}\n    </>\n  );\n};\ninterface CustomValueInputProps {\n  item: ITask;\n}\n\nconst EstimateInput: React.FC<CustomValueInputProps> = ({ item }) => {\n  const {\n    state: { custom_eid, custom_value_map, auth_token, custom_attr_e },\n    dispatch\n  } = useContext(RootContext);\n  const version = getCustomValVersion(custom_value_map, item);\n  const handleSubmit = useCallback(\n    (value: number) => {\n      if (version) {\n        dispatch({\n          type: ActionTypes.PATCH_CUSTOM_VALUE,\n          payload: {\n            id: item.id,\n            key: custom_eid,\n            value,\n            version\n          }\n        });\n      }\n    },\n    [dispatch, item.id, custom_eid, version]\n  );\n  const e = useMemo(\n    () => getCustomVal(custom_value_map, item, custom_attr_e.id),\n    [custom_attr_e.id, custom_value_map, item]\n  );\n  if (!custom_attr_e.id) {\n    return null;\n  }\n  const unEstimated = !e;\n  const disabled = auth_token === \"\";\n  const loading = !version;\n\n  return (\n    <ToggleNumberInput\n      onSubmit={handleSubmit}\n      label={custom_attr_e.name}\n      value={e}\n      invalid={unEstimated}\n      disabled={disabled}\n      loading={loading}\n    />\n  );\n};\nconst ResultInput: React.FC<CustomValueInputProps> = ({ item }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [used_number, set_used_number] = useState(0);\n  const [editable, setEditable] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  const {\n    state: {\n      custom_rid,\n      custom_value_map,\n      custom_attr_e,\n      custom_attr_r,\n      auth_token,\n      pomodoro_number,\n      pomodoro_used_number\n    },\n    dispatch\n  } = useContext(RootContext);\n  const version = getCustomValVersion(custom_value_map, item);\n  const handleToggle = useCallback(() => {\n    setIsOpen(!isOpen);\n  }, [isOpen]);\n  const handleSubmit = useCallback(\n    (value: number, used_number?: number) => {\n      const update_status = value > 0;\n      const use_pomodoro = used_number ? { used_number } : undefined;\n      if (version) {\n        dispatch({\n          type: ActionTypes.PATCH_CUSTOM_VALUE,\n          payload: {\n            id: item.id,\n            key: custom_rid,\n            value,\n            version\n          },\n          meta: { use_pomodoro, update_status }\n        });\n        setSubmitting(true);\n      }\n    },\n    [custom_rid, dispatch, item.id, version]\n  );\n  const handlePluse = useCallback(() => {\n    set_used_number(used_number + 1);\n  }, [used_number]);\n  const handleMinus = useCallback(() => {\n    set_used_number(used_number - 1);\n  }, [used_number]);\n\n  const handleReset = useCallback(() => {\n    set_used_number(0);\n  }, []);\n  const handleEditable = useCallback((val: boolean) => {\n    setEditable(val);\n  }, []);\n  const e = useMemo(\n    () => getCustomVal(custom_value_map, item, custom_attr_e.id),\n    [custom_attr_e.id, custom_value_map, item]\n  );\n  const r = useMemo(\n    () => getCustomVal(custom_value_map, item, custom_attr_r.id),\n    [custom_attr_r.id, custom_value_map, item]\n  );\n  const handleValueChange = useCallback(\n    (val: number) => {\n      setEditable(r === val);\n    },\n    [r]\n  );\n  const handleUsePomodoro = useCallback(() => {\n    const result = r + used_number / 2;\n    handleSubmit(result, used_number);\n    setIsOpen(false);\n    set_used_number(0);\n  }, [handleSubmit, r, used_number]);\n\n  const valid = useMemo(() => isCustomValValid(e, r, item.is_closed), [\n    e,\n    item.is_closed,\n    r\n  ]);\n  const invalid = useMemo(() => isCustomValInvalid(e, r), [e, r]);\n  useEffect(() => {\n    if (!version) {\n      setSubmitting(false);\n    }\n  }, [version]);\n  useEffect(() => {\n    set_used_number(0);\n  }, [pomodoro_used_number]);\n  if (!custom_attr_r.id) {\n    return null;\n  }\n\n  const disabled = auth_token === \"\";\n  const loading = !version;\n  const elId = `rusult-input-${item.id}`;\n  const usableNumber = pomodoro_number - pomodoro_used_number;\n  const submittable = used_number > 0;\n  const isMax = used_number === usableNumber;\n  return (\n    <>\n      <ToggleNumberInput\n        onSubmit={handleSubmit}\n        onEditable={handleEditable}\n        onValueChange={handleValueChange}\n        label={custom_attr_r.name}\n        value={r}\n        valid={valid}\n        invalid={invalid}\n        disabled={disabled}\n        loading={loading}\n        id={elId}\n        submitting={submitting}\n      />\n      {editable && usableNumber > 0 && (\n        <Popover\n          className={classNames(\"popover-wide\")}\n          target={elId}\n          placement=\"top\"\n          isOpen={isOpen}\n          toggle={handleToggle}\n          trigger=\"click hover\"\n        >\n          <PopoverHeader>Pomodoro</PopoverHeader>\n          <PopoverBody>\n            <ButtonGroup>\n              <Button disabled={isMax} onClick={handlePluse}>\n                <FontAwesomeIcon icon={faPlus} />\n              </Button>\n              <Button disabled={!submittable} onClick={handleMinus}>\n                <FontAwesomeIcon icon={faMinus} />\n              </Button>\n              <Button disabled className=\"bg-light\">\n                {_.times(usableNumber).map(i => (\n                  <Tomato\n                    key={i}\n                    state={\n                      i >= used_number ? TomatoState.FRESH : TomatoState.STALE\n                    }\n                  />\n                ))}\n              </Button>\n              <Button disabled={!submittable} onClick={handleUsePomodoro}>\n                <FontAwesomeIcon icon={faCloudUploadAlt} />\n              </Button>\n              <Button disabled={!submittable} onClick={handleReset}>\n                <FontAwesomeIcon icon={faEraser} />\n              </Button>\n            </ButtonGroup>\n          </PopoverBody>\n        </Popover>\n      )}\n    </>\n  );\n};\ninterface TaskItemProps {\n  item: ITask;\n}\n\nconst TaskTimerButton: React.FC<TaskItemProps> = ({ item }) => {\n  const {\n    state: { task_id, pomodoro_mode, pomodoro_state },\n    dispatch\n  } = useContext(RootContext);\n  const handleStart = useCallback(() => {\n    if (Number(task_id) !== item.id) {\n      dispatch({\n        type: ActionTypes.SET_TASK_ID,\n        payload: { task_id: String(item.id) }\n      });\n    }\n    if (pomodoro_state === TimerState.STOPPED) {\n      timer.changeMode(TimerMode.FOCUS, true);\n    } else {\n      if (pomodoro_mode === TimerMode.FOCUS) {\n        timer.resume();\n      } else {\n        timer.changeMode(TimerMode.FOCUS, true);\n      }\n    }\n  }, [dispatch, item.id, pomodoro_mode, pomodoro_state, task_id]);\n  const handlePause = useCallback(() => {\n    timer.pause();\n  }, []);\n  if (Number(task_id) === item.id) {\n    if (\n      pomodoro_mode === TimerMode.FOCUS &&\n      pomodoro_state === TimerState.RUNNING\n    ) {\n      return (\n        <Button\n          className={classNames(\"mr-2\", styles.task_timer_btn)}\n          color=\"danger\"\n          onClick={handlePause}\n        >\n          <FontAwesomeIcon icon={faPause} />\n          <Tomato />\n        </Button>\n      );\n    } else {\n      return (\n        <Button\n          onClick={handleStart}\n          color=\"primary\"\n          className={classNames(\"mr-2\", styles.task_timer_btn)}\n        >\n          <FontAwesomeIcon icon={faPlay} />\n          <Tomato />\n        </Button>\n      );\n    }\n  } else if (task_id === \"\") {\n    if (\n      pomodoro_mode === TimerMode.FOCUS &&\n      pomodoro_state !== TimerState.STOPPED\n    ) {\n      return null;\n    } else {\n      return (\n        <Button onClick={handleStart} color=\"primary\" className=\"mr-2\">\n          <FontAwesomeIcon icon={faPlay} />\n          <Tomato />\n        </Button>\n      );\n    }\n  } else {\n    return null;\n  }\n};\nexport const TaskItem: React.FC<TaskItemProps> = ({ item }) => {\n  const {\n    state: { custom_value_map, custom_attr_e, custom_attr_r, auth_token }\n  } = useContext(RootContext);\n  const version = useMemo(() => getCustomValVersion(custom_value_map, item), [\n    custom_value_map,\n    item\n  ]);\n  const e = useMemo(\n    () => getCustomVal(custom_value_map, item, custom_attr_e.id),\n    [custom_attr_e.id, custom_value_map, item]\n  );\n  const r = useMemo(\n    () => getCustomVal(custom_value_map, item, custom_attr_r.id),\n    [custom_attr_r.id, custom_value_map, item]\n  );\n  if (!custom_attr_e.id || !custom_attr_r.id) {\n    return null;\n  }\n\n  const disabled = auth_token === \"\";\n  const loading = !version;\n  const inactive = r === 0 && !item.is_closed && !disabled && !loading;\n  return (\n    <ListGroupItem\n      className={classNames({ [styles.is_closed]: item.is_closed })}\n    >\n      <div className=\"d-flex mb-1\">\n        <div className=\"mr-auto text-truncate\">\n          <TaskLink item={item} />\n        </div>\n        {inactive && <NotAssignedButton task={item} />}\n        <TaskTimerButton item={item} />\n        <TaskStatusSelector task={item} disabled={disabled} />\n      </div>\n      <Row>\n        <Col>\n          <EstimateInput item={item} />\n        </Col>\n        <Col>\n          <ResultInput item={item} />\n        </Col>\n        <Col>\n          <Grade e={e} r={r} />\n        </Col>\n      </Row>\n    </ListGroupItem>\n  );\n};\ninterface UserStoryProps {\n  item: ITasksByUserStory;\n}\nexport const UserStoryWithEstimate: React.FC<UserStoryProps> = ({ item }) => {\n  return (\n    <Card>\n      <CardHeader className=\"text-truncate\">\n        <UserStoryLink\n          user_story_extra_info={item.user_story_extra_info}\n          project_extra_info={item.project_extra_info}\n        />\n      </CardHeader>\n      <ListGroup>\n        {item.tasks.map(task => (\n          <ListGroupItem key={task.id} className=\"text-truncate\">\n            <div className=\"d-flex\">\n              <div className=\"mr-auto text-truncate\">\n                <TaskLink item={task} />\n              </div>\n              <EstimateInput item={task} />\n            </div>\n          </ListGroupItem>\n        ))}\n      </ListGroup>\n    </Card>\n  );\n};\nexport const UserStoryWithTaskUser: React.FC<UserStoryProps> = ({ item }) => {\n  const {\n    state: { auth_token }\n  } = useContext(RootContext);\n  const disabled = auth_token === \"\";\n  return (\n    <Card>\n      <CardHeader className=\"text-truncate\">\n        <UserStoryLink\n          user_story_extra_info={item.user_story_extra_info}\n          project_extra_info={item.project_extra_info}\n        />\n      </CardHeader>\n      <Collapse isOpen={true}>\n        <ListGroup>\n          {item.tasks.map(task => (\n            <ListGroupItem key={task.id}>\n              <div className=\"d-flex\">\n                <div className=\"mr-auto text-truncate\">\n                  <TaskLink item={task} />\n                </div>\n                <TaskUserSelector task={task} disabled={disabled} />\n              </div>\n            </ListGroupItem>\n          ))}\n        </ListGroup>\n      </Collapse>\n    </Card>\n  );\n};\n\nexport const UserStory: React.FC<UserStoryProps> = ({ item }) => {\n  const [isOpen, setIsOpen] = useState<boolean>(false);\n  const {\n    state: { custom_value_map, custom_attr_e, custom_attr_r }\n  } = useContext(RootContext);\n  const toggle = useCallback(() => {\n    setIsOpen(!isOpen);\n  }, [isOpen, setIsOpen]);\n  useEffect(() => {\n    setIsOpen(!item.is_closed);\n  }, [item.is_closed, setIsOpen]);\n  const e = useMemo(\n    () => getSumCustomVal(custom_value_map, item.tasks, custom_attr_e.id),\n    [custom_attr_e.id, custom_value_map, item.tasks]\n  );\n  const r = useMemo(\n    () => getSumCustomVal(custom_value_map, item.tasks, custom_attr_r.id),\n    [custom_attr_r.id, custom_value_map, item.tasks]\n  );\n  const loading = !custom_value_map.has(item.tasks[0]);\n  return (\n    <Card>\n      <CardHeader\n        className={classNames(styles.header, \"text-truncate\", {\n          \"alert-primary\": item.is_closed\n        })}\n        onClick={toggle}\n      >\n        <Row>\n          <Col xs={12} md={8} className=\"text-truncate\">\n            <ToggleIcon isOpen={isOpen} />\n            <UserStoryLink\n              user_story_extra_info={item.user_story_extra_info}\n              project_extra_info={item.project_extra_info}\n            />\n          </Col>\n          <Col xs={6} md={2}>\n            <InputGroup size=\"sm\" className=\"my-n1\">\n              <InputGroupAddon addonType=\"prepend\">\n                {custom_attr_e.name}\n              </InputGroupAddon>\n              {loading ? <InputGroupSpinner /> : <Input readOnly value={e} />}\n            </InputGroup>\n          </Col>\n          <Col xs={6} md={2}>\n            <InputGroup size=\"sm\" className=\"my-n1\">\n              <InputGroupAddon addonType=\"prepend\">\n                {custom_attr_r.name}\n              </InputGroupAddon>\n              {loading ? <InputGroupSpinner /> : <Input readOnly value={r} />}\n            </InputGroup>\n          </Col>\n        </Row>\n      </CardHeader>\n      <Collapse isOpen={isOpen}>\n        <ListGroup>\n          {item.tasks.map(task => (\n            <TaskItem item={task} key={task.id} />\n          ))}\n        </ListGroup>\n      </Collapse>\n    </Card>\n  );\n};\n","import React, { useContext, useMemo } from \"react\";\nimport { RootContext } from \"../Provider\";\nimport { Card, CardHeader, CardBody } from \"reactstrap\";\nimport { getCustomVal, getCustomValVersion } from \"./UserTasks\";\nimport { UserStoryWithEstimate, convToTasksByUserStory } from \"./UserStory\";\nexport const UnEstimatedTasks = () => {\n  const {\n    state: { tasks, custom_value_map, custom_eid }\n  } = useContext(RootContext);\n  const eid = useMemo(() => Number(custom_eid), [custom_eid]);\n  const items = useMemo(\n    () =>\n      eid\n        ? tasks.filter(\n            task =>\n              getCustomValVersion(custom_value_map, task) &&\n              getCustomVal(custom_value_map, task, eid) === 0\n          )\n        : [],\n    [custom_value_map, eid, tasks]\n  );\n  const userStories = useMemo(() => convToTasksByUserStory(items), [items]);\n  if (items.length === 0) {\n    return null;\n  } else {\n    return (\n      <Card>\n        <CardHeader className=\"alert-danger\">Un estimated tasks</CardHeader>\n        <CardBody>\n          {userStories.map(item => (\n            <UserStoryWithEstimate item={item} key={item.user_story} />\n          ))}\n        </CardBody>\n      </Card>\n    );\n  }\n};\n","import React, { useContext, useMemo } from \"react\";\nimport _ from \"lodash\";\nimport { RootContext } from \"../Provider\";\nimport { UserStoryWithTaskUser, convToTasksByUserStory } from \"./UserStory\";\nimport { Card, CardHeader, CardBody } from \"reactstrap\";\nexport const NotAssignedTasks: React.FC = () => {\n  const {\n    state: { tasks }\n  } = useContext(RootContext);\n  const items = useMemo(() => _.filter(tasks, { assigned_to: null }), [tasks]);\n  const userStories = useMemo(() => convToTasksByUserStory(items), [items]);\n  if (items.length === 0) {\n    return null;\n  } else {\n    return (\n      <Card>\n        <CardHeader className=\"alert-danger\">Not assigned tasks</CardHeader>\n        <CardBody>\n          {userStories.map(item => (\n            <UserStoryWithTaskUser item={item} key={item.user_story} />\n          ))}\n        </CardBody>\n      </Card>\n    );\n  }\n};\n","import React, { useContext, useState, useEffect, useCallback } from \"react\";\nimport {\n  ComposedChart,\n  Tooltip,\n  Line,\n  XAxis,\n  YAxis,\n  Bar,\n  Legend,\n  TooltipFormatter,\n  LegendValueFormatter\n} from \"recharts\";\nimport { ITask } from \"../store\";\nimport moment from \"moment\";\nimport { RootContext } from \"../Provider\";\nimport { dayNameFromIdx } from \"./DaysSelector\";\nimport { Card, CardHeader } from \"reactstrap\";\nimport { getSumCustomVal } from \"./UserTasks\";\ninterface IChartItem {\n  label: string;\n  estimate: number;\n  result?: number;\n  add?: number;\n}\n\nconst getTaskFinished = (tasks: ITask[], date: string) =>\n  tasks.filter(task =>\n    task.finished_date\n      ? moment(date)\n          .local()\n          .endOf(\"days\")\n          .diff(moment(task.finished_date)) > 0\n      : false\n  );\n\nconst getTaskCreatedToday = (tasks: ITask[], date: string) =>\n  tasks.filter(\n    task =>\n      moment(date)\n        .local()\n        .format(\"YYYY-MM-DD\") ===\n      moment(task.created_date)\n        .local()\n        .format(\"YYYY-MM-DD\")\n  );\n\nconst getTaskCreated = (tasks: ITask[], date: string) =>\n  tasks.filter(\n    task =>\n      moment(date)\n        .local()\n        .endOf(\"days\")\n        .diff(moment(task.created_date)) > 0\n  );\nexport const Chart = ({ tasks }: { tasks: ITask[] }) => {\n  const [data, setData] = useState<IChartItem[]>([]);\n  const {\n    state: {\n      biz_days,\n      custom_value_map,\n      custom_eid,\n      custom_attr_e,\n      custom_attr_r\n    }\n  } = useContext(RootContext);\n  useEffect(() => {\n    const days_len = biz_days.length;\n    const eid = Number(custom_eid);\n    if (days_len > 0 && tasks.length > 0 && custom_eid) {\n      const allTaskVal = getSumCustomVal(\n        custom_value_map,\n        getTaskCreated(tasks, biz_days[0]),\n        eid\n      );\n      const data = biz_days.map((day, idx) => {\n        const label = dayNameFromIdx(day, idx);\n        const estimate = allTaskVal - (allTaskVal * idx) / (days_len - 1);\n        if (\n          moment()\n            .local()\n            .endOf(\"days\")\n            .diff(moment(day)) > 0\n        ) {\n          const add =\n            idx === 0\n              ? 0\n              : getSumCustomVal(\n                  custom_value_map,\n                  getTaskCreatedToday(tasks, day),\n                  eid\n                );\n          const result =\n            getSumCustomVal(custom_value_map, getTaskCreated(tasks, day), eid) -\n            add -\n            getSumCustomVal(custom_value_map, getTaskFinished(tasks, day), eid);\n          return { label, estimate, result, add };\n        } else {\n          return { label, estimate };\n        }\n      });\n      setData(data);\n    } else {\n      setData([]);\n    }\n  }, [tasks, biz_days, custom_eid, custom_value_map, setData]);\n  const labelFormatter: LegendValueFormatter = useCallback(\n    (name: string) => {\n      switch (name) {\n        case \"estimate\": {\n          return custom_attr_e.name || name;\n        }\n        case \"result\": {\n          return custom_attr_r.name || name;\n        }\n        default: {\n          return name;\n        }\n      }\n    },\n    [custom_attr_e.name, custom_attr_r.name]\n  );\n  const formatter: TooltipFormatter = useCallback(\n    (value, name) => [Number(value).toFixed(1), labelFormatter(name)],\n    [labelFormatter]\n  );\n  if (data.length === 0) {\n    return null;\n  } else {\n    return (\n      <Card className=\"mb-2\">\n        <CardHeader>Burn down chart</CardHeader>\n        <ComposedChart data={data} width={800} height={400}>\n          <YAxis />\n          <XAxis dataKey=\"label\" />\n          <Tooltip formatter={formatter} />\n          <Legend formatter={labelFormatter} />\n          <Bar dataKey=\"result\" fill=\"#8884d8\" stackId=\"a\" />\n          <Bar dataKey=\"add\" fill=\"#82ca9d\" stackId=\"a\" />\n          <Line dataKey=\"estimate\" />\n        </ComposedChart>\n      </Card>\n    );\n  }\n};\n","import React, { useContext, useMemo } from \"react\";\nimport { Card, CardHeader, CardBody, CardTitle, Col, Row } from \"reactstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faAward,\n  faBurn,\n  faLevelDownAlt,\n  faEllipsisH,\n  faEllipsisV\n} from \"@fortawesome/free-solid-svg-icons\";\nimport _ from \"lodash\";\nimport classNames from \"classnames\";\nimport { Elevation } from \"@rmwc/elevation\";\nimport { AvatarSquare } from \"./UserTasks\";\nimport CountUp from \"react-countup\";\nimport { RootContext } from \"../Provider\";\nimport { getTaskSumByUser } from \"./UserTasks\";\nimport { IUser, ITask } from \"../store\";\nimport moment from \"moment\";\nimport styles from \"./Hero.module.css\";\ntype TRanking = 1 | 2 | 3;\ninterface IHeroUser extends IUser {\n  e: number;\n  r: number;\n  ranking?: TRanking;\n}\nconst rank = (result: IHeroUser[], hero: IHeroUser) => {\n  const prev = _.last(result);\n  let ranking: TRanking;\n  if (prev && prev.ranking) {\n    ranking =\n      prev.e === hero.e ? prev.ranking : ((prev.ranking + 1) as TRanking);\n  } else {\n    ranking = 1;\n  }\n  const rankedHero = { ...hero, ranking };\n  return [...result, rankedHero];\n};\nconst getTaskFinishedPrevious = (\n  tasks: ITask[],\n  date: string,\n  biz_days: string[]\n) => {\n  const idx = biz_days.indexOf(date);\n  if (idx < 1) {\n    return [];\n  } else {\n    const beginM = moment(biz_days[idx - 1])\n      .local()\n      .startOf(\"day\");\n    const endM = moment(date)\n      .local()\n      .startOf(\"day\");\n\n    return tasks.filter(task => {\n      const targetM = moment(task.finished_date);\n      return targetM.diff(beginM) >= 0 && targetM.diff(endM) < 0;\n    });\n  }\n};\ninterface HeroItemProps {\n  name: string;\n  src?: string;\n  value: number;\n  ranking: TRanking;\n}\nconst HeroItem: React.FC<HeroItemProps> = ({ name, src, value, ranking }) => {\n  return (\n    <Col sm={4}>\n      <Card>\n        <CardHeader\n          className={classNames(\n            { [styles.gold]: ranking === 1 },\n            { [styles.silver]: ranking === 2 },\n            { [styles.bronze]: ranking === 3 }\n          )}\n        >\n          <FontAwesomeIcon icon={faAward} /> Top {ranking}\n        </CardHeader>\n        <CardBody>\n          <CardTitle>\n            <h2 className=\"text-truncate\" title={name}>\n              <AvatarSquare src={src} size=\"xlarge\" />\n              {name}\n            </h2>\n          </CardTitle>\n          <Row>\n            <Col className=\"my-auto text-danger text-right\">\n              <h4>\n                <FontAwesomeIcon icon={faLevelDownAlt} />\n                <FontAwesomeIcon icon={faBurn} />\n              </h4>\n            </Col>\n            <Col>\n              <Elevation z={6}>\n                <h1 className=\"text-center\">\n                  <CountUp start={0} delay={3} duration={value} end={value} />\n                </h1>\n              </Elevation>\n            </Col>\n          </Row>\n        </CardBody>\n      </Card>\n    </Col>\n  );\n};\nexport const Hero: React.FC = () => {\n  const {\n    state: {\n      project: { members },\n      tasks,\n      custom_value_map,\n      custom_eid,\n      custom_rid,\n      biz_days\n    }\n  } = useContext(RootContext);\n  const today = moment().format(\"YYYY-MM-DD\");\n  const finishedTasks = useMemo(\n    () => getTaskFinishedPrevious(tasks, today, biz_days),\n    [biz_days, tasks, today]\n  );\n\n  const sumByUser = useMemo(\n    () =>\n      getTaskSumByUser(finishedTasks, custom_value_map, custom_eid, custom_rid),\n    [custom_eid, custom_rid, custom_value_map, finishedTasks]\n  );\n\n  const heros = useMemo(\n    () =>\n      _.chain(members)\n        .map(\n          member =>\n            [member, sumByUser[member.id] || { e: 0, r: 0 }] as [\n              IUser,\n              { e: number; r: number }\n            ]\n        )\n        .map(([member, { e, r }]) => ({ ...member, e, r }))\n        .sortBy(item => item.e + item.r / 100)\n        .reverse()\n        .filter(item => item.e > 0)\n        .take(3)\n        .reduce(rank, [])\n        .value() as Required<IHeroUser>[],\n    [members, sumByUser]\n  );\n\n  const idx = biz_days.indexOf(today) - 1;\n\n  if (idx < 1 || heros.length === 0) {\n    return null;\n  } else {\n    return (\n      <Card>\n        <CardHeader>Day {idx} Hero</CardHeader>\n        <CardBody>\n          <Row>\n            {heros.map(hero => (\n              <HeroItem\n                key={hero.id}\n                name={hero.username}\n                value={hero.e}\n                src={hero.photo}\n                ranking={hero.ranking}\n              />\n            ))}\n            {_.times(3 - heros.length).map(i => (\n              <Col key={i}>\n                <Card>\n                  <CardHeader>\n                    <FontAwesomeIcon icon={faEllipsisH} />\n                  </CardHeader>\n                  <CardBody className=\"text-center\">\n                    <FontAwesomeIcon icon={faEllipsisV} />\n                  </CardBody>\n                </Card>\n              </Col>\n            ))}\n          </Row>\n        </CardBody>\n      </Card>\n    );\n  }\n};\n","import React, { useContext } from \"react\";\nimport { UserTasks } from \"./UserTasks\";\nimport { UnEstimatedTasks } from \"./UnEstimatedTasks\";\nimport { NotAssignedTasks } from \"./NotAssignedTasks\";\nimport { Chart } from \"./Chart\";\nimport { Hero } from \"./Hero\";\nimport { RootContext } from \"../Provider\";\n\nexport const OverView: React.FC = () => {\n  const {\n    state: { tasks }\n  } = useContext(RootContext);\n  return (\n    <>\n      <UserTasks />\n      <Chart tasks={tasks} />\n      <Hero />\n      <NotAssignedTasks />\n      <br />\n      <UnEstimatedTasks />\n    </>\n  );\n};\n","import React, { useContext, useMemo } from \"react\";\nimport { RootContext } from \"../Provider\";\nimport {\n  Card,\n  CardHeader,\n  CardBody,\n  CardFooter,\n  Input,\n  InputGroup,\n  InputGroupAddon,\n  Row,\n  Col\n} from \"reactstrap\";\nimport classNames from \"classnames\";\nimport { InputGroupSpinner } from \"./InputGroupSpinner\";\nimport {\n  getCustomValVersion,\n  isCustomValInvalid,\n  isCustomValValid,\n  TaskProgress,\n  getSumCustomVal\n} from \"./UserTasks\";\nimport { UserStory, Grade, convToTasksByUserStory } from \"./UserStory\";\n\nexport const PersonalTasks: React.FC = () => {\n  const {\n    state: {\n      custom_value_map,\n      biz_days,\n      user_tasks,\n      custom_attr_e,\n      custom_attr_r\n    }\n  } = useContext(RootContext);\n  const userStories = useMemo(() => convToTasksByUserStory(user_tasks), [\n    user_tasks\n  ]);\n  const e = useMemo(\n    () => getSumCustomVal(custom_value_map, user_tasks, custom_attr_e.id),\n    [custom_attr_e.id, custom_value_map, user_tasks]\n  );\n  const r = useMemo(\n    () => getSumCustomVal(custom_value_map, user_tasks, custom_attr_r.id),\n    [custom_attr_r.id, custom_value_map, user_tasks]\n  );\n  const valid = useMemo(\n    () => isCustomValValid(e, r, userStories.every(item => item.is_closed)),\n    [e, r, userStories]\n  );\n  const invalid = useMemo(() => isCustomValInvalid(e, r), [e, r]);\n  const loading = useMemo(\n    () => user_tasks.some(item => !getCustomValVersion(custom_value_map, item)),\n    [custom_value_map, user_tasks]\n  );\n  if (!custom_attr_e.id || !custom_attr_r.id || biz_days.length <= 1) {\n    return null;\n  }\n\n  return (\n    <>\n      {userStories.map(item => (\n        <UserStory item={item} key={item.user_story} />\n      ))}\n      <Card>\n        <CardHeader className={classNames(\"alert-info\")}>Total</CardHeader>\n        <CardBody>\n          <Row>\n            <Col>\n              <InputGroup>\n                <InputGroupAddon addonType=\"prepend\">\n                  {custom_attr_e.name}\n                </InputGroupAddon>\n                {loading ? <InputGroupSpinner /> : <Input readOnly value={e} />}\n              </InputGroup>\n            </Col>\n            <Col>\n              <InputGroup>\n                <InputGroupAddon addonType=\"prepend\">\n                  {custom_attr_r.name}\n                </InputGroupAddon>\n                {loading ? (\n                  <InputGroupSpinner />\n                ) : (\n                  <Input readOnly value={r} invalid={invalid} valid={valid} />\n                )}\n              </InputGroup>\n            </Col>\n            <Col>\n              <Grade e={e} r={r} />\n            </Col>\n          </Row>\n        </CardBody>\n        <CardFooter>\n          <TaskProgress tasks={user_tasks} />\n        </CardFooter>\n      </Card>\n    </>\n  );\n};\n","import React, { useContext } from \"react\";\nimport { Card, CardHeader } from \"reactstrap\";\nimport { RootContext } from \"../Provider\";\n\nimport { AvatarSquare } from \"./UserTasks\";\nexport const PersonalInfo: React.FC = () => {\n  const {\n    state: { user }\n  } = useContext(RootContext);\n  return (\n    <Card>\n      {user && (\n        <CardHeader>\n          <AvatarSquare src={user.photo} size=\"xlarge\" />\n          {user.username} 's task\n        </CardHeader>\n      )}\n    </Card>\n  );\n};\n","import React, { useContext, useEffect } from \"react\";\nimport { Button, Alert, Navbar } from \"reactstrap\";\nimport { PersonalTasks } from \"./PersonalTasks\";\nimport { PersonalInfo } from \"./PersonalInfo\";\nimport { RootContext } from \"../Provider\";\nimport { Chart } from \"./Chart\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowCircleLeft } from \"@fortawesome/free-solid-svg-icons\";\nimport { Link } from \"react-router-dom\";\nimport { ActionTypes } from \"../actions\";\nimport { UpdateButton } from \"./UpdateButton\";\nimport useRouter from \"use-react-router\";\nimport { SignInForm } from \"./SignInForm\";\n\nexport const PersonalPage: React.FC = () => {\n  const {\n    state: { user, user_tasks, url },\n    dispatch\n  } = useContext(RootContext);\n  const {\n    match: {\n      params: { uid }\n    }\n  } = useRouter();\n  useEffect(() => {\n    if (uid && url) {\n      dispatch({ type: ActionTypes.FETCH_USER, payload: { uid } });\n    }\n    return () => {\n      dispatch({ type: ActionTypes.RESET_USER });\n    };\n  }, [dispatch, uid, url]);\n\n  return (\n    <>\n      <Navbar color=\"light\" light>\n        <Button tag={Link} to=\"/\" className=\"mr-auto\">\n          <FontAwesomeIcon icon={faArrowCircleLeft} /> Go back\n        </Button>\n        <SignInForm />\n        <UpdateButton />\n      </Navbar>\n      {user ? (\n        <>\n          <PersonalInfo />\n          <br />\n          <PersonalTasks />\n          <br />\n          <Chart tasks={user_tasks} />\n        </>\n      ) : (\n        <Alert color=\"danger\">This user does not exist.</Alert>\n      )}\n    </>\n  );\n};\n","import React, { useContext, useMemo, useCallback } from \"react\";\nimport moment from \"moment\";\nimport _ from \"lodash\";\nimport ReactTooltip from \"react-tooltip\";\nimport CalendarHeatmap from \"react-calendar-heatmap\";\nimport { Alert } from \"reactstrap\";\nimport { RootContext } from \"../Provider\";\ninterface IItem {\n  date: string;\n  value: number;\n  pureValue: number;\n}\nexport const PomodoroHeatmap: React.FC = () => {\n  const {\n    state: { pomodoro_daily_totals }\n  } = useContext(RootContext);\n  const values = useMemo(\n    () =>\n      pomodoro_daily_totals.map(item => ({\n        date: item.dateKey,\n        value: item.value,\n        pureValue: item.pureValue\n      })),\n    [pomodoro_daily_totals]\n  );\n  const maxVal = (_.maxBy(values, \"value\") || { value: 1 }).value;\n  const classForValue = useCallback(\n    (item: IItem) =>\n      item\n        ? `style-pomodoro color-pomodoro-${Math.ceil(\n            ((item.value || 0) * 8) / maxVal\n          )}`\n        : \"style-pomodoro empty-pomodoro\",\n    [maxVal]\n  );\n  const tooltipDataAttrs = useCallback(\n    (item: IItem) =>\n      item && item.date\n        ? {\n            \"data-tip\": `${item.value} Pomodoros on ${item.date}`\n          }\n        : null,\n    []\n  );\n  const startDate = useMemo(\n    () =>\n      moment()\n        .subtract(12, \"month\")\n        .toDate(),\n    []\n  );\n  if (pomodoro_daily_totals.length === 0) {\n    return <Alert color=\"warning\">No pomodoro history!</Alert>;\n  } else {\n    return (\n      <>\n        <CalendarHeatmap\n          startDate={startDate}\n          showWeekdayLabels={true}\n          values={values}\n          classForValue={classForValue}\n          tooltipDataAttrs={tooltipDataAttrs}\n        />\n        <ReactTooltip />\n      </>\n    );\n  }\n};\n","import React, { useContext, useState, useCallback, useEffect } from \"react\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport { LinearProgress } from \"@rmwc/linear-progress\";\nimport { ThemeProvider } from \"@rmwc/theme\";\nimport { Chip, ChipSet } from \"@rmwc/chip\";\nimport {\n  Card,\n  Collapse,\n  CardHeader,\n  CardBody,\n  Badge,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem,\n  InputGroup,\n  InputGroupAddon,\n  InputGroupText,\n  InputGroupButtonDropdown,\n  Button,\n  Spinner\n} from \"reactstrap\";\nimport styles from \"./Pomodoro.module.css\";\nimport classNames from \"classnames\";\nimport { Tomato, TomatoState } from \"./Tomato\";\nimport { ToggleIcon } from \"./Controller\";\nimport tomatoIcon from \"../tomato.png\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { stopPropagation } from \"../util/handler\";\nimport {\n  faCoffee,\n  faPlay,\n  faPause,\n  faRedo,\n  faCookie,\n  faTimes,\n  faTasks,\n  faUserFriends\n} from \"@fortawesome/free-solid-svg-icons\";\nimport {\n  TimerState,\n  TimerMode,\n  TimerDurationMin,\n  timer,\n  TimerEventListener\n} from \"../util/timer\";\nimport { RootContext } from \"../Provider\";\nimport { PomodoroHeatmap } from \"./PomodoroHeatmap\";\nimport { ActionTypes } from \"../sideEffectors\";\nimport { notify, NotifyClickHandler } from \"../util/notify\";\nconst Favico = require(\"favico.js-slevomat\");\nconst favico = new Favico({ type: \"rectangle\" });\nconst secToMin = (seconds: number) => Math.ceil(seconds / 60);\ninterface TimerIconProps {\n  mode: TimerMode;\n}\nconst toValueAndUnit = (seconds: number): [number, string] =>\n  seconds >= 60 ? [secToMin(seconds), \"min\"] : [Math.ceil(seconds), \"sec\"];\nconst TimerIcon: React.FC<TimerIconProps> = ({ mode }) => {\n  switch (mode) {\n    case TimerMode.SHORT: {\n      return (\n        <FontAwesomeIcon\n          className={classNames(\"fa-fw\", styles.short_break_icon)}\n          icon={faCoffee}\n        />\n      );\n    }\n    case TimerMode.LONG: {\n      return (\n        <FontAwesomeIcon\n          className={classNames(\"fa-fw\", styles.long_break_icon)}\n          icon={faCookie}\n        />\n      );\n    }\n    default: {\n      return <Tomato state={TomatoState.FRESH} />;\n    }\n  }\n};\ninterface TimerItemProps {\n  mode: TimerMode;\n  onSelect: (mode: TimerMode) => void;\n}\nconst TimerItem: React.FC<TimerItemProps> = ({ mode, onSelect }) => {\n  const handleClick = useCallback(() => {\n    onSelect(mode);\n  }, [mode, onSelect]);\n  return (\n    <DropdownItem onClick={handleClick}>\n      <TimerIcon mode={mode} />\n      {mode}\n    </DropdownItem>\n  );\n};\nconst clickToClose: NotifyClickHandler = closeFn => {\n  timer.start();\n  closeFn();\n};\nconst clickToWaitClose: NotifyClickHandler = closeFn => {\n  timer.start();\n  closeFn(2);\n};\nconst clickToChangeFocus: NotifyClickHandler = closeFn => {\n  timer.changeMode(TimerMode.FOCUS);\n  timer.start();\n  closeFn();\n};\nexport const Pomodoro: React.FC = () => {\n  const {\n    state: {\n      loaded,\n      pomodoro_date,\n      pomodoro_number,\n      pomodoro_used_number,\n      task_id,\n      task,\n      auth_token,\n      pomodoro_live_counts\n    },\n    dispatch\n  } = useContext(RootContext);\n  const [isOpen, setIsOpen] = useState(false);\n  const [isOpenDropdown, setIsOpenDropdown] = useState(false);\n  const [remaining, setRemaining] = useState(TimerDurationMin[TimerMode.FOCUS]);\n  const [state, setState] = useState<TimerState>(TimerState.STOPPED);\n  const [mode, setMode] = useState<TimerMode>(TimerMode.FOCUS);\n  const [progress, setProgress] = useState(0);\n  const [unit, setUnit] = useState(\"min\");\n\n  const toggleDropdown = useCallback(() => {\n    setIsOpenDropdown(prev => !prev);\n  }, []);\n  const handleSelect = useCallback((mode: TimerMode) => {\n    timer.changeMode(mode);\n  }, []);\n  const handleClick = useCallback(() => {\n    switch (state) {\n      case TimerState.RUNNING: {\n        timer.pause();\n        break;\n      }\n      case TimerState.PAUSED: {\n        timer.resume();\n        break;\n      }\n      case TimerState.STOPPED: {\n        timer.start();\n      }\n    }\n  }, [state]);\n  const setRemainingAndUnit = useCallback((seconds: number) => {\n    const [val, unit] = toValueAndUnit(seconds);\n    setRemaining(val);\n    setUnit(unit);\n  }, []);\n  const handleState: TimerEventListener = useCallback(\n    status => {\n      setState(status.state);\n      setRemainingAndUnit(status.remaining);\n    },\n    [setRemainingAndUnit]\n  );\n  const handleMode: TimerEventListener = useCallback(\n    status => {\n      setMode(status.mode);\n      setRemainingAndUnit(status.duration);\n    },\n    [setRemainingAndUnit]\n  );\n  const handleTick: TimerEventListener = useCallback(\n    status => {\n      setRemainingAndUnit(status.remaining);\n    },\n    [setRemainingAndUnit]\n  );\n  const handleExpire: TimerEventListener = useCallback(\n    (status, completedAt?: Date) => {\n      let num = pomodoro_number;\n      handleState(status);\n      if (status.mode === TimerMode.FOCUS) {\n        dispatch({\n          type: ActionTypes.ADD_POMODORO,\n          meta: {\n            completedAt: completedAt || new Date(),\n            duration: status.duration,\n            pure: status.checkpointElapsed === 0\n          }\n        });\n        num++;\n        if (num % 4 === 0) {\n          timer.changeMode(TimerMode.LONG);\n        } else {\n          timer.changeMode(TimerMode.SHORT);\n        }\n      } else {\n        timer.changeMode(TimerMode.FOCUS);\n      }\n      let title: string = \"\";\n      let body: string;\n      let option: string | undefined = undefined;\n      let onClick = clickToClose;\n      let onDblclick: NotifyClickHandler | undefined = undefined;\n      body = `${num} Pomodoros today!`;\n      switch (timer.mode) {\n        case TimerMode.FOCUS: {\n          title = \"Start Focusing.\";\n          break;\n        }\n        case TimerMode.SHORT: {\n          title = \"Take a Short Break.\";\n          option = \"Retry focusing if double click.\";\n          onClick = clickToWaitClose;\n          onDblclick = clickToChangeFocus;\n          break;\n        }\n        case TimerMode.LONG: {\n          title = \"Take a Long Break.\";\n          option = \"Retry focusing if double click.\";\n          onClick = clickToWaitClose;\n          onDblclick = clickToChangeFocus;\n          break;\n        }\n      }\n      notify({\n        title,\n        body,\n        option,\n        icon: tomatoIcon,\n        onClick,\n        onDblclick\n      });\n    },\n    [dispatch, handleState, pomodoro_number]\n  );\n  const handleRetry = useCallback(() => {\n    timer.changeMode(TimerMode.FOCUS, true);\n  }, []);\n  const handleRemove = useCallback(() => {\n    dispatch({ type: ActionTypes.RESET_TASK_ID });\n  }, [dispatch]);\n  const handleAddFBTimer: TimerEventListener = useCallback(\n    status => {\n      let title: string = \" from firebase!\";\n      let num = pomodoro_number;\n      const { remaining } = status;\n\n      if (status.mode === TimerMode.FOCUS) {\n        num++;\n        if (num % 4 === 0) {\n          title = `Take a Long Break ${title}`;\n        } else {\n          title = `Take a Short Break ${title}`;\n        }\n      } else {\n        title = `Start Focusing ${title}`;\n      }\n      const body = `${num} Pomodoros today!`;\n      dispatch({\n        type: ActionTypes.ADD_FB_TIMER,\n        payload: {\n          title,\n          body,\n          remaining\n        }\n      });\n    },\n    [dispatch, pomodoro_number]\n  );\n  const handleDelFBTimer: TimerEventListener = useCallback(\n    status => {\n      dispatch({\n        type: ActionTypes.DEL_FB_TIMER\n      });\n    },\n    [dispatch]\n  );\n\n  useEffect(() => {\n    timer.on(\"tick\", handleTick);\n    timer.on(\"start\", handleState);\n    timer.on(\"start\", handleAddFBTimer);\n    timer.on(\"stop\", handleState);\n    timer.on(\"stop\", handleDelFBTimer);\n    timer.on(\"pause\", handleState);\n    timer.on(\"pause\", handleDelFBTimer);\n    timer.on(\"resume\", handleState);\n    timer.on(\"resume\", handleAddFBTimer);\n    timer.on(\"expire\", handleExpire);\n    timer.on(\"change_mode\", handleMode);\n    return () => {\n      timer.removeAllListeners();\n    };\n  }, [\n    handleExpire,\n    handleMode,\n    handleState,\n    handleTick,\n    handleAddFBTimer,\n    handleDelFBTimer\n  ]);\n  useEffect(() => {\n    setMode(timer.mode);\n    setState(timer.state);\n    setRemainingAndUnit(timer.remaining);\n    if (timer.restoreExpired && auth_token) {\n      _.defer(() => {\n        handleExpire(timer.status);\n      });\n      timer.restoreExpired = false;\n    }\n  }, [auth_token, handleExpire, setRemainingAndUnit]);\n  useEffect(() => {\n    const today = moment().format(\"YYYY-MM-DD\");\n    if (loaded && pomodoro_date !== today) {\n      dispatch({\n        type: ActionTypes.RESET_POMODORO,\n        payload: { pomodoro_date: today }\n      });\n      timer.changeMode(TimerMode.FOCUS);\n    }\n  }, [dispatch, loaded, pomodoro_date]);\n  useEffect(() => {\n    if (Notification.permission !== \"denied\") {\n      Notification.requestPermission();\n    }\n  }, [dispatch]);\n  useEffect(() => {\n    let bgColor = mode === TimerMode.FOCUS ? \"#f00\" : \"#0f0\";\n    let textColor = mode === TimerMode.FOCUS ? \"#fff\" : \"#000\";\n    let animation = \"fade\";\n    if (unit === \"sec\") {\n      [bgColor, textColor] = [textColor, bgColor];\n      animation = \"none\";\n    }\n    switch (state) {\n      case TimerState.RUNNING: {\n        favico.badge(remaining, {\n          bgColor,\n          textColor,\n          animation\n        });\n        break;\n      }\n      case TimerState.PAUSED: {\n        favico.badge(\"-\", { bgColor, textColor, animation });\n        break;\n      }\n      default: {\n        favico.reset();\n      }\n    }\n  }, [mode, remaining, state, unit]);\n  useEffect(() => {\n    const duration = TimerDurationMin[mode] * 60;\n    const val = unit === \"min\" ? remaining * 60 : remaining;\n    setProgress(0.01 + ((duration - val) * 99) / duration / 100);\n  }, [mode, remaining, unit]);\n  useEffect(() => {\n    dispatch({\n      type: ActionTypes.SET_POMODORO_STATE,\n      payload: { pomodoro_state: state }\n    });\n  }, [dispatch, state]);\n  useEffect(() => {\n    dispatch({\n      type: ActionTypes.SET_POMODORO_MODE,\n      payload: { pomodoro_mode: mode }\n    });\n  }, [dispatch, mode]);\n  const handleToggle = useCallback(() => {\n    setIsOpen(prev => !prev);\n  }, []);\n  const buffer = state === TimerState.RUNNING ? progress : 1;\n  if (!auth_token) {\n    return null;\n  }\n  const taskTitle = task\n    ? `#${task.ref} ${_.get(\n        task,\n        \"user_story_extra_info.subject\",\n        \"Unassigned tasks\"\n      )} / ${task.subject}`\n    : \"\";\n  const taskSubject = task\n    ? _.truncate(`#${task.ref} ${task.subject}`, { length: 10 })\n    : \"\";\n  const displayLive = Object.values(pomodoro_live_counts).some(val => val > 0);\n  return (\n    <Card className={classNames(styles.top, \"sticky-top\")}>\n      <ThemeProvider\n        options={{ primary: mode === TimerMode.FOCUS ? \"red\" : \"green\" }}\n      >\n        <LinearProgress\n          buffer={buffer}\n          progress={progress}\n          closed={state === TimerState.STOPPED}\n        />\n      </ThemeProvider>\n      <CardHeader onClick={handleToggle}>\n        <div className=\"d-flex\">\n          <ToggleIcon isOpen={isOpen} />\n          <InputGroup className={classNames(styles.button_group, \"ml-1\")}>\n            <InputGroupButtonDropdown\n              onClick={stopPropagation}\n              isOpen={isOpenDropdown}\n              toggle={toggleDropdown}\n              addonType=\"prepend\"\n            >\n              <DropdownToggle color=\"light\" size=\"sm\" caret>\n                <TimerIcon mode={mode} />\n              </DropdownToggle>\n              <DropdownMenu>\n                <TimerItem mode={TimerMode.FOCUS} onSelect={handleSelect} />\n                <TimerItem mode={TimerMode.SHORT} onSelect={handleSelect} />\n                <TimerItem mode={TimerMode.LONG} onSelect={handleSelect} />\n              </DropdownMenu>\n            </InputGroupButtonDropdown>\n            <InputGroupAddon addonType=\"prepend\" onClick={stopPropagation}>\n              <InputGroupText\n                className={classNames(styles.fix_w, {\n                  \"font-weight-bold\": state === TimerState.RUNNING\n                })}\n              >\n                {remaining}\n              </InputGroupText>\n            </InputGroupAddon>\n            <InputGroupAddon onClick={stopPropagation} addonType=\"prepend\">\n              {unit}\n            </InputGroupAddon>\n            <InputGroupAddon addonType=\"append\" onClick={stopPropagation}>\n              {state === TimerState.RUNNING ? (\n                <Button color=\"danger\" onClick={handleClick}>\n                  <FontAwesomeIcon icon={faPause} />\n                </Button>\n              ) : (\n                <Button color=\"primary\" onClick={handleClick}>\n                  <FontAwesomeIcon icon={faPlay} />\n                </Button>\n              )}\n            </InputGroupAddon>\n\n            {mode !== TimerMode.FOCUS && (\n              <InputGroupAddon addonType=\"append\" onClick={stopPropagation}>\n                <Button\n                  color=\"light\"\n                  onClick={handleRetry}\n                  title=\"Retry focusing\"\n                >\n                  <FontAwesomeIcon icon={faRedo} className=\"text-muted\" />\n                  <Tomato state={TomatoState.STALE} />\n                </Button>\n              </InputGroupAddon>\n            )}\n\n            {task_id && (\n              <ChipSet\n                onClick={stopPropagation}\n                className={classNames(styles.chip_set)}\n              >\n                <Chip\n                  icon={<FontAwesomeIcon icon={faTasks} />}\n                  onRemove={handleRemove}\n                  title={taskTitle}\n                  trailingIcon={<FontAwesomeIcon icon={faTimes} />}\n                >\n                  {taskSubject ? taskSubject : <Spinner type=\"grow\" />}\n                </Chip>\n              </ChipSet>\n            )}\n            {displayLive && (\n              <div className=\"ml-1\">\n                <div\n                  className={classNames(\n                    \"w-100\",\n                    \"text-light\",\n                    \"bg-danger\",\n                    \"text-center\",\n                    \"rounded\",\n                    \"shadow\",\n                    \"font-weight-bold\",\n                    styles.live\n                  )}\n                >\n                  <FontAwesomeIcon\n                    className=\"ml-1\"\n                    icon={faUserFriends}\n                  ></FontAwesomeIcon>\n                  <span className=\"mx-1\">LIVE</span>\n                </div>\n                <div>\n                  {Object.entries(pomodoro_live_counts)\n                    .filter(([mode, val]) => val > 0)\n                    .map(([mode, val]) => (\n                      <Badge key={mode} color=\"light\" className=\"border\">\n                        <TimerIcon mode={mode as TimerMode} />:{val}\n                      </Badge>\n                    ))}\n                </div>\n              </div>\n            )}\n          </InputGroup>\n          {pomodoro_number > 0 && (\n            <Badge color=\"danger\" className=\"mr-2\">\n              <Tomato /> <FontAwesomeIcon icon={faTimes} /> {pomodoro_number}\n            </Badge>\n          )}\n          {_.times(pomodoro_number).map(i => (\n            <Tomato\n              key={i}\n              state={\n                i < pomodoro_used_number ? TomatoState.STALE : TomatoState.FRESH\n              }\n              br={i % 2 !== pomodoro_number % 2 && i < pomodoro_number - 1}\n            />\n          ))}\n        </div>\n      </CardHeader>\n      <Collapse isOpen={isOpen}>\n        <CardBody className=\"bg-grass\">\n          <PomodoroHeatmap />\n        </CardBody>\n      </Collapse>\n    </Card>\n  );\n};\n","import { toastr } from \"./toastr\";\ntype CloseFn = (sec?: number) => void;\nexport type NotifyClickHandler = (close: CloseFn) => void;\ninterface NotifyArgs {\n  title: string;\n  body: string;\n  option?: string;\n  icon: string;\n  onClick: NotifyClickHandler;\n  onDblclick?: NotifyClickHandler;\n}\nexport const notify = ({\n  title,\n  body,\n  option = \"\",\n  icon,\n  onClick,\n  onDblclick\n}: NotifyArgs) => {\n  let clickCount = 0;\n  let closeTimer: NodeJS.Timeout | null = null;\n  if (Notification.permission === \"granted\") {\n    const notification = new Notification(title, {\n      body: `${body} ${option}`,\n      icon\n    });\n    const closeFn = (sec = 0) => {\n      if (sec) {\n        closeTimer = setTimeout(() => {\n          notification.close();\n          closeTimer = null;\n        }, sec * 1000);\n      } else {\n        notification.close();\n      }\n    };\n    notification.onclick = () => {\n      if (clickCount === 0) {\n        clickCount++;\n        onClick(closeFn);\n      } else {\n        closeTimer && clearTimeout(closeTimer);\n        onDblclick && onDblclick(closeFn);\n      }\n    };\n  } else {\n    toastr.notify({ title, body, icon });\n  }\n};\n","import React from \"react\";\nimport \"./App.css\";\nimport { ToastContainer } from \"react-toastify\";\nimport { Controller } from \"./components/Controller\";\nimport { Provider } from \"./Provider\";\nimport { HashRouter, Route } from \"react-router-dom\";\nimport { OverView } from \"./components/OverView\";\nimport { PersonalPage } from \"./components/PersonalPage\";\nimport { Pomodoro } from \"./components/Pomodoro\";\nexport const App = () => (\n  <div className=\"container\">\n    <ToastContainer className=\"toast-top\" />\n    <HashRouter>\n      <Provider>\n        <Pomodoro />\n        <Controller />\n        <Route exact path=\"/\" component={OverView} />\n        <Route exact path=\"/:uid\" component={PersonalPage} />\n      </Provider>\n    </HashRouter>\n  </div>\n);\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"bootstrap-css-only/css/bootstrap.css\";\nimport \"@material/switch/dist/mdc.switch.css\";\nimport \"@material/form-field/dist/mdc.form-field.css\";\nimport \"@rmwc/avatar/avatar.css\";\nimport \"@material/chips/dist/mdc.chips.css\";\nimport \"@material/linear-progress/dist/mdc.linear-progress.css\";\nimport \"@material/elevation/dist/mdc.elevation.css\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"react-calendar-heatmap/dist/styles.css\";\nimport App from \"./App\";\n// import * as serviceWorker from \"./serviceWorker\";\nimport \"./util/firebase\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"UserStory_header__3lGFX\",\"toggle_input\":\"UserStory_toggle_input__ARa5d\",\"display_medal\":\"UserStory_display_medal__3t53K\",\"medal\":\"UserStory_medal__2Zi1f\",\"is_closed\":\"UserStory_is_closed__2ABQp\",\"task_timer_btn\":\"UserStory_task_timer_btn__9qes_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"top\":\"Pomodoro_top__2KPBC\",\"button_group\":\"Pomodoro_button_group__25QhE\",\"chip_set\":\"Pomodoro_chip_set__UcFix\",\"fix_w\":\"Pomodoro_fix_w__26hsb\",\"short_break_icon\":\"Pomodoro_short_break_icon__3e20m\",\"long_break_icon\":\"Pomodoro_long_break_icon__1CgqS\",\"live\":\"Pomodoro_live__293Tt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fresh\":\"Tomato_fresh__2s5Ye\",\"stale\":\"Tomato_stale__3bjHh\",\"bl\":\"Tomato_bl__2-LRw\",\"br\":\"Tomato_br__2_ZQQ\"};"],"sourceRoot":""}